var HC=Object.defineProperty;var F1=f=>{throw TypeError(f)};var FC=(f,t,i)=>t in f?HC(f,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):f[t]=i;var kt=(f,t,i)=>FC(f,typeof t!="symbol"?t+"":t,i),Qb=(f,t,i)=>t.has(f)||F1("Cannot "+i);var u=(f,t,i)=>(Qb(f,t,"read from private field"),i?i.call(f):t.get(f)),z=(f,t,i)=>t.has(f)?F1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(f):t.set(f,i),O=(f,t,i,a)=>(Qb(f,t,"write to private field"),a?a.call(f,i):t.set(f,i),i),N=(f,t,i)=>(Qb(f,t,"access private method"),i);var Ti=(f,t,i,a)=>({set _(r){O(f,t,r,i)},get _(){return u(f,t,a)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();function zy(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}function Qw(f){if(f.__esModule)return f;var t=f.default;if(typeof t=="function"){var i=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(f).forEach(function(a){var r=Object.getOwnPropertyDescriptor(f,a);Object.defineProperty(i,a,r.get?r:{enumerable:!0,get:function(){return f[a]}})}),i}var Zb={exports:{}},oh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function IC(){if(I1)return oh;I1=1;var f=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:f,type:a,key:c,ref:r!==void 0?r:null,props:o}}return oh.Fragment=t,oh.jsx=i,oh.jsxs=i,oh}var q1;function qC(){return q1||(q1=1,Zb.exports=IC()),Zb.exports}var ae=qC(),Jb={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function BC(){if(B1)return It;B1=1;var f=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function E(F,I,at){this.props=F,this.context=I,this.refs=x,this.updater=at||S}E.prototype.isReactComponent={},E.prototype.setState=function(F,I){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,I,"setState")},E.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function A(){}A.prototype=E.prototype;function _(F,I,at){this.props=F,this.context=I,this.refs=x,this.updater=at||S}var T=_.prototype=new A;T.constructor=_,w(T,E.prototype),T.isPureReactComponent=!0;var R=Array.isArray,D={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function M(F,I,at,ht,lt,yt){return at=yt.ref,{$$typeof:f,type:F,key:I,ref:at!==void 0?at:null,props:yt}}function L(F,I){return M(F.type,I,void 0,void 0,void 0,F.props)}function H(F){return typeof F=="object"&&F!==null&&F.$$typeof===f}function Y(F){var I={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(at){return I[at]})}var $=/\/+/g;function it(F,I){return typeof F=="object"&&F!==null&&F.key!=null?Y(""+F.key):I.toString(36)}function st(){}function tt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(st,st):(F.status="pending",F.then(function(I){F.status==="pending"&&(F.status="fulfilled",F.value=I)},function(I){F.status==="pending"&&(F.status="rejected",F.reason=I)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Z(F,I,at,ht,lt){var yt=typeof F;(yt==="undefined"||yt==="boolean")&&(F=null);var vt=!1;if(F===null)vt=!0;else switch(yt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(F.$$typeof){case f:case t:vt=!0;break;case m:return vt=F._init,Z(vt(F._payload),I,at,ht,lt)}}if(vt)return lt=lt(F),vt=ht===""?"."+it(F,0):ht,R(lt)?(at="",vt!=null&&(at=vt.replace($,"$&/")+"/"),Z(lt,I,at,"",function(dt){return dt})):lt!=null&&(H(lt)&&(lt=L(lt,at+(lt.key==null||F&&F.key===lt.key?"":(""+lt.key).replace($,"$&/")+"/")+vt)),I.push(lt)),1;vt=0;var At=ht===""?".":ht+":";if(R(F))for(var nt=0;nt<F.length;nt++)ht=F[nt],yt=At+it(ht,nt),vt+=Z(ht,I,at,yt,lt);else if(nt=v(F),typeof nt=="function")for(F=nt.call(F),nt=0;!(ht=F.next()).done;)ht=ht.value,yt=At+it(ht,nt++),vt+=Z(ht,I,at,yt,lt);else if(yt==="object"){if(typeof F.then=="function")return Z(tt(F),I,at,ht,lt);throw I=String(F),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return vt}function B(F,I,at){if(F==null)return F;var ht=[],lt=0;return Z(F,ht,"","",function(yt){return I.call(at,yt,lt++)}),ht}function G(F){if(F._status===-1){var I=F._result;I=I(),I.then(function(at){(F._status===0||F._status===-1)&&(F._status=1,F._result=at)},function(at){(F._status===0||F._status===-1)&&(F._status=2,F._result=at)}),F._status===-1&&(F._status=0,F._result=I)}if(F._status===1)return F._result.default;throw F._result}var K=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ot(){}return It.Children={map:B,forEach:function(F,I,at){B(F,function(){I.apply(this,arguments)},at)},count:function(F){var I=0;return B(F,function(){I++}),I},toArray:function(F){return B(F,function(I){return I})||[]},only:function(F){if(!H(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},It.Component=E,It.Fragment=i,It.Profiler=r,It.PureComponent=_,It.StrictMode=a,It.Suspense=d,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,It.act=function(){throw Error("act(...) is not supported in production builds of React.")},It.cache=function(F){return function(){return F.apply(null,arguments)}},It.cloneElement=function(F,I,at){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ht=w({},F.props),lt=F.key,yt=void 0;if(I!=null)for(vt in I.ref!==void 0&&(yt=void 0),I.key!==void 0&&(lt=""+I.key),I)!k.call(I,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&I.ref===void 0||(ht[vt]=I[vt]);var vt=arguments.length-2;if(vt===1)ht.children=at;else if(1<vt){for(var At=Array(vt),nt=0;nt<vt;nt++)At[nt]=arguments[nt+2];ht.children=At}return M(F.type,lt,void 0,void 0,yt,ht)},It.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},It.createElement=function(F,I,at){var ht,lt={},yt=null;if(I!=null)for(ht in I.key!==void 0&&(yt=""+I.key),I)k.call(I,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(lt[ht]=I[ht]);var vt=arguments.length-2;if(vt===1)lt.children=at;else if(1<vt){for(var At=Array(vt),nt=0;nt<vt;nt++)At[nt]=arguments[nt+2];lt.children=At}if(F&&F.defaultProps)for(ht in vt=F.defaultProps,vt)lt[ht]===void 0&&(lt[ht]=vt[ht]);return M(F,yt,void 0,void 0,null,lt)},It.createRef=function(){return{current:null}},It.forwardRef=function(F){return{$$typeof:h,render:F}},It.isValidElement=H,It.lazy=function(F){return{$$typeof:m,_payload:{_status:-1,_result:F},_init:G}},It.memo=function(F,I){return{$$typeof:g,type:F,compare:I===void 0?null:I}},It.startTransition=function(F){var I=D.T,at={};D.T=at;try{var ht=F(),lt=D.S;lt!==null&&lt(at,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(ot,K)}catch(yt){K(yt)}finally{D.T=I}},It.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},It.use=function(F){return D.H.use(F)},It.useActionState=function(F,I,at){return D.H.useActionState(F,I,at)},It.useCallback=function(F,I){return D.H.useCallback(F,I)},It.useContext=function(F){return D.H.useContext(F)},It.useDebugValue=function(){},It.useDeferredValue=function(F,I){return D.H.useDeferredValue(F,I)},It.useEffect=function(F,I){return D.H.useEffect(F,I)},It.useId=function(){return D.H.useId()},It.useImperativeHandle=function(F,I,at){return D.H.useImperativeHandle(F,I,at)},It.useInsertionEffect=function(F,I){return D.H.useInsertionEffect(F,I)},It.useLayoutEffect=function(F,I){return D.H.useLayoutEffect(F,I)},It.useMemo=function(F,I){return D.H.useMemo(F,I)},It.useOptimistic=function(F,I){return D.H.useOptimistic(F,I)},It.useReducer=function(F,I,at){return D.H.useReducer(F,I,at)},It.useRef=function(F){return D.H.useRef(F)},It.useState=function(F){return D.H.useState(F)},It.useSyncExternalStore=function(F,I,at){return D.H.useSyncExternalStore(F,I,at)},It.useTransition=function(){return D.H.useTransition()},It.version="19.0.0",It}var U1;function ki(){return U1||(U1=1,Jb.exports=BC()),Jb.exports}var En=ki();const t0=zy(En);var e0={exports:{}},lh={},i0={exports:{}},n0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function UC(){return j1||(j1=1,function(f){function t(B,G){var K=B.length;B.push(G);t:for(;0<K;){var ot=K-1>>>1,F=B[ot];if(0<r(F,G))B[ot]=G,B[K]=F,K=ot;else break t}}function i(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var G=B[0],K=B.pop();if(K!==G){B[0]=K;t:for(var ot=0,F=B.length,I=F>>>1;ot<I;){var at=2*(ot+1)-1,ht=B[at],lt=at+1,yt=B[lt];if(0>r(ht,K))lt<F&&0>r(yt,ht)?(B[ot]=yt,B[lt]=K,ot=lt):(B[ot]=ht,B[at]=K,ot=at);else if(lt<F&&0>r(yt,K))B[ot]=yt,B[lt]=K,ot=lt;else break t}}return G}function r(B,G){var K=B.sortIndex-G.sortIndex;return K!==0?K:B.id-G.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;f.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();f.unstable_now=function(){return c.now()-h}}var d=[],g=[],m=1,y=null,v=3,S=!1,w=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var G=i(g);G!==null;){if(G.callback===null)a(g);else if(G.startTime<=B)a(g),G.sortIndex=G.expirationTime,t(d,G);else break;G=i(g)}}function R(B){if(x=!1,T(B),!w)if(i(d)!==null)w=!0,tt();else{var G=i(g);G!==null&&Z(R,G.startTime-B)}}var D=!1,k=-1,M=5,L=-1;function H(){return!(f.unstable_now()-L<M)}function Y(){if(D){var B=f.unstable_now();L=B;var G=!0;try{t:{w=!1,x&&(x=!1,A(k),k=-1),S=!0;var K=v;try{e:{for(T(B),y=i(d);y!==null&&!(y.expirationTime>B&&H());){var ot=y.callback;if(typeof ot=="function"){y.callback=null,v=y.priorityLevel;var F=ot(y.expirationTime<=B);if(B=f.unstable_now(),typeof F=="function"){y.callback=F,T(B),G=!0;break e}y===i(d)&&a(d),T(B)}else a(d);y=i(d)}if(y!==null)G=!0;else{var I=i(g);I!==null&&Z(R,I.startTime-B),G=!1}}break t}finally{y=null,v=K,S=!1}G=void 0}}finally{G?$():D=!1}}}var $;if(typeof _=="function")$=function(){_(Y)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,st=it.port2;it.port1.onmessage=Y,$=function(){st.postMessage(null)}}else $=function(){E(Y,0)};function tt(){D||(D=!0,$())}function Z(B,G){k=E(function(){B(f.unstable_now())},G)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(B){B.callback=null},f.unstable_continueExecution=function(){w||S||(w=!0,tt())},f.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},f.unstable_getCurrentPriorityLevel=function(){return v},f.unstable_getFirstCallbackNode=function(){return i(d)},f.unstable_next=function(B){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var K=v;v=G;try{return B()}finally{v=K}},f.unstable_pauseExecution=function(){},f.unstable_requestPaint=function(){},f.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=v;v=B;try{return G()}finally{v=K}},f.unstable_scheduleCallback=function(B,G,K){var ot=f.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ot+K:ot):K=ot,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,B={id:m++,callback:G,priorityLevel:B,startTime:K,expirationTime:F,sortIndex:-1},K>ot?(B.sortIndex=K,t(g,B),i(d)===null&&B===i(g)&&(x?(A(k),k=-1):x=!0,Z(R,K-ot))):(B.sortIndex=F,t(d,B),w||S||(w=!0,tt())),B},f.unstable_shouldYield=H,f.unstable_wrapCallback=function(B){var G=v;return function(){var K=v;v=G;try{return B.apply(this,arguments)}finally{v=K}}}}(n0)),n0}var G1;function jC(){return G1||(G1=1,i0.exports=UC()),i0.exports}var a0={exports:{}},mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function GC(){if(X1)return mi;X1=1;var f=ki();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,g,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:g,implementation:m}}var c=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mi.createPortal=function(d,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(d,g,null,m)},mi.flushSync=function(d){var g=c.T,m=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=g,a.p=m,a.d.f()}},mi.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(d,g))},mi.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},mi.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var m=g.as,y=h(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?a.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):m==="script"&&a.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mi.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);a.d.M(d,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(d)},mi.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,y=h(m,g.crossOrigin);a.d.L(d,m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mi.preloadModule=function(d,g){if(typeof d=="string")if(g){var m=h(g.as,g.crossOrigin);a.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(d)},mi.requestFormReset=function(d){a.d.r(d)},mi.unstable_batchedUpdates=function(d,g){return d(g)},mi.useFormState=function(d,g,m){return c.H.useFormState(d,g,m)},mi.useFormStatus=function(){return c.H.useHostTransitionStatus()},mi.version="19.0.0",mi}var Y1;function Ng(){if(Y1)return a0.exports;Y1=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(t){console.error(t)}}return f(),a0.exports=GC(),a0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function XC(){if(V1)return lh;V1=1;var f=jC(),t=ki(),i=Ng();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function L(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case h:return"Portal";case m:return"Profiler";case g:return"StrictMode";case x:return"Suspense";case E:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case w:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return n=e.displayName||null,n!==null?n:L(e.type)||"Memo";case _:n=e._payload,e=e._init;try{return L(e(n))}catch{}}return null}var H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=Object.assign,$,it;function st(e){if($===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);$=n&&n[1]||"",it=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$+e+it}var tt=!1;function Z(e,n){if(!e||tt)return"";tt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(ct){var et=ct}Reflect.construct(e,[],gt)}else{try{gt.call()}catch(ct){et=ct}e.call(gt.prototype)}}else{try{throw Error()}catch(ct){et=ct}(gt=e())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(ct){if(ct&&et&&typeof ct.stack=="string")return[ct.stack,et.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=l.DetermineComponentFrameRoot(),C=b[0],P=b[1];if(C&&P){var q=C.split(`
`),V=P.split(`
`);for(p=l=0;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;for(;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;if(l===q.length||p===V.length)for(l=q.length-1,p=V.length-1;1<=l&&0<=p&&q[l]!==V[p];)p--;for(;1<=l&&0<=p;l--,p--)if(q[l]!==V[p]){if(l!==1||p!==1)do if(l--,p--,0>p||q[l]!==V[p]){var ut=`
`+q[l].replace(" at new "," at ");return e.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",e.displayName)),ut}while(1<=l&&0<=p);break}}}finally{tt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?st(s):""}function B(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return e=Z(e.type,!1),e;case 11:return e=Z(e.type.render,!1),e;case 1:return e=Z(e.type,!0),e;default:return""}}function G(e){try{var n="";do n+=B(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function K(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function ot(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function F(e){if(K(e)!==e)throw Error(a(188))}function I(e){var n=e.alternate;if(!n){if(n=K(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var p=s.return;if(p===null)break;var b=p.alternate;if(b===null){if(l=p.return,l!==null){s=l;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===s)return F(p),e;if(b===l)return F(p),n;b=b.sibling}throw Error(a(188))}if(s.return!==l.return)s=p,l=b;else{for(var C=!1,P=p.child;P;){if(P===s){C=!0,s=p,l=b;break}if(P===l){C=!0,l=p,s=b;break}P=P.sibling}if(!C){for(P=b.child;P;){if(P===s){C=!0,s=b,l=p;break}if(P===l){C=!0,l=b,s=p;break}P=P.sibling}if(!C)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function at(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=at(e),n!==null)return n;e=e.sibling}return null}var ht=Array.isArray,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},vt=[],At=-1;function nt(e){return{current:e}}function dt(e){0>At||(e.current=vt[At],vt[At]=null,At--)}function bt(e,n){At++,vt[At]=e.current,e.current=n}var U=nt(null),j=nt(null),W=nt(null),rt=nt(null);function mt(e,n){switch(bt(W,n),bt(j,e),bt(U,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?f1(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=f1(e),n=p1(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}dt(U),bt(U,n)}function pt(){dt(U),dt(j),dt(W)}function _t(e){e.memoizedState!==null&&bt(rt,e);var n=U.current,s=p1(n,e.type);n!==s&&(bt(j,e),bt(U,s))}function Et(e){j.current===e&&(dt(U),dt(j)),rt.current===e&&(dt(rt),ih._currentValue=yt)}var Tt=Object.prototype.hasOwnProperty,zt=f.unstable_scheduleCallback,ie=f.unstable_cancelCallback,le=f.unstable_shouldYield,fe=f.unstable_requestPaint,ve=f.unstable_now,xa=f.unstable_getCurrentPriorityLevel,Ta=f.unstable_ImmediatePriority,zr=f.unstable_UserBlockingPriority,Ni=f.unstable_NormalPriority,Xg=f.unstable_LowPriority,av=f.unstable_IdlePriority,vx=f.log,Ax=f.unstable_setDisableYieldValue,hu=null,Xi=null;function Sx(e){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(hu,e,void 0,(e.current.flags&128)===128)}catch{}}function Rs(e){if(typeof vx=="function"&&Ax(e),Xi&&typeof Xi.setStrictMode=="function")try{Xi.setStrictMode(hu,e)}catch{}}var Yi=Math.clz32?Math.clz32:Ex,wx=Math.log,_x=Math.LN2;function Ex(e){return e>>>=0,e===0?32:31-(wx(e)/_x|0)|0}var hf=128,df=4194304;function Pr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ff(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,p=e.suspendedLanes,b=e.pingedLanes,C=e.warmLanes;e=e.finishedLanes!==0;var P=s&134217727;return P!==0?(s=P&~p,s!==0?l=Pr(s):(b&=P,b!==0?l=Pr(b):e||(C=P&~C,C!==0&&(l=Pr(C))))):(P=s&~p,P!==0?l=Pr(P):b!==0?l=Pr(b):e||(C=s&~C,C!==0&&(l=Pr(C)))),l===0?0:n!==0&&n!==l&&(n&p)===0&&(p=l&-l,C=n&-n,p>=C||p===32&&(C&4194176)!==0)?n:l}function du(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xx(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sv(){var e=hf;return hf<<=1,(hf&4194176)===0&&(hf=128),e}function rv(){var e=df;return df<<=1,(df&62914560)===0&&(df=4194304),e}function Yg(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function fu(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tx(e,n,s,l,p,b){var C=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var P=e.entanglements,q=e.expirationTimes,V=e.hiddenUpdates;for(s=C&~s;0<s;){var ut=31-Yi(s),gt=1<<ut;P[ut]=0,q[ut]=-1;var et=V[ut];if(et!==null)for(V[ut]=null,ut=0;ut<et.length;ut++){var ct=et[ut];ct!==null&&(ct.lane&=-536870913)}s&=~gt}l!==0&&ov(e,l,0),b!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=b&~(C&~n))}function ov(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Yi(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194218}function lv(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Yi(s),p=1<<l;p&n|e[l]&n&&(e[l]|=n),s&=~p}}function cv(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uv(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:L1(e.type))}function Cx(e,n){var s=lt.p;try{return lt.p=e,n()}finally{lt.p=s}}var Ds=Math.random().toString(36).slice(2),pi="__reactFiber$"+Ds,zi="__reactProps$"+Ds,bl="__reactContainer$"+Ds,Vg="__reactEvents$"+Ds,Rx="__reactListeners$"+Ds,Dx="__reactHandles$"+Ds,hv="__reactResources$"+Ds,pu="__reactMarker$"+Ds;function Wg(e){delete e[pi],delete e[zi],delete e[Vg],delete e[Rx],delete e[Dx]}function Hr(e){var n=e[pi];if(n)return n;for(var s=e.parentNode;s;){if(n=s[bl]||s[pi]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=b1(e);e!==null;){if(s=e[pi])return s;e=b1(e)}return n}e=s,s=e.parentNode}return null}function yl(e){if(e=e[pi]||e[bl]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function gu(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function vl(e){var n=e[hv];return n||(n=e[hv]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qe(e){e[pu]=!0}var dv=new Set,fv={};function Fr(e,n){Al(e,n),Al(e+"Capture",n)}function Al(e,n){for(fv[e]=n,e=0;e<n.length;e++)dv.add(n[e])}var Ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pv={},gv={};function Ox(e){return Tt.call(gv,e)?!0:Tt.call(pv,e)?!1:Mx.test(e)?gv[e]=!0:(pv[e]=!0,!1)}function pf(e,n,s){if(Ox(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gf(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ra(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mv(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lx(e){var n=mv(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,b=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(C){l=""+C,b.call(this,C)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function mf(e){e._valueTracker||(e._valueTracker=Lx(e))}function bv(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=mv(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function bf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kx=/[\n"\\]/g;function dn(e){return e.replace(kx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $g(e,n,s,l,p,b,C,P){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+hn(n)):e.value!==""+hn(n)&&(e.value=""+hn(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?Kg(e,C,hn(n)):s!=null?Kg(e,C,hn(s)):l!=null&&e.removeAttribute("value"),p==null&&b!=null&&(e.defaultChecked=!!b),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?e.name=""+hn(P):e.removeAttribute("name")}function yv(e,n,s,l,p,b,C,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.type=b),n!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||n!=null))return;s=s!=null?""+hn(s):"",n=n!=null?""+hn(n):s,P||n===e.value||(e.value=n),e.defaultValue=n}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=P?e.checked:!!l,e.defaultChecked=!!l,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C)}function Kg(e,n,s){n==="number"&&bf(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Sl(e,n,s,l){if(e=e.options,n){n={};for(var p=0;p<s.length;p++)n["$"+s[p]]=!0;for(s=0;s<e.length;s++)p=n.hasOwnProperty("$"+e[s].value),e[s].selected!==p&&(e[s].selected=p),p&&l&&(e[s].defaultSelected=!0)}else{for(s=""+hn(s),n=null,p=0;p<e.length;p++){if(e[p].value===s){e[p].selected=!0,l&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function vv(e,n,s){if(n!=null&&(n=""+hn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+hn(s):""}function Av(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ht(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=hn(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function wl(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Nx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sv(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Nx.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wv(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var p in n)l=n[p],n.hasOwnProperty(p)&&s[p]!==l&&Sv(e,p,l)}else for(var b in n)n.hasOwnProperty(b)&&Sv(e,b,n[b])}function Qg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Px=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yf(e){return Px.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zg=null;function Jg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,El=null;function _v(e){var n=yl(e);if(n&&(e=n.stateNode)){var s=e[zi]||null;t:switch(e=n.stateNode,n.type){case"input":if($g(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var p=l[zi]||null;if(!p)throw Error(a(90));$g(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&bv(l)}break t;case"textarea":vv(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Sl(e,!!s.multiple,n,!1)}}}var tm=!1;function Ev(e,n,s){if(tm)return e(n,s);tm=!0;try{var l=e(n);return l}finally{if(tm=!1,(_l!==null||El!==null)&&(ep(),_l&&(n=_l,e=El,El=_l=null,_v(n),e)))for(n=0;n<e.length;n++)_v(e[n])}}function mu(e,n){var s=e.stateNode;if(s===null)return null;var l=s[zi]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var em=!1;if(Ca)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){em=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{em=!1}var Ms=null,im=null,vf=null;function xv(){if(vf)return vf;var e,n=im,s=n.length,l,p="value"in Ms?Ms.value:Ms.textContent,b=p.length;for(e=0;e<s&&n[e]===p[e];e++);var C=s-e;for(l=1;l<=C&&n[s-l]===p[b-l];l++);return vf=p.slice(e,1<l?1-l:void 0)}function Af(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sf(){return!0}function Tv(){return!1}function Pi(e){function n(s,l,p,b,C){this._reactName=s,this._targetInst=p,this.type=l,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(s=e[P],this[P]=s?s(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Sf:Tv,this.isPropagationStopped=Tv,this}return Y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),n}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=Pi(Ir),yu=Y({},Ir,{view:0,detail:0}),Hx=Pi(yu),nm,am,vu,_f=Y({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vu&&(vu&&e.type==="mousemove"?(nm=e.screenX-vu.screenX,am=e.screenY-vu.screenY):am=nm=0,vu=e),nm)},movementY:function(e){return"movementY"in e?e.movementY:am}}),Cv=Pi(_f),Fx=Y({},_f,{dataTransfer:0}),Ix=Pi(Fx),qx=Y({},yu,{relatedTarget:0}),sm=Pi(qx),Bx=Y({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Ux=Pi(Bx),jx=Y({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gx=Pi(jx),Xx=Y({},Ir,{data:0}),Rv=Pi(Xx),Yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $x(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Wx[e])?!!n[e]:!1}function rm(){return $x}var Kx=Y({},yu,{key:function(e){if(e.key){var n=Yx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Af(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rm,charCode:function(e){return e.type==="keypress"?Af(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Af(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qx=Pi(Kx),Zx=Y({},_f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=Pi(Zx),Jx=Y({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rm}),tT=Pi(Jx),eT=Y({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),iT=Pi(eT),nT=Y({},_f,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aT=Pi(nT),sT=Y({},Ir,{newState:0,oldState:0}),rT=Pi(sT),oT=[9,13,27,32],om=Ca&&"CompositionEvent"in window,Au=null;Ca&&"documentMode"in document&&(Au=document.documentMode);var lT=Ca&&"TextEvent"in window&&!Au,Mv=Ca&&(!om||Au&&8<Au&&11>=Au),Ov=" ",Lv=!1;function kv(e,n){switch(e){case"keyup":return oT.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xl=!1;function cT(e,n){switch(e){case"compositionend":return Nv(n);case"keypress":return n.which!==32?null:(Lv=!0,Ov);case"textInput":return e=n.data,e===Ov&&Lv?null:e;default:return null}}function uT(e,n){if(xl)return e==="compositionend"||!om&&kv(e,n)?(e=xv(),vf=im=Ms=null,xl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mv&&n.locale!=="ko"?null:n.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zv(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!hT[e.type]:n==="textarea"}function Pv(e,n,s,l){_l?El?El.push(l):El=[l]:_l=l,n=rp(n,"onChange"),0<n.length&&(s=new wf("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Su=null,wu=null;function dT(e){l1(e,0)}function Ef(e){var n=gu(e);if(bv(n))return e}function Hv(e,n){if(e==="change")return n}var Fv=!1;if(Ca){var lm;if(Ca){var cm="oninput"in document;if(!cm){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),cm=typeof Iv.oninput=="function"}lm=cm}else lm=!1;Fv=lm&&(!document.documentMode||9<document.documentMode)}function qv(){Su&&(Su.detachEvent("onpropertychange",Bv),wu=Su=null)}function Bv(e){if(e.propertyName==="value"&&Ef(wu)){var n=[];Pv(n,wu,e,Jg(e)),Ev(dT,n)}}function fT(e,n,s){e==="focusin"?(qv(),Su=n,wu=s,Su.attachEvent("onpropertychange",Bv)):e==="focusout"&&qv()}function pT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ef(wu)}function gT(e,n){if(e==="click")return Ef(n)}function mT(e,n){if(e==="input"||e==="change")return Ef(n)}function bT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Vi=typeof Object.is=="function"?Object.is:bT;function _u(e,n){if(Vi(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var p=s[l];if(!Tt.call(n,p)||!Vi(e[p],n[p]))return!1}return!0}function Uv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jv(e,n){var s=Uv(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Uv(s)}}function Gv(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gv(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Xv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bf(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=bf(e.document)}return n}function um(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function yT(e,n){var s=Xv(n);n=e.focusedElem;var l=e.selectionRange;if(s!==n&&n&&n.ownerDocument&&Gv(n.ownerDocument.documentElement,n)){if(l!==null&&um(n)){if(e=l.start,s=l.end,s===void 0&&(s=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(s,n.value.length);else if(s=(e=n.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var p=n.textContent.length,b=Math.min(l.start,p);l=l.end===void 0?b:Math.min(l.end,p),!s.extend&&b>l&&(p=l,l=b,b=p),p=jv(n,b);var C=jv(n,l);p&&C&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(e=e.createRange(),e.setStart(p.node,p.offset),s.removeAllRanges(),b>l?(s.addRange(e),s.extend(C.node,C.offset)):(e.setEnd(C.node,C.offset),s.addRange(e)))}}for(e=[],s=n;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)s=e[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var vT=Ca&&"documentMode"in document&&11>=document.documentMode,Tl=null,hm=null,Eu=null,dm=!1;function Yv(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;dm||Tl==null||Tl!==bf(l)||(l=Tl,"selectionStart"in l&&um(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Eu&&_u(Eu,l)||(Eu=l,l=rp(hm,"onSelect"),0<l.length&&(n=new wf("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Tl)))}function qr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Cl={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},fm={},Vv={};Ca&&(Vv=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Br(e){if(fm[e])return fm[e];if(!Cl[e])return e;var n=Cl[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Vv)return fm[e]=n[s];return e}var Wv=Br("animationend"),$v=Br("animationiteration"),Kv=Br("animationstart"),AT=Br("transitionrun"),ST=Br("transitionstart"),wT=Br("transitioncancel"),Qv=Br("transitionend"),Zv=new Map,Jv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(e,n){Zv.set(e,n),Fr(n,[e])}var fn=[],Rl=0,pm=0;function xf(){for(var e=Rl,n=pm=Rl=0;n<e;){var s=fn[n];fn[n++]=null;var l=fn[n];fn[n++]=null;var p=fn[n];fn[n++]=null;var b=fn[n];if(fn[n++]=null,l!==null&&p!==null){var C=l.pending;C===null?p.next=p:(p.next=C.next,C.next=p),l.pending=p}b!==0&&tA(s,p,b)}}function Tf(e,n,s,l){fn[Rl++]=e,fn[Rl++]=n,fn[Rl++]=s,fn[Rl++]=l,pm|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function gm(e,n,s,l){return Tf(e,n,s,l),Cf(e)}function Os(e,n){return Tf(e,null,null,n),Cf(e)}function tA(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var p=!1,b=e.return;b!==null;)b.childLanes|=s,l=b.alternate,l!==null&&(l.childLanes|=s),b.tag===22&&(e=b.stateNode,e===null||e._visibility&1||(p=!0)),e=b,b=b.return;p&&n!==null&&e.tag===3&&(b=e.stateNode,p=31-Yi(s),b=b.hiddenUpdates,e=b[p],e===null?b[p]=[n]:e.push(n),n.lane=s|536870912)}function Cf(e){if(50<$u)throw $u=0,Sb=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Dl={},eA=new WeakMap;function pn(e,n){if(typeof e=="object"&&e!==null){var s=eA.get(e);return s!==void 0?s:(n={value:e,source:n,stack:G(n)},eA.set(e,n),n)}return{value:e,source:n,stack:G(n)}}var Ml=[],Ol=0,Rf=null,Df=0,gn=[],mn=0,Ur=null,Da=1,Ma="";function jr(e,n){Ml[Ol++]=Df,Ml[Ol++]=Rf,Rf=e,Df=n}function iA(e,n,s){gn[mn++]=Da,gn[mn++]=Ma,gn[mn++]=Ur,Ur=e;var l=Da;e=Ma;var p=32-Yi(l)-1;l&=~(1<<p),s+=1;var b=32-Yi(n)+p;if(30<b){var C=p-p%5;b=(l&(1<<C)-1).toString(32),l>>=C,p-=C,Da=1<<32-Yi(n)+p|s<<p|l,Ma=b+e}else Da=1<<b|s<<p|l,Ma=e}function mm(e){e.return!==null&&(jr(e,1),iA(e,1,0))}function bm(e){for(;e===Rf;)Rf=Ml[--Ol],Ml[Ol]=null,Df=Ml[--Ol],Ml[Ol]=null;for(;e===Ur;)Ur=gn[--mn],gn[mn]=null,Ma=gn[--mn],gn[mn]=null,Da=gn[--mn],gn[mn]=null}var Ei=null,ri=null,Jt=!1,zn=null,ta=!1,ym=Error(a(519));function Gr(e){var n=Error(a(418,""));throw Cu(pn(n,e)),ym}function nA(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[pi]=e,n[zi]=l,s){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(s=0;s<Qu.length;s++)Wt(Qu[s],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":Wt("invalid",n),yv(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),mf(n);break;case"select":Wt("invalid",n);break;case"textarea":Wt("invalid",n),Av(n,l.value,l.defaultValue,l.children),mf(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||d1(n.textContent,s)?(l.popover!=null&&(Wt("beforetoggle",n),Wt("toggle",n)),l.onScroll!=null&&Wt("scroll",n),l.onScrollEnd!=null&&Wt("scrollend",n),l.onClick!=null&&(n.onclick=op),n=!0):n=!1,n||Gr(e)}function aA(e){for(Ei=e.return;Ei;)switch(Ei.tag){case 3:case 27:ta=!0;return;case 5:case 13:ta=!1;return;default:Ei=Ei.return}}function xu(e){if(e!==Ei)return!1;if(!Jt)return aA(e),Jt=!0,!1;var n=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Fb(e.type,e.memoizedProps)),s=!s),s&&(n=!0),n&&ri&&Gr(e),aA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ri=Hn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ri=null}}else ri=Ei?Hn(e.stateNode.nextSibling):null;return!0}function Tu(){ri=Ei=null,Jt=!1}function Cu(e){zn===null?zn=[e]:zn.push(e)}var Ru=Error(a(460)),sA=Error(a(474)),vm={then:function(){}};function rA(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mf(){}function oA(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Mf,Mf),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ru?Error(a(483)):e;default:if(typeof n.status=="string")n.then(Mf,Mf);else{if(e=ge,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=l}},function(l){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ru?Error(a(483)):e}throw Du=n,Ru}}var Du=null;function lA(){if(Du===null)throw Error(a(459));var e=Du;return Du=null,e}var Ll=null,Mu=0;function Of(e){var n=Mu;return Mu+=1,Ll===null&&(Ll=[]),oA(Ll,e,n)}function Ou(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lf(e,n){throw n.$$typeof===o?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cA(e){var n=e._init;return n(e._payload)}function uA(e){function n(Q,X){if(e){var J=Q.deletions;J===null?(Q.deletions=[X],Q.flags|=16):J.push(X)}}function s(Q,X){if(!e)return null;for(;X!==null;)n(Q,X),X=X.sibling;return null}function l(Q){for(var X=new Map;Q!==null;)Q.key!==null?X.set(Q.key,Q):X.set(Q.index,Q),Q=Q.sibling;return X}function p(Q,X){return Q=js(Q,X),Q.index=0,Q.sibling=null,Q}function b(Q,X,J){return Q.index=J,e?(J=Q.alternate,J!==null?(J=J.index,J<X?(Q.flags|=33554434,X):J):(Q.flags|=33554434,X)):(Q.flags|=1048576,X)}function C(Q){return e&&Q.alternate===null&&(Q.flags|=33554434),Q}function P(Q,X,J,ft){return X===null||X.tag!==6?(X=fb(J,Q.mode,ft),X.return=Q,X):(X=p(X,J),X.return=Q,X)}function q(Q,X,J,ft){var Ct=J.type;return Ct===d?ut(Q,X,J.props.children,ft,J.key):X!==null&&(X.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===_&&cA(Ct)===X.type)?(X=p(X,J.props),Ou(X,J),X.return=Q,X):(X=Kf(J.type,J.key,J.props,null,Q.mode,ft),Ou(X,J),X.return=Q,X)}function V(Q,X,J,ft){return X===null||X.tag!==4||X.stateNode.containerInfo!==J.containerInfo||X.stateNode.implementation!==J.implementation?(X=pb(J,Q.mode,ft),X.return=Q,X):(X=p(X,J.children||[]),X.return=Q,X)}function ut(Q,X,J,ft,Ct){return X===null||X.tag!==7?(X=to(J,Q.mode,ft,Ct),X.return=Q,X):(X=p(X,J),X.return=Q,X)}function gt(Q,X,J){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=fb(""+X,Q.mode,J),X.return=Q,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return J=Kf(X.type,X.key,X.props,null,Q.mode,J),Ou(J,X),J.return=Q,J;case h:return X=pb(X,Q.mode,J),X.return=Q,X;case _:var ft=X._init;return X=ft(X._payload),gt(Q,X,J)}if(ht(X)||k(X))return X=to(X,Q.mode,J,null),X.return=Q,X;if(typeof X.then=="function")return gt(Q,Of(X),J);if(X.$$typeof===S)return gt(Q,Vf(Q,X),J);Lf(Q,X)}return null}function et(Q,X,J,ft){var Ct=X!==null?X.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ct!==null?null:P(Q,X,""+J,ft);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return J.key===Ct?q(Q,X,J,ft):null;case h:return J.key===Ct?V(Q,X,J,ft):null;case _:return Ct=J._init,J=Ct(J._payload),et(Q,X,J,ft)}if(ht(J)||k(J))return Ct!==null?null:ut(Q,X,J,ft,null);if(typeof J.then=="function")return et(Q,X,Of(J),ft);if(J.$$typeof===S)return et(Q,X,Vf(Q,J),ft);Lf(Q,J)}return null}function ct(Q,X,J,ft,Ct){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Q=Q.get(J)||null,P(X,Q,""+ft,Ct);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case c:return Q=Q.get(ft.key===null?J:ft.key)||null,q(X,Q,ft,Ct);case h:return Q=Q.get(ft.key===null?J:ft.key)||null,V(X,Q,ft,Ct);case _:var Gt=ft._init;return ft=Gt(ft._payload),ct(Q,X,J,ft,Ct)}if(ht(ft)||k(ft))return Q=Q.get(J)||null,ut(X,Q,ft,Ct,null);if(typeof ft.then=="function")return ct(Q,X,J,Of(ft),Ct);if(ft.$$typeof===S)return ct(Q,X,J,Vf(X,ft),Ct);Lf(X,ft)}return null}function Rt(Q,X,J,ft){for(var Ct=null,Gt=null,Mt=X,Lt=X=0,ti=null;Mt!==null&&Lt<J.length;Lt++){Mt.index>Lt?(ti=Mt,Mt=null):ti=Mt.sibling;var te=et(Q,Mt,J[Lt],ft);if(te===null){Mt===null&&(Mt=ti);break}e&&Mt&&te.alternate===null&&n(Q,Mt),X=b(te,X,Lt),Gt===null?Ct=te:Gt.sibling=te,Gt=te,Mt=ti}if(Lt===J.length)return s(Q,Mt),Jt&&jr(Q,Lt),Ct;if(Mt===null){for(;Lt<J.length;Lt++)Mt=gt(Q,J[Lt],ft),Mt!==null&&(X=b(Mt,X,Lt),Gt===null?Ct=Mt:Gt.sibling=Mt,Gt=Mt);return Jt&&jr(Q,Lt),Ct}for(Mt=l(Mt);Lt<J.length;Lt++)ti=ct(Mt,Q,Lt,J[Lt],ft),ti!==null&&(e&&ti.alternate!==null&&Mt.delete(ti.key===null?Lt:ti.key),X=b(ti,X,Lt),Gt===null?Ct=ti:Gt.sibling=ti,Gt=ti);return e&&Mt.forEach(function(Ks){return n(Q,Ks)}),Jt&&jr(Q,Lt),Ct}function Pt(Q,X,J,ft){if(J==null)throw Error(a(151));for(var Ct=null,Gt=null,Mt=X,Lt=X=0,ti=null,te=J.next();Mt!==null&&!te.done;Lt++,te=J.next()){Mt.index>Lt?(ti=Mt,Mt=null):ti=Mt.sibling;var Ks=et(Q,Mt,te.value,ft);if(Ks===null){Mt===null&&(Mt=ti);break}e&&Mt&&Ks.alternate===null&&n(Q,Mt),X=b(Ks,X,Lt),Gt===null?Ct=Ks:Gt.sibling=Ks,Gt=Ks,Mt=ti}if(te.done)return s(Q,Mt),Jt&&jr(Q,Lt),Ct;if(Mt===null){for(;!te.done;Lt++,te=J.next())te=gt(Q,te.value,ft),te!==null&&(X=b(te,X,Lt),Gt===null?Ct=te:Gt.sibling=te,Gt=te);return Jt&&jr(Q,Lt),Ct}for(Mt=l(Mt);!te.done;Lt++,te=J.next())te=ct(Mt,Q,Lt,te.value,ft),te!==null&&(e&&te.alternate!==null&&Mt.delete(te.key===null?Lt:te.key),X=b(te,X,Lt),Gt===null?Ct=te:Gt.sibling=te,Gt=te);return e&&Mt.forEach(function(PC){return n(Q,PC)}),Jt&&jr(Q,Lt),Ct}function De(Q,X,J,ft){if(typeof J=="object"&&J!==null&&J.type===d&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case c:t:{for(var Ct=J.key;X!==null;){if(X.key===Ct){if(Ct=J.type,Ct===d){if(X.tag===7){s(Q,X.sibling),ft=p(X,J.props.children),ft.return=Q,Q=ft;break t}}else if(X.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===_&&cA(Ct)===X.type){s(Q,X.sibling),ft=p(X,J.props),Ou(ft,J),ft.return=Q,Q=ft;break t}s(Q,X);break}else n(Q,X);X=X.sibling}J.type===d?(ft=to(J.props.children,Q.mode,ft,J.key),ft.return=Q,Q=ft):(ft=Kf(J.type,J.key,J.props,null,Q.mode,ft),Ou(ft,J),ft.return=Q,Q=ft)}return C(Q);case h:t:{for(Ct=J.key;X!==null;){if(X.key===Ct)if(X.tag===4&&X.stateNode.containerInfo===J.containerInfo&&X.stateNode.implementation===J.implementation){s(Q,X.sibling),ft=p(X,J.children||[]),ft.return=Q,Q=ft;break t}else{s(Q,X);break}else n(Q,X);X=X.sibling}ft=pb(J,Q.mode,ft),ft.return=Q,Q=ft}return C(Q);case _:return Ct=J._init,J=Ct(J._payload),De(Q,X,J,ft)}if(ht(J))return Rt(Q,X,J,ft);if(k(J)){if(Ct=k(J),typeof Ct!="function")throw Error(a(150));return J=Ct.call(J),Pt(Q,X,J,ft)}if(typeof J.then=="function")return De(Q,X,Of(J),ft);if(J.$$typeof===S)return De(Q,X,Vf(Q,J),ft);Lf(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,X!==null&&X.tag===6?(s(Q,X.sibling),ft=p(X,J),ft.return=Q,Q=ft):(s(Q,X),ft=fb(J,Q.mode,ft),ft.return=Q,Q=ft),C(Q)):s(Q,X)}return function(Q,X,J,ft){try{Mu=0;var Ct=De(Q,X,J,ft);return Ll=null,Ct}catch(Mt){if(Mt===Ru)throw Mt;var Gt=An(29,Mt,null,Q.mode);return Gt.lanes=ft,Gt.return=Q,Gt}finally{}}}var Xr=uA(!0),hA=uA(!1),kl=nt(null),kf=nt(0);function dA(e,n){e=Ba,bt(kf,e),bt(kl,n),Ba=e|n.baseLanes}function Am(){bt(kf,Ba),bt(kl,kl.current)}function Sm(){Ba=kf.current,dt(kl),dt(kf)}var bn=nt(null),ea=null;function Ls(e){var n=e.alternate;bt(Be,Be.current&1),bt(bn,e),ea===null&&(n===null||kl.current!==null||n.memoizedState!==null)&&(ea=e)}function fA(e){if(e.tag===22){if(bt(Be,Be.current),bt(bn,e),ea===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ea=e)}}else ks()}function ks(){bt(Be,Be.current),bt(bn,bn.current)}function Oa(e){dt(bn),ea===e&&(ea=null),dt(Be)}var Be=nt(0);function Nf(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _T=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},ET=f.unstable_scheduleCallback,xT=f.unstable_NormalPriority,Ue={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wm(){return{controller:new _T,data:new Map,refCount:0}}function Lu(e){e.refCount--,e.refCount===0&&ET(xT,function(){e.controller.abort()})}var ku=null,_m=0,Nl=0,zl=null;function TT(e,n){if(ku===null){var s=ku=[];_m=0,Nl=Db(),zl={status:"pending",value:void 0,then:function(l){s.push(l)}}}return _m++,n.then(pA,pA),n}function pA(){if(--_m===0&&ku!==null){zl!==null&&(zl.status="fulfilled");var e=ku;ku=null,Nl=0,zl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function CT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var p=0;p<s.length;p++)(0,s[p])(n)},function(p){for(l.status="rejected",l.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),l}var gA=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&TT(e,n),gA!==null&&gA(e,n)};var Yr=nt(null);function Em(){var e=Yr.current;return e!==null?e:ge.pooledCache}function zf(e,n){n===null?bt(Yr,Yr.current):bt(Yr,n.pool)}function mA(){var e=Em();return e===null?null:{parent:Ue._currentValue,pool:e}}var Ns=0,Ut=null,ce=null,ze=null,Pf=!1,Pl=!1,Vr=!1,Hf=0,Nu=0,Hl=null,RT=0;function Oe(){throw Error(a(321))}function xm(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Vi(e[s],n[s]))return!1;return!0}function Tm(e,n,s,l,p,b){return Ns=b,Ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Wr:zs,Vr=!1,b=s(l,p),Vr=!1,Pl&&(b=yA(n,s,l,p)),bA(e),b}function bA(e){H.H=ia;var n=ce!==null&&ce.next!==null;if(Ns=0,ze=ce=Ut=null,Pf=!1,Nu=0,Hl=null,n)throw Error(a(300));e===null||Ze||(e=e.dependencies,e!==null&&Yf(e)&&(Ze=!0))}function yA(e,n,s,l){Ut=e;var p=0;do{if(Pl&&(Hl=null),Nu=0,Pl=!1,25<=p)throw Error(a(301));if(p+=1,ze=ce=null,e.updateQueue!=null){var b=e.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}H.H=$r,b=n(s,l)}while(Pl);return b}function DT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?zu(n):n,e=e.useState()[0],(ce!==null?ce.memoizedState:null)!==e&&(Ut.flags|=1024),n}function Cm(){var e=Hf!==0;return Hf=0,e}function Rm(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Dm(e){if(Pf){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pf=!1}Ns=0,ze=ce=Ut=null,Pl=!1,Nu=Hf=0,Hl=null}function Hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ut.memoizedState=ze=e:ze=ze.next=e,ze}function Pe(){if(ce===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var n=ze===null?Ut.memoizedState:ze.next;if(n!==null)ze=n,ce=e;else{if(e===null)throw Ut.alternate===null?Error(a(467)):Error(a(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},ze===null?Ut.memoizedState=ze=e:ze=ze.next=e}return ze}var Ff;Ff=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function zu(e){var n=Nu;return Nu+=1,Hl===null&&(Hl=[]),e=oA(Hl,e,n),n=Ut,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Wr:zs),e}function If(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zu(e);if(e.$$typeof===S)return gi(e)}throw Error(a(438,String(e)))}function Mm(e){var n=null,s=Ut.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ff(),Ut.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=R;return n.index++,s}function La(e,n){return typeof n=="function"?n(e):n}function qf(e){var n=Pe();return Om(n,ce,e)}function Om(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var p=e.baseQueue,b=l.pending;if(b!==null){if(p!==null){var C=p.next;p.next=b.next,b.next=C}n.baseQueue=p=b,l.pending=null}if(b=e.baseState,p===null)e.memoizedState=b;else{n=p.next;var P=C=null,q=null,V=n,ut=!1;do{var gt=V.lane&-536870913;if(gt!==V.lane?(Qt&gt)===gt:(Ns&gt)===gt){var et=V.revertLane;if(et===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),gt===Nl&&(ut=!0);else if((Ns&et)===et){V=V.next,et===Nl&&(ut=!0);continue}else gt={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},q===null?(P=q=gt,C=b):q=q.next=gt,Ut.lanes|=et,Gs|=et;gt=V.action,Vr&&s(b,gt),b=V.hasEagerState?V.eagerState:s(b,gt)}else et={lane:gt,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},q===null?(P=q=et,C=b):q=q.next=et,Ut.lanes|=gt,Gs|=gt;V=V.next}while(V!==null&&V!==n);if(q===null?C=b:q.next=P,!Vi(b,e.memoizedState)&&(Ze=!0,ut&&(s=zl,s!==null)))throw s;e.memoizedState=b,e.baseState=C,e.baseQueue=q,l.lastRenderedState=b}return p===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Lm(e){var n=Pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,p=s.pending,b=n.memoizedState;if(p!==null){s.pending=null;var C=p=p.next;do b=e(b,C.action),C=C.next;while(C!==p);Vi(b,n.memoizedState)||(Ze=!0),n.memoizedState=b,n.baseQueue===null&&(n.baseState=b),s.lastRenderedState=b}return[b,l]}function vA(e,n,s){var l=Ut,p=Pe(),b=Jt;if(b){if(s===void 0)throw Error(a(407));s=s()}else s=n();var C=!Vi((ce||p).memoizedState,s);if(C&&(p.memoizedState=s,Ze=!0),p=p.queue,zm(wA.bind(null,l,p,e),[e]),p.getSnapshot!==n||C||ze!==null&&ze.memoizedState.tag&1){if(l.flags|=2048,Fl(9,SA.bind(null,l,p,s,n),{destroy:void 0},null),ge===null)throw Error(a(349));b||(Ns&60)!==0||AA(l,n,s)}return s}function AA(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ut.updateQueue,n===null?(n=Ff(),Ut.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function SA(e,n,s,l){n.value=s,n.getSnapshot=l,_A(n)&&EA(e)}function wA(e,n,s){return s(function(){_A(n)&&EA(e)})}function _A(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Vi(e,s)}catch{return!0}}function EA(e){var n=Os(e,2);n!==null&&xi(n,e,2)}function km(e){var n=Hi();if(typeof e=="function"){var s=e;if(e=s(),Vr){Rs(!0);try{s()}finally{Rs(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},n}function xA(e,n,s,l){return e.baseState=s,Om(e,ce,typeof l=="function"?l:La)}function MT(e,n,s,l,p){if(jf(e))throw Error(a(485));if(e=n.action,e!==null){var b={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};H.T!==null?s(!0):b.isTransition=!1,l(b),s=n.pending,s===null?(b.next=n.pending=b,TA(n,b)):(b.next=s.next,n.pending=s.next=b)}}function TA(e,n){var s=n.action,l=n.payload,p=e.state;if(n.isTransition){var b=H.T,C={};H.T=C;try{var P=s(p,l),q=H.S;q!==null&&q(C,P),CA(e,n,P)}catch(V){Nm(e,n,V)}finally{H.T=b}}else try{b=s(p,l),CA(e,n,b)}catch(V){Nm(e,n,V)}}function CA(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){RA(e,n,l)},function(l){return Nm(e,n,l)}):RA(e,n,s)}function RA(e,n,s){n.status="fulfilled",n.value=s,DA(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,TA(e,s)))}function Nm(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,DA(n),n=n.next;while(n!==l)}e.action=null}function DA(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function MA(e,n){return n}function OA(e,n){if(Jt){var s=ge.formState;if(s!==null){t:{var l=Ut;if(Jt){if(ri){e:{for(var p=ri,b=ta;p.nodeType!==8;){if(!b){p=null;break e}if(p=Hn(p.nextSibling),p===null){p=null;break e}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){ri=Hn(p.nextSibling),l=p.data==="F!";break t}}Gr(l)}l=!1}l&&(n=s[0])}}return s=Hi(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MA,lastRenderedState:n},s.queue=l,s=$A.bind(null,Ut,l),l.dispatch=s,l=km(!1),b=qm.bind(null,Ut,!1,l.queue),l=Hi(),p={state:n,dispatch:null,action:e,pending:null},l.queue=p,s=MT.bind(null,Ut,p,b,s),p.dispatch=s,l.memoizedState=e,[n,s,!1]}function LA(e){var n=Pe();return kA(n,ce,e)}function kA(e,n,s){n=Om(e,n,MA)[0],e=qf(La)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?zu(n):n;var l=Pe(),p=l.queue,b=p.dispatch;return s!==l.memoizedState&&(Ut.flags|=2048,Fl(9,OT.bind(null,p,s),{destroy:void 0},null)),[n,b,e]}function OT(e,n){e.action=n}function NA(e){var n=Pe(),s=ce;if(s!==null)return kA(n,s,e);Pe(),n=n.memoizedState,s=Pe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Fl(e,n,s,l){return e={tag:e,create:n,inst:s,deps:l,next:null},n=Ut.updateQueue,n===null&&(n=Ff(),Ut.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function zA(){return Pe().memoizedState}function Bf(e,n,s,l){var p=Hi();Ut.flags|=e,p.memoizedState=Fl(1|n,s,{destroy:void 0},l===void 0?null:l)}function Uf(e,n,s,l){var p=Pe();l=l===void 0?null:l;var b=p.memoizedState.inst;ce!==null&&l!==null&&xm(l,ce.memoizedState.deps)?p.memoizedState=Fl(n,s,b,l):(Ut.flags|=e,p.memoizedState=Fl(1|n,s,b,l))}function PA(e,n){Bf(8390656,8,e,n)}function zm(e,n){Uf(2048,8,e,n)}function HA(e,n){return Uf(4,2,e,n)}function FA(e,n){return Uf(4,4,e,n)}function IA(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qA(e,n,s){s=s!=null?s.concat([e]):null,Uf(4,4,IA.bind(null,n,e),s)}function Pm(){}function BA(e,n){var s=Pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&xm(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function UA(e,n){var s=Pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&xm(n,l[1]))return l[0];if(l=e(),Vr){Rs(!0);try{e()}finally{Rs(!1)}}return s.memoizedState=[l,n],l}function Hm(e,n,s){return s===void 0||(Ns&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=GS(),Ut.lanes|=e,Gs|=e,s)}function jA(e,n,s,l){return Vi(s,n)?s:kl.current!==null?(e=Hm(e,s,l),Vi(e,n)||(Ze=!0),e):(Ns&42)===0?(Ze=!0,e.memoizedState=s):(e=GS(),Ut.lanes|=e,Gs|=e,n)}function GA(e,n,s,l,p){var b=lt.p;lt.p=b!==0&&8>b?b:8;var C=H.T,P={};H.T=P,qm(e,!1,n,s);try{var q=p(),V=H.S;if(V!==null&&V(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ut=CT(q,l);Pu(e,n,ut,Qi(e))}else Pu(e,n,l,Qi(e))}catch(gt){Pu(e,n,{then:function(){},status:"rejected",reason:gt},Qi())}finally{lt.p=b,H.T=C}}function LT(){}function Fm(e,n,s,l){if(e.tag!==5)throw Error(a(476));var p=XA(e).queue;GA(e,p,n,yt,s===null?LT:function(){return YA(e),s(l)})}function XA(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:yt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function YA(e){var n=XA(e).next.queue;Pu(e,n,{},Qi())}function Im(){return gi(ih)}function VA(){return Pe().memoizedState}function WA(){return Pe().memoizedState}function kT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Qi();e=Fs(s);var l=Is(n,e,s);l!==null&&(xi(l,n,s),Iu(l,n,s)),n={cache:wm()},e.payload=n;return}n=n.return}}function NT(e,n,s){var l=Qi();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},jf(e)?KA(n,s):(s=gm(e,n,s,l),s!==null&&(xi(s,e,l),QA(s,n,l)))}function $A(e,n,s){var l=Qi();Pu(e,n,s,l)}function Pu(e,n,s,l){var p={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(jf(e))KA(n,p);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=n.lastRenderedReducer,b!==null))try{var C=n.lastRenderedState,P=b(C,s);if(p.hasEagerState=!0,p.eagerState=P,Vi(P,C))return Tf(e,n,p,0),ge===null&&xf(),!1}catch{}finally{}if(s=gm(e,n,p,l),s!==null)return xi(s,e,l),QA(s,n,l),!0}return!1}function qm(e,n,s,l){if(l={lane:2,revertLane:Db(),action:l,hasEagerState:!1,eagerState:null,next:null},jf(e)){if(n)throw Error(a(479))}else n=gm(e,s,l,2),n!==null&&xi(n,e,2)}function jf(e){var n=e.alternate;return e===Ut||n!==null&&n===Ut}function KA(e,n){Pl=Pf=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function QA(e,n,s){if((s&4194176)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,lv(e,s)}}var ia={readContext:gi,use:If,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe};ia.useCacheRefresh=Oe,ia.useMemoCache=Oe,ia.useHostTransitionStatus=Oe,ia.useFormState=Oe,ia.useActionState=Oe,ia.useOptimistic=Oe;var Wr={readContext:gi,use:If,useCallback:function(e,n){return Hi().memoizedState=[e,n===void 0?null:n],e},useContext:gi,useEffect:PA,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Bf(4194308,4,IA.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bf(4194308,4,e,n)},useInsertionEffect:function(e,n){Bf(4,2,e,n)},useMemo:function(e,n){var s=Hi();n=n===void 0?null:n;var l=e();if(Vr){Rs(!0);try{e()}finally{Rs(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=Hi();if(s!==void 0){var p=s(n);if(Vr){Rs(!0);try{s(n)}finally{Rs(!1)}}}else p=n;return l.memoizedState=l.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},l.queue=e,e=e.dispatch=NT.bind(null,Ut,e),[l.memoizedState,e]},useRef:function(e){var n=Hi();return e={current:e},n.memoizedState=e},useState:function(e){e=km(e);var n=e.queue,s=$A.bind(null,Ut,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Pm,useDeferredValue:function(e,n){var s=Hi();return Hm(s,e,n)},useTransition:function(){var e=km(!1);return e=GA.bind(null,Ut,e.queue,!0,!1),Hi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Ut,p=Hi();if(Jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ge===null)throw Error(a(349));(Qt&60)!==0||AA(l,n,s)}p.memoizedState=s;var b={value:s,getSnapshot:n};return p.queue=b,PA(wA.bind(null,l,b,e),[e]),l.flags|=2048,Fl(9,SA.bind(null,l,b,s,n),{destroy:void 0},null),s},useId:function(){var e=Hi(),n=ge.identifierPrefix;if(Jt){var s=Ma,l=Da;s=(l&~(1<<32-Yi(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Hf++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=RT++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return Hi().memoizedState=kT.bind(null,Ut)}};Wr.useMemoCache=Mm,Wr.useHostTransitionStatus=Im,Wr.useFormState=OA,Wr.useActionState=OA,Wr.useOptimistic=function(e){var n=Hi();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=qm.bind(null,Ut,!0,s),s.dispatch=n,[e,n]};var zs={readContext:gi,use:If,useCallback:BA,useContext:gi,useEffect:zm,useImperativeHandle:qA,useInsertionEffect:HA,useLayoutEffect:FA,useMemo:UA,useReducer:qf,useRef:zA,useState:function(){return qf(La)},useDebugValue:Pm,useDeferredValue:function(e,n){var s=Pe();return jA(s,ce.memoizedState,e,n)},useTransition:function(){var e=qf(La)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:zu(e),n]},useSyncExternalStore:vA,useId:VA};zs.useCacheRefresh=WA,zs.useMemoCache=Mm,zs.useHostTransitionStatus=Im,zs.useFormState=LA,zs.useActionState=LA,zs.useOptimistic=function(e,n){var s=Pe();return xA(s,ce,e,n)};var $r={readContext:gi,use:If,useCallback:BA,useContext:gi,useEffect:zm,useImperativeHandle:qA,useInsertionEffect:HA,useLayoutEffect:FA,useMemo:UA,useReducer:Lm,useRef:zA,useState:function(){return Lm(La)},useDebugValue:Pm,useDeferredValue:function(e,n){var s=Pe();return ce===null?Hm(s,e,n):jA(s,ce.memoizedState,e,n)},useTransition:function(){var e=Lm(La)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:zu(e),n]},useSyncExternalStore:vA,useId:VA};$r.useCacheRefresh=WA,$r.useMemoCache=Mm,$r.useHostTransitionStatus=Im,$r.useFormState=NA,$r.useActionState=NA,$r.useOptimistic=function(e,n){var s=Pe();return ce!==null?xA(s,ce,e,n):(s.baseState=e,[e,s.queue.dispatch])};function Bm(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:Y({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Um={isMounted:function(e){return(e=e._reactInternals)?K(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Qi(),p=Fs(l);p.payload=n,s!=null&&(p.callback=s),n=Is(e,p,l),n!==null&&(xi(n,e,l),Iu(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Qi(),p=Fs(l);p.tag=1,p.payload=n,s!=null&&(p.callback=s),n=Is(e,p,l),n!==null&&(xi(n,e,l),Iu(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Qi(),l=Fs(s);l.tag=2,n!=null&&(l.callback=n),n=Is(e,l,s),n!==null&&(xi(n,e,s),Iu(n,e,s))}};function ZA(e,n,s,l,p,b,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,b,C):n.prototype&&n.prototype.isPureReactComponent?!_u(s,l)||!_u(p,b):!0}function JA(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Um.enqueueReplaceState(n,n.state,null)}function Kr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=Y({},s));for(var p in e)s[p]===void 0&&(s[p]=e[p])}return s}var Gf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function tS(e){Gf(e)}function eS(e){console.error(e)}function iS(e){Gf(e)}function Xf(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function nS(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function jm(e,n,s){return s=Fs(s),s.tag=3,s.payload={element:null},s.callback=function(){Xf(e,n)},s}function aS(e){return e=Fs(e),e.tag=3,e}function sS(e,n,s,l){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var b=l.value;e.payload=function(){return p(b)},e.callback=function(){nS(n,s,l)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){nS(n,s,l),typeof p!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})})}function zT(e,n,s,l,p){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Fu(n,s,p,!0),s=bn.current,s!==null){switch(s.tag){case 13:return ea===null?Eb():s.alternate===null&&Re===0&&(Re=3),s.flags&=-257,s.flags|=65536,s.lanes=p,l===vm?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Tb(e,l,p)),!1;case 22:return s.flags|=65536,l===vm?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Tb(e,l,p)),!1}throw Error(a(435,s.tag))}return Tb(e,l,p),Eb(),!1}if(Jt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,l!==ym&&(e=Error(a(422),{cause:l}),Cu(pn(e,s)))):(l!==ym&&(n=Error(a(423),{cause:l}),Cu(pn(n,s))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,l=pn(l,s),p=jm(e.stateNode,l,p),ab(e,p),Re!==4&&(Re=2)),!1;var b=Error(a(520),{cause:l});if(b=pn(b,s),Vu===null?Vu=[b]:Vu.push(b),Re!==4&&(Re=2),n===null)return!0;l=pn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=p&-p,s.lanes|=e,e=jm(s.stateNode,l,e),ab(s,e),!1;case 1:if(n=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xs===null||!Xs.has(b))))return s.flags|=65536,p&=-p,s.lanes|=p,p=aS(p),sS(p,e,s,l),ab(s,p),!1}s=s.return}while(s!==null);return!1}var rS=Error(a(461)),Ze=!1;function oi(e,n,s,l){n.child=e===null?hA(n,null,s,l):Xr(n,e.child,s,l)}function oS(e,n,s,l,p){s=s.render;var b=n.ref;if("ref"in l){var C={};for(var P in l)P!=="ref"&&(C[P]=l[P])}else C=l;return Zr(n),l=Tm(e,n,s,C,b,p),P=Cm(),e!==null&&!Ze?(Rm(e,n,p),ka(e,n,p)):(Jt&&P&&mm(n),n.flags|=1,oi(e,n,l,p),n.child)}function lS(e,n,s,l,p){if(e===null){var b=s.type;return typeof b=="function"&&!db(b)&&b.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=b,cS(e,n,b,l,p)):(e=Kf(s.type,null,l,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(b=e.child,!Zm(e,p)){var C=b.memoizedProps;if(s=s.compare,s=s!==null?s:_u,s(C,l)&&e.ref===n.ref)return ka(e,n,p)}return n.flags|=1,e=js(b,l),e.ref=n.ref,e.return=n,n.child=e}function cS(e,n,s,l,p){if(e!==null){var b=e.memoizedProps;if(_u(b,l)&&e.ref===n.ref)if(Ze=!1,n.pendingProps=l=b,Zm(e,p))(e.flags&131072)!==0&&(Ze=!0);else return n.lanes=e.lanes,ka(e,n,p)}return Gm(e,n,s,l,p)}function uS(e,n,s){var l=n.pendingProps,p=l.children,b=(n.stateNode._pendingVisibility&2)!==0,C=e!==null?e.memoizedState:null;if(Hu(e,n),l.mode==="hidden"||b){if((n.flags&128)!==0){if(l=C!==null?C.baseLanes|s:s,e!==null){for(p=n.child=e.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;n.childLanes=b&~l}else n.childLanes=0,n.child=null;return hS(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zf(n,C!==null?C.cachePool:null),C!==null?dA(n,C):Am(),fA(n);else return n.lanes=n.childLanes=536870912,hS(e,n,C!==null?C.baseLanes|s:s,s)}else C!==null?(zf(n,C.cachePool),dA(n,C),ks(),n.memoizedState=null):(e!==null&&zf(n,null),Am(),ks());return oi(e,n,p,s),n.child}function hS(e,n,s,l){var p=Em();return p=p===null?null:{parent:Ue._currentValue,pool:p},n.memoizedState={baseLanes:s,cachePool:p},e!==null&&zf(n,null),Am(),fA(n),e!==null&&Fu(e,n,l,!0),null}function Hu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=2097664)}}function Gm(e,n,s,l,p){return Zr(n),s=Tm(e,n,s,l,void 0,p),l=Cm(),e!==null&&!Ze?(Rm(e,n,p),ka(e,n,p)):(Jt&&l&&mm(n),n.flags|=1,oi(e,n,s,p),n.child)}function dS(e,n,s,l,p,b){return Zr(n),n.updateQueue=null,s=yA(n,l,s,p),bA(e),l=Cm(),e!==null&&!Ze?(Rm(e,n,b),ka(e,n,b)):(Jt&&l&&mm(n),n.flags|=1,oi(e,n,s,b),n.child)}function fS(e,n,s,l,p){if(Zr(n),n.stateNode===null){var b=Dl,C=s.contextType;typeof C=="object"&&C!==null&&(b=gi(C)),b=new s(l,b),n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Um,n.stateNode=b,b._reactInternals=n,b=n.stateNode,b.props=l,b.state=n.memoizedState,b.refs={},ib(n),C=s.contextType,b.context=typeof C=="object"&&C!==null?gi(C):Dl,b.state=n.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Bm(n,s,C,l),b.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&Um.enqueueReplaceState(b,b.state,null),Bu(n,l,b,p),qu(),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){b=n.stateNode;var P=n.memoizedProps,q=Kr(s,P);b.props=q;var V=b.context,ut=s.contextType;C=Dl,typeof ut=="object"&&ut!==null&&(C=gi(ut));var gt=s.getDerivedStateFromProps;ut=typeof gt=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,ut||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||V!==C)&&JA(n,b,l,C),Hs=!1;var et=n.memoizedState;b.state=et,Bu(n,l,b,p),qu(),V=n.memoizedState,P||et!==V||Hs?(typeof gt=="function"&&(Bm(n,s,gt,l),V=n.memoizedState),(q=Hs||ZA(n,s,q,l,et,V,C))?(ut||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=V),b.props=l,b.state=V,b.context=C,l=q):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{b=n.stateNode,nb(e,n),C=n.memoizedProps,ut=Kr(s,C),b.props=ut,gt=n.pendingProps,et=b.context,V=s.contextType,q=Dl,typeof V=="object"&&V!==null&&(q=gi(V)),P=s.getDerivedStateFromProps,(V=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==gt||et!==q)&&JA(n,b,l,q),Hs=!1,et=n.memoizedState,b.state=et,Bu(n,l,b,p),qu();var ct=n.memoizedState;C!==gt||et!==ct||Hs||e!==null&&e.dependencies!==null&&Yf(e.dependencies)?(typeof P=="function"&&(Bm(n,s,P,l),ct=n.memoizedState),(ut=Hs||ZA(n,s,ut,l,et,ct,q)||e!==null&&e.dependencies!==null&&Yf(e.dependencies))?(V||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,ct,q),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,ct,q)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===e.memoizedProps&&et===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&et===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ct),b.props=l,b.state=ct,b.context=q,l=ut):(typeof b.componentDidUpdate!="function"||C===e.memoizedProps&&et===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&et===e.memoizedState||(n.flags|=1024),l=!1)}return b=l,Hu(e,n),l=(n.flags&128)!==0,b||l?(b=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:b.render(),n.flags|=1,e!==null&&l?(n.child=Xr(n,e.child,null,p),n.child=Xr(n,null,s,p)):oi(e,n,s,p),n.memoizedState=b.state,e=n.child):e=ka(e,n,p),e}function pS(e,n,s,l){return Tu(),n.flags|=256,oi(e,n,s,l),n.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Ym(e){return{baseLanes:e,cachePool:mA()}}function Vm(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Sn),e}function gS(e,n,s){var l=n.pendingProps,p=!1,b=(n.flags&128)!==0,C;if((C=b)||(C=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),C&&(p=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(Jt){if(p?Ls(n):ks(),Jt){var P=ri,q;if(q=P){t:{for(q=P,P=ta;q.nodeType!==8;){if(!P){P=null;break t}if(q=Hn(q.nextSibling),q===null){P=null;break t}}P=q}P!==null?(n.memoizedState={dehydrated:P,treeContext:Ur!==null?{id:Da,overflow:Ma}:null,retryLane:536870912},q=An(18,null,null,0),q.stateNode=P,q.return=n,n.child=q,Ei=n,ri=null,q=!0):q=!1}q||Gr(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return P.data==="$!"?n.lanes=16:n.lanes=536870912,null;Oa(n)}return P=l.children,l=l.fallback,p?(ks(),p=n.mode,P=$m({mode:"hidden",children:P},p),l=to(l,p,s,null),P.return=n,l.return=n,P.sibling=l,n.child=P,p=n.child,p.memoizedState=Ym(s),p.childLanes=Vm(e,C,s),n.memoizedState=Xm,l):(Ls(n),Wm(n,P))}if(q=e.memoizedState,q!==null&&(P=q.dehydrated,P!==null)){if(b)n.flags&256?(Ls(n),n.flags&=-257,n=Km(e,n,s)):n.memoizedState!==null?(ks(),n.child=e.child,n.flags|=128,n=null):(ks(),p=l.fallback,P=n.mode,l=$m({mode:"visible",children:l.children},P),p=to(p,P,s,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,Xr(n,e.child,null,s),l=n.child,l.memoizedState=Ym(s),l.childLanes=Vm(e,C,s),n.memoizedState=Xm,n=p);else if(Ls(n),P.data==="$!"){if(C=P.nextSibling&&P.nextSibling.dataset,C)var V=C.dgst;C=V,l=Error(a(419)),l.stack="",l.digest=C,Cu({value:l,source:null,stack:null}),n=Km(e,n,s)}else if(Ze||Fu(e,n,s,!1),C=(s&e.childLanes)!==0,Ze||C){if(C=ge,C!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(C.suspendedLanes|s))!==0?0:l,l!==0&&l!==q.retryLane)throw q.retryLane=l,Os(e,l),xi(C,e,l),rS}P.data==="$?"||Eb(),n=Km(e,n,s)}else P.data==="$?"?(n.flags|=128,n.child=e.child,n=KT.bind(null,e),P._reactRetry=n,n=null):(e=q.treeContext,ri=Hn(P.nextSibling),Ei=n,Jt=!0,zn=null,ta=!1,e!==null&&(gn[mn++]=Da,gn[mn++]=Ma,gn[mn++]=Ur,Da=e.id,Ma=e.overflow,Ur=n),n=Wm(n,l.children),n.flags|=4096);return n}return p?(ks(),p=l.fallback,P=n.mode,q=e.child,V=q.sibling,l=js(q,{mode:"hidden",children:l.children}),l.subtreeFlags=q.subtreeFlags&31457280,V!==null?p=js(V,p):(p=to(p,P,s,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,l=p,p=n.child,P=e.child.memoizedState,P===null?P=Ym(s):(q=P.cachePool,q!==null?(V=Ue._currentValue,q=q.parent!==V?{parent:V,pool:V}:q):q=mA(),P={baseLanes:P.baseLanes|s,cachePool:q}),p.memoizedState=P,p.childLanes=Vm(e,C,s),n.memoizedState=Xm,l):(Ls(n),s=e.child,e=s.sibling,s=js(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=s,n.memoizedState=null,s)}function Wm(e,n){return n=$m({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $m(e,n){return BS(e,n,0,null)}function Km(e,n,s){return Xr(n,e.child,null,s),e=Wm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function mS(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),tb(e.return,n,s)}function Qm(e,n,s,l,p){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:p}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=p)}function bS(e,n,s){var l=n.pendingProps,p=l.revealOrder,b=l.tail;if(oi(e,n,l.children,s),l=Be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mS(e,s,n);else if(e.tag===19)mS(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(bt(Be,l),p){case"forwards":for(s=n.child,p=null;s!==null;)e=s.alternate,e!==null&&Nf(e)===null&&(p=s),s=s.sibling;s=p,s===null?(p=n.child,n.child=null):(p=s.sibling,s.sibling=null),Qm(n,!1,p,s,b);break;case"backwards":for(s=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Nf(e)===null){n.child=p;break}e=p.sibling,p.sibling=s,s=p,p=e}Qm(n,!0,s,null,b);break;case"together":Qm(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ka(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Gs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Fu(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=js(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=js(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Zm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Yf(e)))}function PT(e,n,s){switch(n.tag){case 3:mt(n,n.stateNode.containerInfo),Ps(n,Ue,e.memoizedState.cache),Tu();break;case 27:case 5:_t(n);break;case 4:mt(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(n),n.flags|=128,null):(s&n.child.childLanes)!==0?gS(e,n,s):(Ls(n),e=ka(e,n,s),e!==null?e.sibling:null);Ls(n);break;case 19:var p=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Fu(e,n,s,!1),l=(s&n.childLanes)!==0),p){if(l)return bS(e,n,s);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),bt(Be,Be.current),l)break;return null;case 22:case 23:return n.lanes=0,uS(e,n,s);case 24:Ps(n,Ue,e.memoizedState.cache)}return ka(e,n,s)}function yS(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ze=!0;else{if(!Zm(e,s)&&(n.flags&128)===0)return Ze=!1,PT(e,n,s);Ze=(e.flags&131072)!==0}else Ze=!1,Jt&&(n.flags&1048576)!==0&&iA(n,Df,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,p=l._init;if(l=p(l._payload),n.type=l,typeof l=="function")db(l)?(e=Kr(l,e),n.tag=1,n=fS(null,n,l,e,s)):(n.tag=0,n=Gm(null,n,l,e,s));else{if(l!=null){if(p=l.$$typeof,p===w){n.tag=11,n=oS(null,n,l,e,s);break t}else if(p===A){n.tag=14,n=lS(null,n,l,e,s);break t}}throw n=L(l)||l,Error(a(306,n,""))}}return n;case 0:return Gm(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,p=Kr(l,n.pendingProps),fS(e,n,l,p,s);case 3:t:{if(mt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));var b=n.pendingProps;p=n.memoizedState,l=p.element,nb(e,n),Bu(n,b,null,s);var C=n.memoizedState;if(b=C.cache,Ps(n,Ue,b),b!==p.cache&&eb(n,[Ue],s,!0),qu(),b=C.element,p.isDehydrated)if(p={element:b,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=pS(e,n,b,s);break t}else if(b!==l){l=pn(Error(a(424)),n),Cu(l),n=pS(e,n,b,s);break t}else for(ri=Hn(n.stateNode.containerInfo.firstChild),Ei=n,Jt=!0,zn=null,ta=!0,s=hA(n,null,b,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Tu(),b===l){n=ka(e,n,s);break t}oi(e,n,b,s)}n=n.child}return n;case 26:return Hu(e,n),e===null?(s=S1(n.type,null,n.pendingProps,null))?n.memoizedState=s:Jt||(s=n.type,e=n.pendingProps,l=lp(W.current).createElement(s),l[pi]=n,l[zi]=e,li(l,s,e),Qe(l),n.stateNode=l):n.memoizedState=S1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _t(n),e===null&&Jt&&(l=n.stateNode=y1(n.type,n.pendingProps,W.current),Ei=n,ta=!0,ri=Hn(l.firstChild)),l=n.pendingProps.children,e!==null||Jt?oi(e,n,l,s):n.child=Xr(n,null,l,s),Hu(e,n),n.child;case 5:return e===null&&Jt&&((p=l=ri)&&(l=dC(l,n.type,n.pendingProps,ta),l!==null?(n.stateNode=l,Ei=n,ri=Hn(l.firstChild),ta=!1,p=!0):p=!1),p||Gr(n)),_t(n),p=n.type,b=n.pendingProps,C=e!==null?e.memoizedProps:null,l=b.children,Fb(p,b)?l=null:C!==null&&Fb(p,C)&&(n.flags|=32),n.memoizedState!==null&&(p=Tm(e,n,DT,null,null,s),ih._currentValue=p),Hu(e,n),oi(e,n,l,s),n.child;case 6:return e===null&&Jt&&((e=s=ri)&&(s=fC(s,n.pendingProps,ta),s!==null?(n.stateNode=s,Ei=n,ri=null,e=!0):e=!1),e||Gr(n)),null;case 13:return gS(e,n,s);case 4:return mt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Xr(n,null,l,s):oi(e,n,l,s),n.child;case 11:return oS(e,n,n.type,n.pendingProps,s);case 7:return oi(e,n,n.pendingProps,s),n.child;case 8:return oi(e,n,n.pendingProps.children,s),n.child;case 12:return oi(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ps(n,n.type,l.value),oi(e,n,l.children,s),n.child;case 9:return p=n.type._context,l=n.pendingProps.children,Zr(n),p=gi(p),l=l(p),n.flags|=1,oi(e,n,l,s),n.child;case 14:return lS(e,n,n.type,n.pendingProps,s);case 15:return cS(e,n,n.type,n.pendingProps,s);case 19:return bS(e,n,s);case 22:return uS(e,n,s);case 24:return Zr(n),l=gi(Ue),e===null?(p=Em(),p===null&&(p=ge,b=wm(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=s),p=b),n.memoizedState={parent:l,cache:p},ib(n),Ps(n,Ue,p)):((e.lanes&s)!==0&&(nb(e,n),Bu(n,null,null,s),qu()),p=e.memoizedState,b=n.memoizedState,p.parent!==l?(p={parent:l,cache:l},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Ps(n,Ue,l)):(l=b.cache,Ps(n,Ue,l),l!==p.cache&&eb(n,[Ue],s,!0))),oi(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var Jm=nt(null),Qr=null,Na=null;function Ps(e,n,s){bt(Jm,n._currentValue),n._currentValue=s}function za(e){e._currentValue=Jm.current,dt(Jm)}function tb(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function eb(e,n,s,l){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var b=p.dependencies;if(b!==null){var C=p.child;b=b.firstContext;t:for(;b!==null;){var P=b;b=p;for(var q=0;q<n.length;q++)if(P.context===n[q]){b.lanes|=s,P=b.alternate,P!==null&&(P.lanes|=s),tb(b.return,s,e),l||(C=null);break t}b=P.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(a(341));C.lanes|=s,b=C.alternate,b!==null&&(b.lanes|=s),tb(C,s,e),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===e){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function Fu(e,n,s,l){e=null;for(var p=n,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var P=p.type;Vi(p.pendingProps.value,C.value)||(e!==null?e.push(P):e=[P])}}else if(p===rt.current){if(C=p.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(ih):e=[ih])}p=p.return}e!==null&&eb(n,e,s,l),n.flags|=262144}function Yf(e){for(e=e.firstContext;e!==null;){if(!Vi(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zr(e){Qr=e,Na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gi(e){return vS(Qr,e)}function Vf(e,n){return Qr===null&&Zr(e),vS(e,n)}function vS(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Na===null){if(e===null)throw Error(a(308));Na=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Na=Na.next=n;return s}var Hs=!1;function ib(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nb(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var p=l.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),l.pending=n,n=Cf(e),tA(e,null,s),n}return Tf(e,l,n,s),Cf(e)}function Iu(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,lv(e,s)}}function ab(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var p=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?p=b=C:b=b.next=C,s=s.next}while(s!==null);b===null?p=b=n:b=b.next=n}else p=b=n;s={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var sb=!1;function qu(){if(sb){var e=zl;if(e!==null)throw e}}function Bu(e,n,s,l){sb=!1;var p=e.updateQueue;Hs=!1;var b=p.firstBaseUpdate,C=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var q=P,V=q.next;q.next=null,C===null?b=V:C.next=V,C=q;var ut=e.alternate;ut!==null&&(ut=ut.updateQueue,P=ut.lastBaseUpdate,P!==C&&(P===null?ut.firstBaseUpdate=V:P.next=V,ut.lastBaseUpdate=q))}if(b!==null){var gt=p.baseState;C=0,ut=V=q=null,P=b;do{var et=P.lane&-536870913,ct=et!==P.lane;if(ct?(Qt&et)===et:(l&et)===et){et!==0&&et===Nl&&(sb=!0),ut!==null&&(ut=ut.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Rt=e,Pt=P;et=n;var De=s;switch(Pt.tag){case 1:if(Rt=Pt.payload,typeof Rt=="function"){gt=Rt.call(De,gt,et);break t}gt=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Pt.payload,et=typeof Rt=="function"?Rt.call(De,gt,et):Rt,et==null)break t;gt=Y({},gt,et);break t;case 2:Hs=!0}}et=P.callback,et!==null&&(e.flags|=64,ct&&(e.flags|=8192),ct=p.callbacks,ct===null?p.callbacks=[et]:ct.push(et))}else ct={lane:et,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ut===null?(V=ut=ct,q=gt):ut=ut.next=ct,C|=et;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;ct=P,P=ct.next,ct.next=null,p.lastBaseUpdate=ct,p.shared.pending=null}}while(!0);ut===null&&(q=gt),p.baseState=q,p.firstBaseUpdate=V,p.lastBaseUpdate=ut,b===null&&(p.shared.lanes=0),Gs|=C,e.lanes=C,e.memoizedState=gt}}function AS(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function SS(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)AS(s[e],n)}function Uu(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var p=l.next;s=p;do{if((s.tag&e)===e){l=void 0;var b=s.create,C=s.inst;l=b(),C.destroy=l}s=s.next}while(s!==p)}}catch(P){pe(n,n.return,P)}}function qs(e,n,s){try{var l=n.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var b=p.next;l=b;do{if((l.tag&e)===e){var C=l.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,p=n;var q=s;try{P()}catch(V){pe(p,q,V)}}}l=l.next}while(l!==b)}}catch(V){pe(n,n.return,V)}}function wS(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{SS(n,s)}catch(l){pe(e,e.return,l)}}}function _S(e,n,s){s.props=Kr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){pe(e,n,l)}}function Jr(e,n){try{var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var p=l;break;default:p=l}typeof s=="function"?e.refCleanup=s(p):s.current=p}}catch(b){pe(e,n,b)}}function Wi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(p){pe(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){pe(e,n,p)}else s.current=null}function ES(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(p){pe(e,e.return,p)}}function xS(e,n,s){try{var l=e.stateNode;oC(l,e.type,s,n),l[zi]=n}catch(p){pe(e,e.return,p)}}function TS(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function rb(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||TS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ob(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=op));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(ob(e,n,s),e=e.sibling;e!==null;)ob(e,n,s),e=e.sibling}function Wf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Wf(e,n,s),e=e.sibling;e!==null;)Wf(e,n,s),e=e.sibling}var Pa=!1,Ce=!1,lb=!1,CS=typeof WeakSet=="function"?WeakSet:Set,Je=null,RS=!1;function HT(e,n){if(e=e.containerInfo,Pb=pp,e=Xv(e),um(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var p=l.anchorOffset,b=l.focusNode;l=l.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break t}var C=0,P=-1,q=-1,V=0,ut=0,gt=e,et=null;e:for(;;){for(var ct;gt!==s||p!==0&&gt.nodeType!==3||(P=C+p),gt!==b||l!==0&&gt.nodeType!==3||(q=C+l),gt.nodeType===3&&(C+=gt.nodeValue.length),(ct=gt.firstChild)!==null;)et=gt,gt=ct;for(;;){if(gt===e)break e;if(et===s&&++V===p&&(P=C),et===b&&++ut===l&&(q=C),(ct=gt.nextSibling)!==null)break;gt=et,et=gt.parentNode}gt=ct}s=P===-1||q===-1?null:{start:P,end:q}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hb={focusedElem:e,selectionRange:s},pp=!1,Je=n;Je!==null;)if(n=Je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Je=e;else for(;Je!==null;){switch(n=Je,b=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&b!==null){e=void 0,s=n,p=b.memoizedProps,b=b.memoizedState,l=s.stateNode;try{var Rt=Kr(s.type,p,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(Rt,b),l.__reactInternalSnapshotBeforeUpdate=e}catch(Pt){pe(s,s.return,Pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Bb(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bb(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Je=e;break}Je=n.return}return Rt=RS,RS=!1,Rt}function DS(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Fa(e,s),l&4&&Uu(5,s);break;case 1:if(Fa(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(P){pe(s,s.return,P)}else{var p=Kr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(P){pe(s,s.return,P)}}l&64&&wS(s),l&512&&Jr(s,s.return);break;case 3:if(Fa(e,s),l&64&&(l=s.updateQueue,l!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{SS(l,e)}catch(P){pe(s,s.return,P)}}break;case 26:Fa(e,s),l&512&&Jr(s,s.return);break;case 27:case 5:Fa(e,s),n===null&&l&4&&ES(s),l&512&&Jr(s,s.return);break;case 12:Fa(e,s);break;case 13:Fa(e,s),l&4&&LS(e,s);break;case 22:if(p=s.memoizedState!==null||Pa,!p){n=n!==null&&n.memoizedState!==null||Ce;var b=Pa,C=Ce;Pa=p,(Ce=n)&&!C?Bs(e,s,(s.subtreeFlags&8772)!==0):Fa(e,s),Pa=b,Ce=C}l&512&&(s.memoizedProps.mode==="manual"?Jr(s,s.return):Wi(s,s.return));break;default:Fa(e,s)}}function MS(e){var n=e.alternate;n!==null&&(e.alternate=null,MS(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wg(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,$i=!1;function Ha(e,n,s){for(s=s.child;s!==null;)OS(e,n,s),s=s.sibling}function OS(e,n,s){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(hu,s)}catch{}switch(s.tag){case 26:Ce||Wi(s,n),Ha(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||Wi(s,n);var l=He,p=$i;for(He=s.stateNode,Ha(e,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);Wg(s),He=l,$i=p;break;case 5:Ce||Wi(s,n);case 6:p=He;var b=$i;if(He=null,Ha(e,n,s),He=p,$i=b,He!==null)if($i)try{e=He,l=s.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(C){pe(s,n,C)}else try{He.removeChild(s.stateNode)}catch(C){pe(s,n,C)}break;case 18:He!==null&&($i?(n=He,s=s.stateNode,n.nodeType===8?qb(n.parentNode,s):n.nodeType===1&&qb(n,s),rh(n)):qb(He,s.stateNode));break;case 4:l=He,p=$i,He=s.stateNode.containerInfo,$i=!0,Ha(e,n,s),He=l,$i=p;break;case 0:case 11:case 14:case 15:Ce||qs(2,s,n),Ce||qs(4,s,n),Ha(e,n,s);break;case 1:Ce||(Wi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&_S(s,n,l)),Ha(e,n,s);break;case 21:Ha(e,n,s);break;case 22:Ce||Wi(s,n),Ce=(l=Ce)||s.memoizedState!==null,Ha(e,n,s),Ce=l;break;default:Ha(e,n,s)}}function LS(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rh(e)}catch(s){pe(n,n.return,s)}}function FT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new CS),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new CS),n;default:throw Error(a(435,e.tag))}}function cb(e,n){var s=FT(e);n.forEach(function(l){var p=QT.bind(null,e,l);s.has(l)||(s.add(l),l.then(p,p))})}function yn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var p=s[l],b=e,C=n,P=C;t:for(;P!==null;){switch(P.tag){case 27:case 5:He=P.stateNode,$i=!1;break t;case 3:He=P.stateNode.containerInfo,$i=!0;break t;case 4:He=P.stateNode.containerInfo,$i=!0;break t}P=P.return}if(He===null)throw Error(a(160));OS(b,C,p),He=null,$i=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)kS(n,e),n=n.sibling}var Pn=null;function kS(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(n,e),vn(e),l&4&&(qs(3,e,e.return),Uu(3,e),qs(5,e,e.return));break;case 1:yn(n,e),vn(e),l&512&&(Ce||s===null||Wi(s,s.return)),l&64&&Pa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var p=Pn;if(yn(n,e),vn(e),l&512&&(Ce||s===null||Wi(s,s.return)),l&4){var b=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,p=p.ownerDocument||p;e:switch(l){case"title":b=p.getElementsByTagName("title")[0],(!b||b[pu]||b[pi]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(l),p.head.insertBefore(b,p.querySelector("head > title"))),li(b,l,s),b[pi]=e,Qe(b),l=b;break t;case"link":var C=E1("link","href",p).get(l+(s.href||""));if(C){for(var P=0;P<C.length;P++)if(b=C[P],b.getAttribute("href")===(s.href==null?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(P,1);break e}}b=p.createElement(l),li(b,l,s),p.head.appendChild(b);break;case"meta":if(C=E1("meta","content",p).get(l+(s.content||""))){for(P=0;P<C.length;P++)if(b=C[P],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(P,1);break e}}b=p.createElement(l),li(b,l,s),p.head.appendChild(b);break;default:throw Error(a(468,l))}b[pi]=e,Qe(b),l=b}e.stateNode=l}else x1(p,e.type,e.stateNode);else e.stateNode=_1(p,l,e.memoizedProps);else b!==l?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,l===null?x1(p,e.type,e.stateNode):_1(p,l,e.memoizedProps)):l===null&&e.stateNode!==null&&xS(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){p=e.stateNode,b=e.memoizedProps;try{for(var q=p.firstChild;q;){var V=q.nextSibling,ut=q.nodeName;q[pu]||ut==="HEAD"||ut==="BODY"||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&q.rel.toLowerCase()==="stylesheet"||p.removeChild(q),q=V}for(var gt=e.type,et=p.attributes;et.length;)p.removeAttributeNode(et[0]);li(p,gt,b),p[pi]=e,p[zi]=b}catch(Rt){pe(e,e.return,Rt)}}case 5:if(yn(n,e),vn(e),l&512&&(Ce||s===null||Wi(s,s.return)),e.flags&32){p=e.stateNode;try{wl(p,"")}catch(Rt){pe(e,e.return,Rt)}}l&4&&e.stateNode!=null&&(p=e.memoizedProps,xS(e,p,s!==null?s.memoizedProps:p)),l&1024&&(lb=!0);break;case 6:if(yn(n,e),vn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Rt){pe(e,e.return,Rt)}}break;case 3:if(hp=null,p=Pn,Pn=cp(n.containerInfo),yn(n,e),Pn=p,vn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{rh(n.containerInfo)}catch(Rt){pe(e,e.return,Rt)}lb&&(lb=!1,NS(e));break;case 4:l=Pn,Pn=cp(e.stateNode.containerInfo),yn(n,e),vn(e),Pn=l;break;case 12:yn(n,e),vn(e);break;case 13:yn(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(yb=ve()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cb(e,l)));break;case 22:if(l&512&&(Ce||s===null||Wi(s,s.return)),q=e.memoizedState!==null,V=s!==null&&s.memoizedState!==null,ut=Pa,gt=Ce,Pa=ut||q,Ce=gt||V,yn(n,e),Ce=gt,Pa=ut,vn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=q?n._visibility&-2:n._visibility|1,q&&(n=Pa||Ce,s===null||V||n||Il(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){V=s=n;try{if(p=V.stateNode,q)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=V.stateNode,P=V.memoizedProps.style;var ct=P!=null&&P.hasOwnProperty("display")?P.display:null;C.style.display=ct==null||typeof ct=="boolean"?"":(""+ct).trim()}}catch(Rt){pe(V,V.return,Rt)}}}else if(n.tag===6){if(s===null){V=n;try{V.stateNode.nodeValue=q?"":V.memoizedProps}catch(Rt){pe(V,V.return,Rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,cb(e,s))));break;case 19:yn(n,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cb(e,l)));break;case 21:break;default:yn(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(TS(s)){var l=s;break t}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var p=l.stateNode,b=rb(e);Wf(e,b,p);break;case 5:var C=l.stateNode;l.flags&32&&(wl(C,""),l.flags&=-33);var P=rb(e);Wf(e,P,C);break;case 3:case 4:var q=l.stateNode.containerInfo,V=rb(e);ob(e,V,q);break;default:throw Error(a(161))}}}catch(ut){pe(e,e.return,ut)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function NS(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;NS(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)DS(e,n.alternate,n),n=n.sibling}function Il(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Il(n);break;case 1:Wi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&_S(n,n.return,s),Il(n);break;case 26:case 27:case 5:Wi(n,n.return),Il(n);break;case 22:Wi(n,n.return),n.memoizedState===null&&Il(n);break;default:Il(n)}e=e.sibling}}function Bs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,p=e,b=n,C=b.flags;switch(b.tag){case 0:case 11:case 15:Bs(p,b,s),Uu(4,b);break;case 1:if(Bs(p,b,s),l=b,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(V){pe(l,l.return,V)}if(l=b,p=l.updateQueue,p!==null){var P=l.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)AS(q[p],P)}catch(V){pe(l,l.return,V)}}s&&C&64&&wS(b),Jr(b,b.return);break;case 26:case 27:case 5:Bs(p,b,s),s&&l===null&&C&4&&ES(b),Jr(b,b.return);break;case 12:Bs(p,b,s);break;case 13:Bs(p,b,s),s&&C&4&&LS(p,b);break;case 22:b.memoizedState===null&&Bs(p,b,s),Jr(b,b.return);break;default:Bs(p,b,s)}n=n.sibling}}function ub(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Lu(s))}function hb(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lu(e))}function Us(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zS(e,n,s,l),n=n.sibling}function zS(e,n,s,l){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Us(e,n,s,l),p&2048&&Uu(9,n);break;case 3:Us(e,n,s,l),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lu(e)));break;case 12:if(p&2048){Us(e,n,s,l),e=n.stateNode;try{var b=n.memoizedProps,C=b.id,P=b.onPostCommit;typeof P=="function"&&P(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(q){pe(n,n.return,q)}}else Us(e,n,s,l);break;case 23:break;case 22:b=n.stateNode,n.memoizedState!==null?b._visibility&4?Us(e,n,s,l):ju(e,n):b._visibility&4?Us(e,n,s,l):(b._visibility|=4,ql(e,n,s,l,(n.subtreeFlags&10256)!==0)),p&2048&&ub(n.alternate,n);break;case 24:Us(e,n,s,l),p&2048&&hb(n.alternate,n);break;default:Us(e,n,s,l)}}function ql(e,n,s,l,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var b=e,C=n,P=s,q=l,V=C.flags;switch(C.tag){case 0:case 11:case 15:ql(b,C,P,q,p),Uu(8,C);break;case 23:break;case 22:var ut=C.stateNode;C.memoizedState!==null?ut._visibility&4?ql(b,C,P,q,p):ju(b,C):(ut._visibility|=4,ql(b,C,P,q,p)),p&&V&2048&&ub(C.alternate,C);break;case 24:ql(b,C,P,q,p),p&&V&2048&&hb(C.alternate,C);break;default:ql(b,C,P,q,p)}n=n.sibling}}function ju(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,p=l.flags;switch(l.tag){case 22:ju(s,l),p&2048&&ub(l.alternate,l);break;case 24:ju(s,l),p&2048&&hb(l.alternate,l);break;default:ju(s,l)}n=n.sibling}}var Gu=8192;function Bl(e){if(e.subtreeFlags&Gu)for(e=e.child;e!==null;)PS(e),e=e.sibling}function PS(e){switch(e.tag){case 26:Bl(e),e.flags&Gu&&e.memoizedState!==null&&TC(Pn,e.memoizedState,e.memoizedProps);break;case 5:Bl(e);break;case 3:case 4:var n=Pn;Pn=cp(e.stateNode.containerInfo),Bl(e),Pn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Gu,Gu=16777216,Bl(e),Gu=n):Bl(e));break;default:Bl(e)}}function HS(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Je=l,IS(l,e)}HS(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)FS(e),e=e.sibling}function FS(e){switch(e.tag){case 0:case 11:case 15:Xu(e),e.flags&2048&&qs(9,e,e.return);break;case 3:Xu(e);break;case 12:Xu(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,$f(e)):Xu(e);break;default:Xu(e)}}function $f(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Je=l,IS(l,e)}HS(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qs(8,n,n.return),$f(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,$f(n));break;default:$f(n)}e=e.sibling}}function IS(e,n){for(;Je!==null;){var s=Je;switch(s.tag){case 0:case 11:case 15:qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Lu(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Je=l;else t:for(s=e;Je!==null;){l=Je;var p=l.sibling,b=l.return;if(MS(l),l===s){Je=null;break t}if(p!==null){p.return=b,Je=p;break t}Je=b}}}function IT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,s,l){return new IT(e,n,s,l)}function db(e){return e=e.prototype,!(!e||!e.isReactComponent)}function js(e,n){var s=e.alternate;return s===null?(s=An(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function qS(e,n){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Kf(e,n,s,l,p,b){var C=0;if(l=e,typeof e=="function")db(e)&&(C=1);else if(typeof e=="string")C=EC(e,s,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case d:return to(s.children,p,b,n);case g:C=8,p|=24;break;case m:return e=An(12,s,n,p|2),e.elementType=m,e.lanes=b,e;case x:return e=An(13,s,n,p),e.elementType=x,e.lanes=b,e;case E:return e=An(19,s,n,p),e.elementType=E,e.lanes=b,e;case T:return BS(s,p,b,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y:case S:C=10;break t;case v:C=9;break t;case w:C=11;break t;case A:C=14;break t;case _:C=16,l=null;break t}C=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=An(C,s,n,p),n.elementType=e,n.type=l,n.lanes=b,n}function to(e,n,s,l){return e=An(7,e,l,n),e.lanes=s,e}function BS(e,n,s,l){e=An(22,e,l,n),e.elementType=T,e.lanes=s;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=p._current;if(b===null)throw Error(a(456));if((p._pendingVisibility&2)===0){var C=Os(b,2);C!==null&&(p._pendingVisibility|=2,xi(C,b,2))}},attach:function(){var b=p._current;if(b===null)throw Error(a(456));if((p._pendingVisibility&2)!==0){var C=Os(b,2);C!==null&&(p._pendingVisibility&=-3,xi(C,b,2))}}};return e.stateNode=p,e}function fb(e,n,s){return e=An(6,e,null,n),e.lanes=s,e}function pb(e,n,s){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ia(e){e.flags|=4}function US(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T1(n)){if(n=bn.current,n!==null&&((Qt&4194176)===Qt?ea!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||n!==ea))throw Du=vm,sA;e.flags|=8192}}function Qf(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?rv():536870912,e.lanes|=n,jl|=n)}function Yu(e,n){if(!Jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var p=e.child;p!==null;)s|=p.lanes|p.childLanes,l|=p.subtreeFlags&31457280,l|=p.flags&31457280,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)s|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function qT(e,n,s){var l=n.pendingProps;switch(bm(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(n),null;case 1:return Se(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),za(Ue),pt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xu(n)?Ia(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zn!==null&&(wb(zn),zn=null))),Se(n),null;case 26:return s=n.memoizedState,e===null?(Ia(n),s!==null?(Se(n),US(n,s)):(Se(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Ia(n),Se(n),US(n,s)):(Se(n),n.flags&=-16777217):(e.memoizedProps!==l&&Ia(n),Se(n),n.flags&=-16777217),null;case 27:Et(n),s=W.current;var p=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ia(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Se(n),null}e=U.current,xu(n)?nA(n):(e=y1(p,l,s),n.stateNode=e,Ia(n))}return Se(n),null;case 5:if(Et(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ia(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Se(n),null}if(e=U.current,xu(n))nA(n);else{switch(p=lp(W.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?p.createElement(s,{is:l.is}):p.createElement(s)}}e[pi]=n,e[zi]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=e;t:switch(li(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ia(n)}}return Se(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ia(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=W.current,xu(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,p=Ei,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}e[pi]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||d1(e.nodeValue,s)),e||Gr(n)}else e=lp(e).createTextNode(l),e[pi]=n,n.stateNode=e}return Se(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=xu(n),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[pi]=n}else Tu(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Se(n),p=!1}else zn!==null&&(wb(zn),zn=null),p=!0;if(!p)return n.flags&256?(Oa(n),n):(Oa(n),null)}if(Oa(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool);var b=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==p&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Qf(n,n.updateQueue),Se(n),null;case 4:return pt(),e===null&&kb(n.stateNode.containerInfo),Se(n),null;case 10:return za(n.type),Se(n),null;case 19:if(dt(Be),p=n.memoizedState,p===null)return Se(n),null;if(l=(n.flags&128)!==0,b=p.rendering,b===null)if(l)Yu(p,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=Nf(e),b!==null){for(n.flags|=128,Yu(p,!1),e=b.updateQueue,n.updateQueue=e,Qf(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)qS(s,e),s=s.sibling;return bt(Be,Be.current&1|2),n.child}e=e.sibling}p.tail!==null&&ve()>Zf&&(n.flags|=128,l=!0,Yu(p,!1),n.lanes=4194304)}else{if(!l)if(e=Nf(b),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Qf(n,e),Yu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Jt)return Se(n),null}else 2*ve()-p.renderingStartTime>Zf&&s!==536870912&&(n.flags|=128,l=!0,Yu(p,!1),n.lanes=4194304);p.isBackwards?(b.sibling=n.child,n.child=b):(e=p.last,e!==null?e.sibling=b:n.child=b,p.last=b)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=ve(),n.sibling=null,e=Be.current,bt(Be,l?e&1|2:e&1),n):(Se(n),null);case 22:case 23:return Oa(n),Sm(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Se(n),n.subtreeFlags&6&&(n.flags|=8192)):Se(n),s=n.updateQueue,s!==null&&Qf(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&dt(Yr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),za(Ue),Se(n),null;case 25:return null}throw Error(a(156,n.tag))}function BT(e,n){switch(bm(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return za(Ue),pt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Et(n),null;case 13:if(Oa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Tu()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return dt(Be),null;case 4:return pt(),null;case 10:return za(n.type),null;case 22:case 23:return Oa(n),Sm(),e!==null&&dt(Yr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return za(Ue),null;case 25:return null;default:return null}}function jS(e,n){switch(bm(n),n.tag){case 3:za(Ue),pt();break;case 26:case 27:case 5:Et(n);break;case 4:pt();break;case 13:Oa(n);break;case 19:dt(Be);break;case 10:za(n.type);break;case 22:case 23:Oa(n),Sm(),e!==null&&dt(Yr);break;case 24:za(Ue)}}var UT={getCacheForType:function(e){var n=gi(Ue),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},jT=typeof WeakMap=="function"?WeakMap:Map,we=0,ge=null,Yt=null,Qt=0,me=0,Ki=null,qa=!1,Ul=!1,gb=!1,Ba=0,Re=0,Gs=0,eo=0,mb=0,Sn=0,jl=0,Vu=null,na=null,bb=!1,yb=0,Zf=1/0,Jf=null,Xs=null,tp=!1,io=null,Wu=0,vb=0,Ab=null,$u=0,Sb=null;function Qi(){if((we&2)!==0&&Qt!==0)return Qt&-Qt;if(H.T!==null){var e=Nl;return e!==0?e:Db()}return uv()}function GS(){Sn===0&&(Sn=(Qt&536870912)===0||Jt?sv():536870912);var e=bn.current;return e!==null&&(e.flags|=32),Sn}function xi(e,n,s){(e===ge&&me===2||e.cancelPendingCommit!==null)&&(Gl(e,0),Ua(e,Qt,Sn,!1)),fu(e,s),((we&2)===0||e!==ge)&&(e===ge&&((we&2)===0&&(eo|=s),Re===4&&Ua(e,Qt,Sn,!1)),aa(e))}function XS(e,n,s){if((we&6)!==0)throw Error(a(327));var l=!s&&(n&60)===0&&(n&e.expiredLanes)===0||du(e,n),p=l?YT(e,n):xb(e,n,!0),b=l;do{if(p===0){Ul&&!l&&Ua(e,n,0,!1);break}else if(p===6)Ua(e,n,0,!qa);else{if(s=e.current.alternate,b&&!GT(s)){p=xb(e,n,!1),b=!1;continue}if(p===2){if(b=n,e.errorRecoveryDisabledLanes&b)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;t:{var P=e;p=Vu;var q=P.current.memoizedState.isDehydrated;if(q&&(Gl(P,C).flags|=256),C=xb(P,C,!1),C!==2){if(gb&&!q){P.errorRecoveryDisabledLanes|=b,eo|=b,p=4;break t}b=na,na=p,b!==null&&wb(b)}p=C}if(b=!1,p!==2)continue}}if(p===1){Gl(e,0),Ua(e,n,0,!0);break}t:{switch(l=e,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ua(l,n,Sn,!qa);break t}break;case 2:na=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=n,(n&62914560)===n&&(b=yb+300-ve(),10<b)){if(Ua(l,n,Sn,!qa),ff(l,0)!==0)break t;l.timeoutHandle=g1(YS.bind(null,l,s,na,Jf,bb,n,Sn,eo,jl,qa,2,-0,0),b);break t}YS(l,s,na,Jf,bb,n,Sn,eo,jl,qa,0,-0,0)}}break}while(!0);aa(e)}function wb(e){na===null?na=e:na.push.apply(na,e)}function YS(e,n,s,l,p,b,C,P,q,V,ut,gt,et){var ct=n.subtreeFlags;if((ct&8192||(ct&16785408)===16785408)&&(eh={stylesheets:null,count:0,unsuspend:xC},PS(n),n=CC(),n!==null)){e.cancelPendingCommit=n(JS.bind(null,e,s,l,p,C,P,q,1,gt,et)),Ua(e,b,C,!V);return}JS(e,s,l,p,C,P,q,ut,gt,et)}function GT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var p=s[l],b=p.getSnapshot;p=p.value;try{if(!Vi(b(),p))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ua(e,n,s,l){n&=~mb,n&=~eo,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var p=n;0<p;){var b=31-Yi(p),C=1<<b;l[b]=-1,p&=~C}s!==0&&ov(e,s,n)}function ep(){return(we&6)===0?(Ku(0),!1):!0}function _b(){if(Yt!==null){if(me===0)var e=Yt.return;else e=Yt,Na=Qr=null,Dm(e),Ll=null,Mu=0,e=Yt;for(;e!==null;)jS(e.alternate,e),e=e.return;Yt=null}}function Gl(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,cC(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),_b(),ge=e,Yt=s=js(e.current,null),Qt=n,me=0,Ki=null,qa=!1,Ul=du(e,n),gb=!1,jl=Sn=mb=eo=Gs=Re=0,na=Vu=null,bb=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var p=31-Yi(l),b=1<<p;n|=e[p],l&=~b}return Ba=n,xf(),s}function VS(e,n){Ut=null,H.H=ia,n===Ru?(n=lA(),me=3):n===sA?(n=lA(),me=4):me=n===rS?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ki=n,Yt===null&&(Re=1,Xf(e,pn(n,e.current)))}function WS(){var e=H.H;return H.H=ia,e===null?ia:e}function $S(){var e=H.A;return H.A=UT,e}function Eb(){Re=4,qa||(Qt&4194176)!==Qt&&bn.current!==null||(Ul=!0),(Gs&134217727)===0&&(eo&134217727)===0||ge===null||Ua(ge,Qt,Sn,!1)}function xb(e,n,s){var l=we;we|=2;var p=WS(),b=$S();(ge!==e||Qt!==n)&&(Jf=null,Gl(e,n)),n=!1;var C=Re;t:do try{if(me!==0&&Yt!==null){var P=Yt,q=Ki;switch(me){case 8:_b(),C=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var V=me;if(me=0,Ki=null,Xl(e,P,q,V),s&&Ul){C=0;break t}break;default:V=me,me=0,Ki=null,Xl(e,P,q,V)}}XT(),C=Re;break}catch(ut){VS(e,ut)}while(!0);return n&&e.shellSuspendCounter++,Na=Qr=null,we=l,H.H=p,H.A=b,Yt===null&&(ge=null,Qt=0,xf()),C}function XT(){for(;Yt!==null;)KS(Yt)}function YT(e,n){var s=we;we|=2;var l=WS(),p=$S();ge!==e||Qt!==n?(Jf=null,Zf=ve()+500,Gl(e,n)):Ul=du(e,n);t:do try{if(me!==0&&Yt!==null){n=Yt;var b=Ki;e:switch(me){case 1:me=0,Ki=null,Xl(e,n,b,1);break;case 2:if(rA(b)){me=0,Ki=null,QS(n);break}n=function(){me===2&&ge===e&&(me=7),aa(e)},b.then(n,n);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:rA(b)?(me=0,Ki=null,QS(n)):(me=0,Ki=null,Xl(e,n,b,7));break;case 5:var C=null;switch(Yt.tag){case 26:C=Yt.memoizedState;case 5:case 27:var P=Yt;if(!C||T1(C)){me=0,Ki=null;var q=P.sibling;if(q!==null)Yt=q;else{var V=P.return;V!==null?(Yt=V,ip(V)):Yt=null}break e}}me=0,Ki=null,Xl(e,n,b,5);break;case 6:me=0,Ki=null,Xl(e,n,b,6);break;case 8:_b(),Re=6;break t;default:throw Error(a(462))}}VT();break}catch(ut){VS(e,ut)}while(!0);return Na=Qr=null,H.H=l,H.A=p,we=s,Yt!==null?0:(ge=null,Qt=0,xf(),Re)}function VT(){for(;Yt!==null&&!le();)KS(Yt)}function KS(e){var n=yS(e.alternate,e,Ba);e.memoizedProps=e.pendingProps,n===null?ip(e):Yt=n}function QS(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=dS(s,n,n.pendingProps,n.type,void 0,Qt);break;case 11:n=dS(s,n,n.pendingProps,n.type.render,n.ref,Qt);break;case 5:Dm(n);default:jS(s,n),n=Yt=qS(n,Ba),n=yS(s,n,Ba)}e.memoizedProps=e.pendingProps,n===null?ip(e):Yt=n}function Xl(e,n,s,l){Na=Qr=null,Dm(n),Ll=null,Mu=0;var p=n.return;try{if(zT(e,p,n,s,Qt)){Re=1,Xf(e,pn(s,e.current)),Yt=null;return}}catch(b){if(p!==null)throw Yt=p,b;Re=1,Xf(e,pn(s,e.current)),Yt=null;return}n.flags&32768?(Jt||l===1?e=!0:Ul||(Qt&536870912)!==0?e=!1:(qa=e=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ZS(n,e)):ip(n)}function ip(e){var n=e;do{if((n.flags&32768)!==0){ZS(n,qa);return}e=n.return;var s=qT(n.alternate,n,Ba);if(s!==null){Yt=s;return}if(n=n.sibling,n!==null){Yt=n;return}Yt=n=e}while(n!==null);Re===0&&(Re=5)}function ZS(e,n){do{var s=BT(e.alternate,e);if(s!==null){s.flags&=32767,Yt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Yt=e;return}Yt=e=s}while(e!==null);Re=6,Yt=null}function JS(e,n,s,l,p,b,C,P,q,V){var ut=H.T,gt=lt.p;try{lt.p=2,H.T=null,WT(e,n,s,l,gt,p,b,C,P,q,V)}finally{H.T=ut,lt.p=gt}}function WT(e,n,s,l,p,b,C,P){do Yl();while(io!==null);if((we&6)!==0)throw Error(a(327));var q=e.finishedWork;if(l=e.finishedLanes,q===null)return null;if(e.finishedWork=null,e.finishedLanes=0,q===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var V=q.lanes|q.childLanes;if(V|=pm,Tx(e,l,V,b,C,P),e===ge&&(Yt=ge=null,Qt=0),(q.subtreeFlags&10256)===0&&(q.flags&10256)===0||tp||(tp=!0,vb=V,Ab=s,ZT(Ni,function(){return Yl(),null})),s=(q.flags&15990)!==0,(q.subtreeFlags&15990)!==0||s?(s=H.T,H.T=null,b=lt.p,lt.p=2,C=we,we|=4,HT(e,q),kS(q,e),yT(Hb,e.containerInfo),pp=!!Pb,Hb=Pb=null,e.current=q,DS(e,q.alternate,q),fe(),we=C,lt.p=b,H.T=s):e.current=q,tp?(tp=!1,io=e,Wu=l):t1(e,V),V=e.pendingLanes,V===0&&(Xs=null),Sx(q.stateNode),aa(e),n!==null)for(p=e.onRecoverableError,q=0;q<n.length;q++)V=n[q],p(V.value,{componentStack:V.stack});return(Wu&3)!==0&&Yl(),V=e.pendingLanes,(l&4194218)!==0&&(V&42)!==0?e===Sb?$u++:($u=0,Sb=e):$u=0,Ku(0),null}function t1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lu(n)))}function Yl(){if(io!==null){var e=io,n=vb;vb=0;var s=cv(Wu),l=H.T,p=lt.p;try{if(lt.p=32>s?32:s,H.T=null,io===null)var b=!1;else{s=Ab,Ab=null;var C=io,P=Wu;if(io=null,Wu=0,(we&6)!==0)throw Error(a(331));var q=we;if(we|=4,FS(C.current),zS(C,C.current,P,s),we=q,Ku(0,!1),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(hu,C)}catch{}b=!0}return b}finally{lt.p=p,H.T=l,t1(e,n)}}return!1}function e1(e,n,s){n=pn(s,n),n=jm(e.stateNode,n,2),e=Is(e,n,2),e!==null&&(fu(e,2),aa(e))}function pe(e,n,s){if(e.tag===3)e1(e,e,s);else for(;n!==null;){if(n.tag===3){e1(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xs===null||!Xs.has(l))){e=pn(s,e),s=aS(2),l=Is(n,s,2),l!==null&&(sS(s,l,n,e),fu(l,2),aa(l));break}}n=n.return}}function Tb(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new jT;var p=new Set;l.set(n,p)}else p=l.get(n),p===void 0&&(p=new Set,l.set(n,p));p.has(s)||(gb=!0,p.add(s),e=$T.bind(null,e,n,s),n.then(e,e))}function $T(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ge===e&&(Qt&s)===s&&(Re===4||Re===3&&(Qt&62914560)===Qt&&300>ve()-yb?(we&2)===0&&Gl(e,0):mb|=s,jl===Qt&&(jl=0)),aa(e)}function i1(e,n){n===0&&(n=rv()),e=Os(e,n),e!==null&&(fu(e,n),aa(e))}function KT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),i1(e,s)}function QT(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,p=e.memoizedState;p!==null&&(s=p.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),i1(e,s)}function ZT(e,n){return zt(e,n)}var np=null,Vl=null,Cb=!1,ap=!1,Rb=!1,no=0;function aa(e){e!==Vl&&e.next===null&&(Vl===null?np=Vl=e:Vl=Vl.next=e),ap=!0,Cb||(Cb=!0,tC(JT))}function Ku(e,n){if(!Rb&&ap){Rb=!0;do for(var s=!1,l=np;l!==null;){if(e!==0){var p=l.pendingLanes;if(p===0)var b=0;else{var C=l.suspendedLanes,P=l.pingedLanes;b=(1<<31-Yi(42|e)+1)-1,b&=p&~(C&~P),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(s=!0,s1(l,b))}else b=Qt,b=ff(l,l===ge?b:0),(b&3)===0||du(l,b)||(s=!0,s1(l,b));l=l.next}while(s);Rb=!1}}function JT(){ap=Cb=!1;var e=0;no!==0&&(lC()&&(e=no),no=0);for(var n=ve(),s=null,l=np;l!==null;){var p=l.next,b=n1(l,n);b===0?(l.next=null,s===null?np=p:s.next=p,p===null&&(Vl=s)):(s=l,(e!==0||(b&3)!==0)&&(ap=!0)),l=p}Ku(e)}function n1(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,p=e.expirationTimes,b=e.pendingLanes&-62914561;0<b;){var C=31-Yi(b),P=1<<C,q=p[C];q===-1?((P&s)===0||(P&l)!==0)&&(p[C]=xx(P,n)):q<=n&&(e.expiredLanes|=P),b&=~P}if(n=ge,s=Qt,s=ff(e,e===n?s:0),l=e.callbackNode,s===0||e===n&&me===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ie(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||du(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ie(l),cv(s)){case 2:case 8:s=zr;break;case 32:s=Ni;break;case 268435456:s=av;break;default:s=Ni}return l=a1.bind(null,e),s=zt(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ie(l),e.callbackPriority=2,e.callbackNode=null,2}function a1(e,n){var s=e.callbackNode;if(Yl()&&e.callbackNode!==s)return null;var l=Qt;return l=ff(e,e===ge?l:0),l===0?null:(XS(e,l,n),n1(e,ve()),e.callbackNode!=null&&e.callbackNode===s?a1.bind(null,e):null)}function s1(e,n){if(Yl())return null;XS(e,n,!0)}function tC(e){uC(function(){(we&6)!==0?zt(Ta,e):e()})}function Db(){return no===0&&(no=sv()),no}function r1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yf(""+e)}function o1(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function eC(e,n,s,l,p){if(n==="submit"&&s&&s.stateNode===p){var b=r1((p[zi]||null).action),C=l.submitter;C&&(n=(n=C[zi]||null)?r1(n.formAction):C.getAttribute("formAction"),n!==null&&(b=n,C=null));var P=new wf("action","action",null,l,p);e.push({event:P,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(no!==0){var q=C?o1(p,C):new FormData(p);Fm(s,{pending:!0,data:q,method:p.method,action:b},null,q)}}else typeof b=="function"&&(P.preventDefault(),q=C?o1(p,C):new FormData(p),Fm(s,{pending:!0,data:q,method:p.method,action:b},b,q))},currentTarget:p}]})}}for(var Mb=0;Mb<Jv.length;Mb++){var Ob=Jv[Mb],iC=Ob.toLowerCase(),nC=Ob[0].toUpperCase()+Ob.slice(1);Nn(iC,"on"+nC)}Nn(Wv,"onAnimationEnd"),Nn($v,"onAnimationIteration"),Nn(Kv,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(AT,"onTransitionRun"),Nn(ST,"onTransitionStart"),Nn(wT,"onTransitionCancel"),Nn(Qv,"onTransitionEnd"),Al("onMouseEnter",["mouseout","mouseover"]),Al("onMouseLeave",["mouseout","mouseover"]),Al("onPointerEnter",["pointerout","pointerover"]),Al("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function l1(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],p=l.event;l=l.listeners;t:{var b=void 0;if(n)for(var C=l.length-1;0<=C;C--){var P=l[C],q=P.instance,V=P.currentTarget;if(P=P.listener,q!==b&&p.isPropagationStopped())break t;b=P,p.currentTarget=V;try{b(p)}catch(ut){Gf(ut)}p.currentTarget=null,b=q}else for(C=0;C<l.length;C++){if(P=l[C],q=P.instance,V=P.currentTarget,P=P.listener,q!==b&&p.isPropagationStopped())break t;b=P,p.currentTarget=V;try{b(p)}catch(ut){Gf(ut)}p.currentTarget=null,b=q}}}}function Wt(e,n){var s=n[Vg];s===void 0&&(s=n[Vg]=new Set);var l=e+"__bubble";s.has(l)||(c1(n,e,2,!1),s.add(l))}function Lb(e,n,s){var l=0;n&&(l|=4),c1(s,e,l,n)}var sp="_reactListening"+Math.random().toString(36).slice(2);function kb(e){if(!e[sp]){e[sp]=!0,dv.forEach(function(s){s!=="selectionchange"&&(aC.has(s)||Lb(s,!1,e),Lb(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sp]||(n[sp]=!0,Lb("selectionchange",!1,n))}}function c1(e,n,s,l){switch(L1(n)){case 2:var p=MC;break;case 8:p=OC;break;default:p=Yb}s=p.bind(null,n,s,e),p=void 0,!em||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),l?p!==void 0?e.addEventListener(n,s,{capture:!0,passive:p}):e.addEventListener(n,s,!0):p!==void 0?e.addEventListener(n,s,{passive:p}):e.addEventListener(n,s,!1)}function Nb(e,n,s,l,p){var b=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var C=l.tag;if(C===3||C===4){var P=l.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(C===4)for(C=l.return;C!==null;){var q=C.tag;if((q===3||q===4)&&(q=C.stateNode.containerInfo,q===p||q.nodeType===8&&q.parentNode===p))return;C=C.return}for(;P!==null;){if(C=Hr(P),C===null)return;if(q=C.tag,q===5||q===6||q===26||q===27){l=b=C;continue t}P=P.parentNode}}l=l.return}Ev(function(){var V=b,ut=Jg(s),gt=[];t:{var et=Zv.get(e);if(et!==void 0){var ct=wf,Rt=e;switch(e){case"keypress":if(Af(s)===0)break t;case"keydown":case"keyup":ct=Qx;break;case"focusin":Rt="focus",ct=sm;break;case"focusout":Rt="blur",ct=sm;break;case"beforeblur":case"afterblur":ct=sm;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=Cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=tT;break;case Wv:case $v:case Kv:ct=Ux;break;case Qv:ct=iT;break;case"scroll":case"scrollend":ct=Hx;break;case"wheel":ct=aT;break;case"copy":case"cut":case"paste":ct=Gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Dv;break;case"toggle":case"beforetoggle":ct=rT}var Pt=(n&4)!==0,De=!Pt&&(e==="scroll"||e==="scrollend"),Q=Pt?et!==null?et+"Capture":null:et;Pt=[];for(var X=V,J;X!==null;){var ft=X;if(J=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||J===null||Q===null||(ft=mu(X,Q),ft!=null&&Pt.push(Zu(X,ft,J))),De)break;X=X.return}0<Pt.length&&(et=new ct(et,Rt,null,s,ut),gt.push({event:et,listeners:Pt}))}}if((n&7)===0){t:{if(et=e==="mouseover"||e==="pointerover",ct=e==="mouseout"||e==="pointerout",et&&s!==Zg&&(Rt=s.relatedTarget||s.fromElement)&&(Hr(Rt)||Rt[bl]))break t;if((ct||et)&&(et=ut.window===ut?ut:(et=ut.ownerDocument)?et.defaultView||et.parentWindow:window,ct?(Rt=s.relatedTarget||s.toElement,ct=V,Rt=Rt?Hr(Rt):null,Rt!==null&&(De=K(Rt),Pt=Rt.tag,Rt!==De||Pt!==5&&Pt!==27&&Pt!==6)&&(Rt=null)):(ct=null,Rt=V),ct!==Rt)){if(Pt=Cv,ft="onMouseLeave",Q="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(Pt=Dv,ft="onPointerLeave",Q="onPointerEnter",X="pointer"),De=ct==null?et:gu(ct),J=Rt==null?et:gu(Rt),et=new Pt(ft,X+"leave",ct,s,ut),et.target=De,et.relatedTarget=J,ft=null,Hr(ut)===V&&(Pt=new Pt(Q,X+"enter",Rt,s,ut),Pt.target=J,Pt.relatedTarget=De,ft=Pt),De=ft,ct&&Rt)e:{for(Pt=ct,Q=Rt,X=0,J=Pt;J;J=Wl(J))X++;for(J=0,ft=Q;ft;ft=Wl(ft))J++;for(;0<X-J;)Pt=Wl(Pt),X--;for(;0<J-X;)Q=Wl(Q),J--;for(;X--;){if(Pt===Q||Q!==null&&Pt===Q.alternate)break e;Pt=Wl(Pt),Q=Wl(Q)}Pt=null}else Pt=null;ct!==null&&u1(gt,et,ct,Pt,!1),Rt!==null&&De!==null&&u1(gt,De,Rt,Pt,!0)}}t:{if(et=V?gu(V):window,ct=et.nodeName&&et.nodeName.toLowerCase(),ct==="select"||ct==="input"&&et.type==="file")var Ct=Hv;else if(zv(et))if(Fv)Ct=mT;else{Ct=pT;var Gt=fT}else ct=et.nodeName,!ct||ct.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?V&&Qg(V.elementType)&&(Ct=Hv):Ct=gT;if(Ct&&(Ct=Ct(e,V))){Pv(gt,Ct,s,ut);break t}Gt&&Gt(e,et,V),e==="focusout"&&V&&et.type==="number"&&V.memoizedProps.value!=null&&Kg(et,"number",et.value)}switch(Gt=V?gu(V):window,e){case"focusin":(zv(Gt)||Gt.contentEditable==="true")&&(Tl=Gt,hm=V,Eu=null);break;case"focusout":Eu=hm=Tl=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,Yv(gt,s,ut);break;case"selectionchange":if(vT)break;case"keydown":case"keyup":Yv(gt,s,ut)}var Mt;if(om)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else xl?kv(e,s)&&(Lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Lt="onCompositionStart");Lt&&(Mv&&s.locale!=="ko"&&(xl||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&xl&&(Mt=xv()):(Ms=ut,im="value"in Ms?Ms.value:Ms.textContent,xl=!0)),Gt=rp(V,Lt),0<Gt.length&&(Lt=new Rv(Lt,e,null,s,ut),gt.push({event:Lt,listeners:Gt}),Mt?Lt.data=Mt:(Mt=Nv(s),Mt!==null&&(Lt.data=Mt)))),(Mt=lT?cT(e,s):uT(e,s))&&(Lt=rp(V,"onBeforeInput"),0<Lt.length&&(Gt=new Rv("onBeforeInput","beforeinput",null,s,ut),gt.push({event:Gt,listeners:Lt}),Gt.data=Mt)),eC(gt,e,V,s,ut)}l1(gt,n)})}function Zu(e,n,s){return{instance:e,listener:n,currentTarget:s}}function rp(e,n){for(var s=n+"Capture",l=[];e!==null;){var p=e,b=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=mu(e,s),p!=null&&l.unshift(Zu(e,p,b)),p=mu(e,n),p!=null&&l.push(Zu(e,p,b))),e=e.return}return l}function Wl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u1(e,n,s,l,p){for(var b=n._reactName,C=[];s!==null&&s!==l;){var P=s,q=P.alternate,V=P.stateNode;if(P=P.tag,q!==null&&q===l)break;P!==5&&P!==26&&P!==27||V===null||(q=V,p?(V=mu(s,b),V!=null&&C.unshift(Zu(s,V,q))):p||(V=mu(s,b),V!=null&&C.push(Zu(s,V,q)))),s=s.return}C.length!==0&&e.push({event:n,listeners:C})}var sC=/\r\n?/g,rC=/\u0000|\uFFFD/g;function h1(e){return(typeof e=="string"?e:""+e).replace(sC,`
`).replace(rC,"")}function d1(e,n){return n=h1(n),h1(e)===n}function op(){}function ue(e,n,s,l,p,b){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wl(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wl(e,""+l);break;case"className":gf(e,"class",l);break;case"tabIndex":gf(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gf(e,s,l);break;case"style":wv(e,l,b);break;case"data":if(n!=="object"){gf(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=yf(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(n!=="input"&&ue(e,n,"name",p.name,p,null),ue(e,n,"formEncType",p.formEncType,p,null),ue(e,n,"formMethod",p.formMethod,p,null),ue(e,n,"formTarget",p.formTarget,p,null)):(ue(e,n,"encType",p.encType,p,null),ue(e,n,"method",p.method,p,null),ue(e,n,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=yf(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=op);break;case"onScroll":l!=null&&Wt("scroll",e);break;case"onScrollEnd":l!=null&&Wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=yf(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Wt("beforetoggle",e),Wt("toggle",e),pf(e,"popover",l);break;case"xlinkActuate":Ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ra(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ra(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ra(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ra(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pf(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=zx.get(s)||s,pf(e,s,l))}}function zb(e,n,s,l,p,b){switch(s){case"style":wv(e,l,b);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?wl(e,l):(typeof l=="number"||typeof l=="bigint")&&wl(e,""+l);break;case"onScroll":l!=null&&Wt("scroll",e);break;case"onScrollEnd":l!=null&&Wt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=op);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fv.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),n=s.slice(2,p?s.length-7:void 0),b=e[zi]||null,b=b!=null?b[s]:null,typeof b=="function"&&e.removeEventListener(n,b,p),typeof l=="function")){typeof b!="function"&&b!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,p);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):pf(e,s,l)}}}function li(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wt("error",e),Wt("load",e);var l=!1,p=!1,b;for(b in s)if(s.hasOwnProperty(b)){var C=s[b];if(C!=null)switch(b){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ue(e,n,b,C,s,null)}}p&&ue(e,n,"srcSet",s.srcSet,s,null),l&&ue(e,n,"src",s.src,s,null);return;case"input":Wt("invalid",e);var P=b=C=p=null,q=null,V=null;for(l in s)if(s.hasOwnProperty(l)){var ut=s[l];if(ut!=null)switch(l){case"name":p=ut;break;case"type":C=ut;break;case"checked":q=ut;break;case"defaultChecked":V=ut;break;case"value":b=ut;break;case"defaultValue":P=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(a(137,n));break;default:ue(e,n,l,ut,s,null)}}yv(e,b,P,q,V,C,p,!1),mf(e);return;case"select":Wt("invalid",e),l=C=b=null;for(p in s)if(s.hasOwnProperty(p)&&(P=s[p],P!=null))switch(p){case"value":b=P;break;case"defaultValue":C=P;break;case"multiple":l=P;default:ue(e,n,p,P,s,null)}n=b,s=C,e.multiple=!!l,n!=null?Sl(e,!!l,n,!1):s!=null&&Sl(e,!!l,s,!0);return;case"textarea":Wt("invalid",e),b=p=l=null;for(C in s)if(s.hasOwnProperty(C)&&(P=s[C],P!=null))switch(C){case"value":l=P;break;case"defaultValue":p=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(91));break;default:ue(e,n,C,P,s,null)}Av(e,l,p,b),mf(e);return;case"option":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ue(e,n,q,l,s,null)}return;case"dialog":Wt("cancel",e),Wt("close",e);break;case"iframe":case"object":Wt("load",e);break;case"video":case"audio":for(l=0;l<Qu.length;l++)Wt(Qu[l],e);break;case"image":Wt("error",e),Wt("load",e);break;case"details":Wt("toggle",e);break;case"embed":case"source":case"link":Wt("error",e),Wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in s)if(s.hasOwnProperty(V)&&(l=s[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ue(e,n,V,l,s,null)}return;default:if(Qg(n)){for(ut in s)s.hasOwnProperty(ut)&&(l=s[ut],l!==void 0&&zb(e,n,ut,l,s,void 0));return}}for(P in s)s.hasOwnProperty(P)&&(l=s[P],l!=null&&ue(e,n,P,l,s,null))}function oC(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,C=null,P=null,q=null,V=null,ut=null;for(ct in s){var gt=s[ct];if(s.hasOwnProperty(ct)&&gt!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":q=gt;default:l.hasOwnProperty(ct)||ue(e,n,ct,null,l,gt)}}for(var et in l){var ct=l[et];if(gt=s[et],l.hasOwnProperty(et)&&(ct!=null||gt!=null))switch(et){case"type":b=ct;break;case"name":p=ct;break;case"checked":V=ct;break;case"defaultChecked":ut=ct;break;case"value":C=ct;break;case"defaultValue":P=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(a(137,n));break;default:ct!==gt&&ue(e,n,et,ct,l,gt)}}$g(e,C,P,q,V,ut,b,p);return;case"select":ct=C=P=et=null;for(b in s)if(q=s[b],s.hasOwnProperty(b)&&q!=null)switch(b){case"value":break;case"multiple":ct=q;default:l.hasOwnProperty(b)||ue(e,n,b,null,l,q)}for(p in l)if(b=l[p],q=s[p],l.hasOwnProperty(p)&&(b!=null||q!=null))switch(p){case"value":et=b;break;case"defaultValue":P=b;break;case"multiple":C=b;default:b!==q&&ue(e,n,p,b,l,q)}n=P,s=C,l=ct,et!=null?Sl(e,!!s,et,!1):!!l!=!!s&&(n!=null?Sl(e,!!s,n,!0):Sl(e,!!s,s?[]:"",!1));return;case"textarea":ct=et=null;for(P in s)if(p=s[P],s.hasOwnProperty(P)&&p!=null&&!l.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ue(e,n,P,null,l,p)}for(C in l)if(p=l[C],b=s[C],l.hasOwnProperty(C)&&(p!=null||b!=null))switch(C){case"value":et=p;break;case"defaultValue":ct=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==b&&ue(e,n,C,p,l,b)}vv(e,et,ct);return;case"option":for(var Rt in s)if(et=s[Rt],s.hasOwnProperty(Rt)&&et!=null&&!l.hasOwnProperty(Rt))switch(Rt){case"selected":e.selected=!1;break;default:ue(e,n,Rt,null,l,et)}for(q in l)if(et=l[q],ct=s[q],l.hasOwnProperty(q)&&et!==ct&&(et!=null||ct!=null))switch(q){case"selected":e.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:ue(e,n,q,et,l,ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in s)et=s[Pt],s.hasOwnProperty(Pt)&&et!=null&&!l.hasOwnProperty(Pt)&&ue(e,n,Pt,null,l,et);for(V in l)if(et=l[V],ct=s[V],l.hasOwnProperty(V)&&et!==ct&&(et!=null||ct!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,n));break;default:ue(e,n,V,et,l,ct)}return;default:if(Qg(n)){for(var De in s)et=s[De],s.hasOwnProperty(De)&&et!==void 0&&!l.hasOwnProperty(De)&&zb(e,n,De,void 0,l,et);for(ut in l)et=l[ut],ct=s[ut],!l.hasOwnProperty(ut)||et===ct||et===void 0&&ct===void 0||zb(e,n,ut,et,l,ct);return}}for(var Q in s)et=s[Q],s.hasOwnProperty(Q)&&et!=null&&!l.hasOwnProperty(Q)&&ue(e,n,Q,null,l,et);for(gt in l)et=l[gt],ct=s[gt],!l.hasOwnProperty(gt)||et===ct||et==null&&ct==null||ue(e,n,gt,et,l,ct)}var Pb=null,Hb=null;function lp(e){return e.nodeType===9?e:e.ownerDocument}function f1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Fb(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ib=null;function lC(){var e=window.event;return e&&e.type==="popstate"?e===Ib?!1:(Ib=e,!0):(Ib=null,!1)}var g1=typeof setTimeout=="function"?setTimeout:void 0,cC=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,uC=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(e){return m1.resolve(null).then(e).catch(hC)}:g1;function hC(e){setTimeout(function(){throw e})}function qb(e,n){var s=n,l=0;do{var p=s.nextSibling;if(e.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(l===0){e.removeChild(p),rh(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=p}while(s);rh(n)}function Bb(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Bb(s),Wg(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function dC(e,n,s,l){for(;e.nodeType===1;){var p=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[pu])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(b=e.getAttribute("rel"),b==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(b!==p.rel||e.getAttribute("href")!==(p.href==null?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(b=e.getAttribute("src"),(b!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===b)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function fC(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Hn(e.nextSibling),e===null))return null;return e}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function b1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function y1(e,n,s){switch(n=lp(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var wn=new Map,v1=new Set;function cp(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var ja=lt.d;lt.d={f:pC,r:gC,D:mC,C:bC,L:yC,m:vC,X:SC,S:AC,M:wC};function pC(){var e=ja.f(),n=ep();return e||n}function gC(e){var n=yl(e);n!==null&&n.tag===5&&n.type==="form"?YA(n):ja.r(e)}var $l=typeof document>"u"?null:document;function A1(e,n,s){var l=$l;if(l&&typeof n=="string"&&n){var p=dn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),v1.has(p)||(v1.add(p),e={rel:e,crossOrigin:s,href:n},l.querySelector(p)===null&&(n=l.createElement("link"),li(n,"link",e),Qe(n),l.head.appendChild(n)))}}function mC(e){ja.D(e),A1("dns-prefetch",e,null)}function bC(e,n){ja.C(e,n),A1("preconnect",e,n)}function yC(e,n,s){ja.L(e,n,s);var l=$l;if(l&&e&&n){var p='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+dn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+dn(s.imageSizes)+'"]')):p+='[href="'+dn(e)+'"]';var b=p;switch(n){case"style":b=Kl(e);break;case"script":b=Ql(e)}wn.has(b)||(e=Y({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),wn.set(b,e),l.querySelector(p)!==null||n==="style"&&l.querySelector(Ju(b))||n==="script"&&l.querySelector(th(b))||(n=l.createElement("link"),li(n,"link",e),Qe(n),l.head.appendChild(n)))}}function vC(e,n){ja.m(e,n);var s=$l;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(e)+'"]',b=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ql(e)}if(!wn.has(b)&&(e=Y({rel:"modulepreload",href:e},n),wn.set(b,e),s.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(th(b)))return}l=s.createElement("link"),li(l,"link",e),Qe(l),s.head.appendChild(l)}}}function AC(e,n,s){ja.S(e,n,s);var l=$l;if(l&&e){var p=vl(l).hoistableStyles,b=Kl(e);n=n||"default";var C=p.get(b);if(!C){var P={loading:0,preload:null};if(C=l.querySelector(Ju(b)))P.loading=5;else{e=Y({rel:"stylesheet",href:e,"data-precedence":n},s),(s=wn.get(b))&&Ub(e,s);var q=C=l.createElement("link");Qe(q),li(q,"link",e),q._p=new Promise(function(V,ut){q.onload=V,q.onerror=ut}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,up(C,n,l)}C={type:"stylesheet",instance:C,count:1,state:P},p.set(b,C)}}}function SC(e,n){ja.X(e,n);var s=$l;if(s&&e){var l=vl(s).hoistableScripts,p=Ql(e),b=l.get(p);b||(b=s.querySelector(th(p)),b||(e=Y({src:e,async:!0},n),(n=wn.get(p))&&jb(e,n),b=s.createElement("script"),Qe(b),li(b,"link",e),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(p,b))}}function wC(e,n){ja.M(e,n);var s=$l;if(s&&e){var l=vl(s).hoistableScripts,p=Ql(e),b=l.get(p);b||(b=s.querySelector(th(p)),b||(e=Y({src:e,async:!0,type:"module"},n),(n=wn.get(p))&&jb(e,n),b=s.createElement("script"),Qe(b),li(b,"link",e),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(p,b))}}function S1(e,n,s,l){var p=(p=W.current)?cp(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Kl(s.href),s=vl(p).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Kl(s.href);var b=vl(p).hoistableStyles,C=b.get(e);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(e,C),(b=p.querySelector(Ju(e)))&&!b._p&&(C.instance=b,C.state.loading=5),wn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wn.set(e,s),b||_C(p,e,s,C.state))),n&&l===null)throw Error(a(528,""));return C}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ql(s),s=vl(p).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Kl(e){return'href="'+dn(e)+'"'}function Ju(e){return'link[rel="stylesheet"]['+e+"]"}function w1(e){return Y({},e,{"data-precedence":e.precedence,precedence:null})}function _C(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),li(n,"link",s),Qe(n),e.head.appendChild(n))}function Ql(e){return'[src="'+dn(e)+'"]'}function th(e){return"script[async]"+e}function _1(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+dn(s.href)+'"]');if(l)return n.instance=l,Qe(l),l;var p=Y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Qe(l),li(l,"style",p),up(l,s.precedence,e),n.instance=l;case"stylesheet":p=Kl(s.href);var b=e.querySelector(Ju(p));if(b)return n.state.loading|=4,n.instance=b,Qe(b),b;l=w1(s),(p=wn.get(p))&&Ub(l,p),b=(e.ownerDocument||e).createElement("link"),Qe(b);var C=b;return C._p=new Promise(function(P,q){C.onload=P,C.onerror=q}),li(b,"link",l),n.state.loading|=4,up(b,s.precedence,e),n.instance=b;case"script":return b=Ql(s.src),(p=e.querySelector(th(b)))?(n.instance=p,Qe(p),p):(l=s,(p=wn.get(b))&&(l=Y({},s),jb(l,p)),e=e.ownerDocument||e,p=e.createElement("script"),Qe(p),li(p,"link",l),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,up(l,s.precedence,e));return n.instance}function up(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,b=p,C=0;C<l.length;C++){var P=l[C];if(P.dataset.precedence===n)b=P;else if(b!==p)break}b?b.parentNode.insertBefore(e,b.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ub(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function jb(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hp=null;function E1(e,n,s){if(hp===null){var l=new Map,p=hp=new Map;p.set(s,l)}else p=hp,l=p.get(s),l||(l=new Map,p.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),p=0;p<s.length;p++){var b=s[p];if(!(b[pu]||b[pi]||e==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(n)||"";C=e+C;var P=l.get(C);P?P.push(b):l.set(C,[b])}}return l}function x1(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function EC(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var eh=null;function xC(){}function TC(e,n,s){if(eh===null)throw Error(a(475));var l=eh;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=Kl(s.href),b=e.querySelector(Ju(p));if(b){e=b._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=dp.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=b,Qe(b);return}b=e.ownerDocument||e,s=w1(s),(p=wn.get(p))&&Ub(s,p),b=b.createElement("link"),Qe(b);var C=b;C._p=new Promise(function(P,q){C.onload=P,C.onerror=q}),li(b,"link",s),n.instance=b}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=dp.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function CC(){if(eh===null)throw Error(a(475));var e=eh;return e.stylesheets&&e.count===0&&Gb(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&Gb(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function dp(){if(this.count--,this.count===0){if(this.stylesheets)Gb(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fp=null;function Gb(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fp=new Map,n.forEach(RC,e),fp=null,dp.call(e))}function RC(e,n){if(!(n.state.loading&4)){var s=fp.get(e);if(s)var l=s.get(null);else{s=new Map,fp.set(e,s);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var C=p[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),l=C)}l&&s.set(null,l)}p=n.instance,C=p.getAttribute("data-precedence"),b=s.get(C)||l,b===l&&s.set(null,p),s.set(C,p),this.count++,l=dp.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),b?b.parentNode.insertBefore(p,b.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var ih={$$typeof:S,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function DC(e,n,s,l,p,b,C,P){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yg(0),this.hiddenUpdates=Yg(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function C1(e,n,s,l,p,b,C,P,q,V,ut,gt){return e=new DC(e,n,s,C,P,q,V,gt),n=1,b===!0&&(n|=24),b=An(3,null,null,n),e.current=b,b.stateNode=e,n=wm(),n.refCount++,e.pooledCache=n,n.refCount++,b.memoizedState={element:l,isDehydrated:s,cache:n},ib(b),e}function R1(e){return e?(e=Dl,e):Dl}function D1(e,n,s,l,p,b){p=R1(p),l.context===null?l.context=p:l.pendingContext=p,l=Fs(n),l.payload={element:s},b=b===void 0?null:b,b!==null&&(l.callback=b),s=Is(e,l,n),s!==null&&(xi(s,e,n),Iu(s,e,n))}function M1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Xb(e,n){M1(e,n),(e=e.alternate)&&M1(e,n)}function O1(e){if(e.tag===13){var n=Os(e,67108864);n!==null&&xi(n,e,67108864),Xb(e,67108864)}}var pp=!0;function MC(e,n,s,l){var p=H.T;H.T=null;var b=lt.p;try{lt.p=2,Yb(e,n,s,l)}finally{lt.p=b,H.T=p}}function OC(e,n,s,l){var p=H.T;H.T=null;var b=lt.p;try{lt.p=8,Yb(e,n,s,l)}finally{lt.p=b,H.T=p}}function Yb(e,n,s,l){if(pp){var p=Vb(l);if(p===null)Nb(e,n,l,gp,s),k1(e,l);else if(kC(p,e,n,s,l))l.stopPropagation();else if(k1(e,l),n&4&&-1<LC.indexOf(e)){for(;p!==null;){var b=yl(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=Pr(b.pendingLanes);if(C!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var q=1<<31-Yi(C);P.entanglements[1]|=q,C&=~q}aa(b),(we&6)===0&&(Zf=ve()+500,Ku(0))}}break;case 13:P=Os(b,2),P!==null&&xi(P,b,2),ep(),Xb(b,2)}if(b=Vb(l),b===null&&Nb(e,n,l,gp,s),b===p)break;p=b}p!==null&&l.stopPropagation()}else Nb(e,n,l,null,s)}}function Vb(e){return e=Jg(e),Wb(e)}var gp=null;function Wb(e){if(gp=null,e=Hr(e),e!==null){var n=K(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=ot(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gp=e,null}function L1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xa()){case Ta:return 2;case zr:return 8;case Ni:case Xg:return 32;case av:return 268435456;default:return 32}default:return 32}}var $b=!1,Ys=null,Vs=null,Ws=null,nh=new Map,ah=new Map,$s=[],LC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k1(e,n){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":nh.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(n.pointerId)}}function sh(e,n,s,l,p,b){return e===null||e.nativeEvent!==b?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:b,targetContainers:[p]},n!==null&&(n=yl(n),n!==null&&O1(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function kC(e,n,s,l,p){switch(n){case"focusin":return Ys=sh(Ys,e,n,s,l,p),!0;case"dragenter":return Vs=sh(Vs,e,n,s,l,p),!0;case"mouseover":return Ws=sh(Ws,e,n,s,l,p),!0;case"pointerover":var b=p.pointerId;return nh.set(b,sh(nh.get(b)||null,e,n,s,l,p)),!0;case"gotpointercapture":return b=p.pointerId,ah.set(b,sh(ah.get(b)||null,e,n,s,l,p)),!0}return!1}function N1(e){var n=Hr(e.target);if(n!==null){var s=K(n);if(s!==null){if(n=s.tag,n===13){if(n=ot(s),n!==null){e.blockedOn=n,Cx(e.priority,function(){if(s.tag===13){var l=Qi(),p=Os(s,l);p!==null&&xi(p,s,l),Xb(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mp(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Vb(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Zg=l,s.target.dispatchEvent(l),Zg=null}else return n=yl(s),n!==null&&O1(n),e.blockedOn=s,!1;n.shift()}return!0}function z1(e,n,s){mp(e)&&s.delete(n)}function NC(){$b=!1,Ys!==null&&mp(Ys)&&(Ys=null),Vs!==null&&mp(Vs)&&(Vs=null),Ws!==null&&mp(Ws)&&(Ws=null),nh.forEach(z1),ah.forEach(z1)}function bp(e,n){e.blockedOn===n&&(e.blockedOn=null,$b||($b=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,NC)))}var yp=null;function P1(e){yp!==e&&(yp=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){yp===e&&(yp=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],p=e[n+2];if(typeof l!="function"){if(Wb(l||s)===null)continue;break}var b=yl(s);b!==null&&(e.splice(n,3),n-=3,Fm(b,{pending:!0,data:p,method:s.method,action:l},l,p))}}))}function rh(e){function n(q){return bp(q,e)}Ys!==null&&bp(Ys,e),Vs!==null&&bp(Vs,e),Ws!==null&&bp(Ws,e),nh.forEach(n),ah.forEach(n);for(var s=0;s<$s.length;s++){var l=$s[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$s.length&&(s=$s[0],s.blockedOn===null);)N1(s),s.blockedOn===null&&$s.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var p=s[l],b=s[l+1],C=p[zi]||null;if(typeof b=="function")C||P1(s);else if(C){var P=null;if(b&&b.hasAttribute("formAction")){if(p=b,C=b[zi]||null)P=C.formAction;else if(Wb(p)!==null)continue}else P=C.action;typeof P=="function"?s[l+1]=P:(s.splice(l,3),l-=3),P1(s)}}}function Kb(e){this._internalRoot=e}vp.prototype.render=Kb.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Qi();D1(s,l,e,n,null,null)},vp.prototype.unmount=Kb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Yl(),D1(e.current,2,null,e,null,null),ep(),n[bl]=null}};function vp(e){this._internalRoot=e}vp.prototype.unstable_scheduleHydration=function(e){if(e){var n=uv();e={blockedOn:null,target:e,priority:n};for(var s=0;s<$s.length&&n!==0&&n<$s[s].priority;s++);$s.splice(s,0,e),s===0&&N1(e)}};var H1=t.version;if(H1!=="19.0.0")throw Error(a(527,H1,"19.0.0"));lt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=I(n),e=e!==null?at(e):null,e=e===null?null:e.stateNode,e};var zC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:H,findFiberByHostInstance:Hr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ap.isDisabled&&Ap.supportsFiber)try{hu=Ap.inject(zC),Xi=Ap}catch{}}return lh.createRoot=function(e,n){if(!r(e))throw Error(a(299));var s=!1,l="",p=tS,b=eS,C=iS,P=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=C1(e,1,!1,null,null,s,l,p,b,C,P,null),e[bl]=n.current,kb(e.nodeType===8?e.parentNode:e),new Kb(n)},lh.hydrateRoot=function(e,n,s){if(!r(e))throw Error(a(299));var l=!1,p="",b=tS,C=eS,P=iS,q=null,V=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(P=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(q=s.unstable_transitionCallbacks),s.formState!==void 0&&(V=s.formState)),n=C1(e,1,!0,n,s??null,l,p,b,C,P,q,V),n.context=R1(null),s=n.current,l=Qi(),p=Fs(l),p.callback=null,Is(s,p,l),n.current.lanes=l,fu(n,l),aa(n),e[bl]=n.current,kb(e),new vp(n)},lh.version="19.0.0",lh}var W1;function YC(){if(W1)return e0.exports;W1=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(t){console.error(t)}}return f(),e0.exports=XC(),e0.exports}var VC=YC(),s0={exports:{}},ch={},wh={exports:{}},WC=wh.exports,$1;function Py(){return $1||($1=1,function(f,t){(function(i,a){a(t)})(WC,function(i){function a(nt){return function(bt,U,j,W,rt,mt,pt){return nt(bt,U,pt)}}function r(nt){return function(bt,U,j,W){if(!bt||!U||typeof bt!="object"||typeof U!="object")return nt(bt,U,j,W);var rt=W.get(bt),mt=W.get(U);if(rt&&mt)return rt===U&&mt===bt;W.set(bt,U),W.set(U,bt);var pt=nt(bt,U,j,W);return W.delete(bt),W.delete(U),pt}}function o(nt,dt){var bt={};for(var U in nt)bt[U]=nt[U];for(var U in dt)bt[U]=dt[U];return bt}function c(nt){return nt.constructor===Object||nt.constructor==null}function h(nt){return typeof nt.then=="function"}function d(nt,dt){return nt===dt||nt!==nt&&dt!==dt}var g="[object Arguments]",m="[object Boolean]",y="[object Date]",v="[object RegExp]",S="[object Map]",w="[object Number]",x="[object Object]",E="[object Set]",A="[object String]",_=Object.prototype.toString;function T(nt){var dt=nt.areArraysEqual,bt=nt.areDatesEqual,U=nt.areMapsEqual,j=nt.areObjectsEqual,W=nt.areRegExpsEqual,rt=nt.areSetsEqual,mt=nt.createIsNestedEqual,pt=mt(_t);function _t(Et,Tt,zt){if(Et===Tt)return!0;if(!Et||!Tt||typeof Et!="object"||typeof Tt!="object")return Et!==Et&&Tt!==Tt;if(c(Et)&&c(Tt))return j(Et,Tt,pt,zt);var ie=Array.isArray(Et),le=Array.isArray(Tt);if(ie||le)return ie===le&&dt(Et,Tt,pt,zt);var fe=_.call(Et);return fe!==_.call(Tt)?!1:fe===y?bt(Et,Tt,pt,zt):fe===v?W(Et,Tt,pt,zt):fe===S?U(Et,Tt,pt,zt):fe===E?rt(Et,Tt,pt,zt):fe===x||fe===g?h(Et)||h(Tt)?!1:j(Et,Tt,pt,zt):fe===m||fe===w||fe===A?d(Et.valueOf(),Tt.valueOf()):!1}return _t}function R(nt,dt,bt,U){var j=nt.length;if(dt.length!==j)return!1;for(;j-- >0;)if(!bt(nt[j],dt[j],j,j,nt,dt,U))return!1;return!0}var D=r(R);function k(nt,dt){return d(nt.valueOf(),dt.valueOf())}function M(nt,dt,bt,U){var j=nt.size===dt.size;if(!j)return!1;if(!nt.size)return!0;var W={},rt=0;return nt.forEach(function(mt,pt){if(j){var _t=!1,Et=0;dt.forEach(function(Tt,zt){!_t&&!W[Et]&&(_t=bt(pt,zt,rt,Et,nt,dt,U)&&bt(mt,Tt,pt,zt,nt,dt,U))&&(W[Et]=!0),Et++}),rt++,j=_t}}),j}var L=r(M),H="_owner",Y=Object.prototype.hasOwnProperty;function $(nt,dt,bt,U){var j=Object.keys(nt),W=j.length;if(Object.keys(dt).length!==W)return!1;for(var rt;W-- >0;){if(rt=j[W],rt===H){var mt=!!nt.$$typeof,pt=!!dt.$$typeof;if((mt||pt)&&mt!==pt)return!1}if(!Y.call(dt,rt)||!bt(nt[rt],dt[rt],rt,rt,nt,dt,U))return!1}return!0}var it=r($);function st(nt,dt){return nt.source===dt.source&&nt.flags===dt.flags}function tt(nt,dt,bt,U){var j=nt.size===dt.size;if(!j)return!1;if(!nt.size)return!0;var W={};return nt.forEach(function(rt,mt){if(j){var pt=!1,_t=0;dt.forEach(function(Et,Tt){!pt&&!W[_t]&&(pt=bt(rt,Et,mt,Tt,nt,dt,U))&&(W[_t]=!0),_t++}),j=pt}}),j}var Z=r(tt),B=Object.freeze({areArraysEqual:R,areDatesEqual:k,areMapsEqual:M,areObjectsEqual:$,areRegExpsEqual:st,areSetsEqual:tt,createIsNestedEqual:a}),G=Object.freeze({areArraysEqual:D,areDatesEqual:k,areMapsEqual:L,areObjectsEqual:it,areRegExpsEqual:st,areSetsEqual:Z,createIsNestedEqual:a}),K=T(B);function ot(nt,dt){return K(nt,dt,void 0)}var F=T(o(B,{createIsNestedEqual:function(){return d}}));function I(nt,dt){return F(nt,dt,void 0)}var at=T(G);function ht(nt,dt){return at(nt,dt,new WeakMap)}var lt=T(o(G,{createIsNestedEqual:function(){return d}}));function yt(nt,dt){return lt(nt,dt,new WeakMap)}function vt(nt){return T(o(B,nt(B)))}function At(nt){var dt=T(o(G,nt(G)));return function(bt,U,j){return j===void 0&&(j=new WeakMap),dt(bt,U,j)}}i.circularDeepEqual=ht,i.circularShallowEqual=yt,i.createCustomCircularEqual=At,i.createCustomEqual=vt,i.deepEqual=ot,i.sameValueZeroEqual=d,i.shallowEqual=I,Object.defineProperty(i,"__esModule",{value:!0})})}(wh,wh.exports)),wh.exports}var Sp={exports:{}},K1;function Hy(){if(K1)return Sp.exports;K1=1;function f(i){var a,r,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var c=i.length;for(a=0;a<c;a++)i[a]&&(r=f(i[a]))&&(o&&(o+=" "),o+=r)}else for(r in i)i[r]&&(o&&(o+=" "),o+=r);return o}function t(){for(var i,a,r=0,o="",c=arguments.length;r<c;r++)(i=arguments[r])&&(a=f(i))&&(o&&(o+=" "),o+=a);return o}return Sp.exports=t,Sp.exports.clsx=t,Sp.exports}var Zt={},r0,Q1;function $C(){return Q1||(Q1=1,r0=function(t,i,a){return t===i?!0:t.className===i.className&&a(t.style,i.style)&&t.width===i.width&&t.autoSize===i.autoSize&&t.cols===i.cols&&t.draggableCancel===i.draggableCancel&&t.draggableHandle===i.draggableHandle&&a(t.verticalCompact,i.verticalCompact)&&a(t.compactType,i.compactType)&&a(t.layout,i.layout)&&a(t.margin,i.margin)&&a(t.containerPadding,i.containerPadding)&&t.rowHeight===i.rowHeight&&t.maxRows===i.maxRows&&t.isBounded===i.isBounded&&t.isDraggable===i.isDraggable&&t.isResizable===i.isResizable&&t.allowOverlap===i.allowOverlap&&t.preventCollision===i.preventCollision&&t.useCSSTransforms===i.useCSSTransforms&&t.transformScale===i.transformScale&&t.isDroppable===i.isDroppable&&a(t.resizeHandles,i.resizeHandles)&&a(t.resizeHandle,i.resizeHandle)&&t.onLayoutChange===i.onLayoutChange&&t.onDragStart===i.onDragStart&&t.onDrag===i.onDrag&&t.onDragStop===i.onDragStop&&t.onResizeStart===i.onResizeStart&&t.onResize===i.onResize&&t.onResizeStop===i.onResizeStop&&t.onDrop===i.onDrop&&a(t.droppingItem,i.droppingItem)&&a(t.innerRef,i.innerRef)}),r0}var Z1;function uu(){if(Z1)return Zt;Z1=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.bottom=a,Zt.childrenEqual=d,Zt.cloneLayout=r,Zt.cloneLayoutItem=h,Zt.collides=m,Zt.compact=y,Zt.compactItem=w,Zt.compactType=nt,Zt.correctBounds=x,Zt.fastPositionEqual=g,Zt.fastRGLPropsEqual=void 0,Zt.getAllCollisions=_,Zt.getFirstCollision=A,Zt.getLayoutItem=E,Zt.getStatics=T,Zt.modifyLayout=o,Zt.moveElement=R,Zt.moveElementAwayFromCollision=D,Zt.noop=void 0,Zt.perc=k,Zt.resizeItemInDirection=F,Zt.setTopLeft=at,Zt.setTransform=I,Zt.sortLayoutItems=ht,Zt.sortLayoutItemsByColRow=yt,Zt.sortLayoutItemsByRowCol=lt,Zt.synchronizeLayoutWithChildren=vt,Zt.validateLayout=At,Zt.withLayoutItem=c;var f=Py(),t=i(ki());function i(U){return U&&U.__esModule?U:{default:U}}function a(U){let j=0,W;for(let rt=0,mt=U.length;rt<mt;rt++)W=U[rt].y+U[rt].h,W>j&&(j=W);return j}function r(U){const j=Array(U.length);for(let W=0,rt=U.length;W<rt;W++)j[W]=h(U[W]);return j}function o(U,j){const W=Array(U.length);for(let rt=0,mt=U.length;rt<mt;rt++)j.i===U[rt].i?W[rt]=j:W[rt]=U[rt];return W}function c(U,j,W){let rt=E(U,j);return rt?(rt=W(h(rt)),U=o(U,rt),[U,rt]):[U,null]}function h(U){return{w:U.w,h:U.h,x:U.x,y:U.y,i:U.i,minW:U.minW,maxW:U.maxW,minH:U.minH,maxH:U.maxH,moved:!!U.moved,static:!!U.static,isDraggable:U.isDraggable,isResizable:U.isResizable,resizeHandles:U.resizeHandles,isBounded:U.isBounded}}function d(U,j){return(0,f.deepEqual)(t.default.Children.map(U,W=>W==null?void 0:W.key),t.default.Children.map(j,W=>W==null?void 0:W.key))&&(0,f.deepEqual)(t.default.Children.map(U,W=>W==null?void 0:W.props["data-grid"]),t.default.Children.map(j,W=>W==null?void 0:W.props["data-grid"]))}Zt.fastRGLPropsEqual=$C();function g(U,j){return U.left===j.left&&U.top===j.top&&U.width===j.width&&U.height===j.height}function m(U,j){return!(U.i===j.i||U.x+U.w<=j.x||U.x>=j.x+j.w||U.y+U.h<=j.y||U.y>=j.y+j.h)}function y(U,j,W,rt){const mt=T(U),pt=ht(U,j),_t=Array(U.length);for(let Et=0,Tt=pt.length;Et<Tt;Et++){let zt=h(pt[Et]);zt.static||(zt=w(mt,zt,j,W,pt,rt),mt.push(zt)),_t[U.indexOf(pt[Et])]=zt,zt.moved=!1}return _t}const v={x:"w",y:"h"};function S(U,j,W,rt){const mt=v[rt];j[rt]+=1;const pt=U.map(_t=>_t.i).indexOf(j.i);for(let _t=pt+1;_t<U.length;_t++){const Et=U[_t];if(!Et.static){if(Et.y>j.y+j.h)break;m(j,Et)&&S(U,Et,W+j[mt],rt)}}j[rt]=W}function w(U,j,W,rt,mt,pt){const _t=W==="vertical",Et=W==="horizontal";if(_t)for(j.y=Math.min(a(U),j.y);j.y>0&&!A(U,j);)j.y--;else if(Et)for(;j.x>0&&!A(U,j);)j.x--;let Tt;for(;(Tt=A(U,j))&&!(W===null&&pt);)if(Et?S(mt,j,Tt.x+Tt.w,"x"):S(mt,j,Tt.y+Tt.h,"y"),Et&&j.x+j.w>rt)for(j.x=rt-j.w,j.y++;j.x>0&&!A(U,j);)j.x--;return j.y=Math.max(j.y,0),j.x=Math.max(j.x,0),j}function x(U,j){const W=T(U);for(let rt=0,mt=U.length;rt<mt;rt++){const pt=U[rt];if(pt.x+pt.w>j.cols&&(pt.x=j.cols-pt.w),pt.x<0&&(pt.x=0,pt.w=j.cols),!pt.static)W.push(pt);else for(;A(W,pt);)pt.y++}return U}function E(U,j){for(let W=0,rt=U.length;W<rt;W++)if(U[W].i===j)return U[W]}function A(U,j){for(let W=0,rt=U.length;W<rt;W++)if(m(U[W],j))return U[W]}function _(U,j){return U.filter(W=>m(W,j))}function T(U){return U.filter(j=>j.static)}function R(U,j,W,rt,mt,pt,_t,Et,Tt){if(j.static&&j.isDraggable!==!0||j.y===rt&&j.x===W)return U;`${j.i}${String(W)}${String(rt)}${j.x}${j.y}`;const zt=j.x,ie=j.y;typeof W=="number"&&(j.x=W),typeof rt=="number"&&(j.y=rt),j.moved=!0;let le=ht(U,_t);(_t==="vertical"&&typeof rt=="number"?ie>=rt:_t==="horizontal"&&typeof W=="number"?zt>=W:!1)&&(le=le.reverse());const ve=_(le,j),xa=ve.length>0;if(xa&&Tt)return r(U);if(xa&&pt)return`${j.i}`,j.x=zt,j.y=ie,j.moved=!1,U;for(let Ta=0,zr=ve.length;Ta<zr;Ta++){const Ni=ve[Ta];`${j.i}${j.x}${j.y}${Ni.i}${Ni.x}${Ni.y}`,!Ni.moved&&(Ni.static?U=D(U,Ni,j,mt,_t):U=D(U,j,Ni,mt,_t))}return U}function D(U,j,W,rt,mt,pt){const _t=mt==="horizontal",Et=mt==="vertical",Tt=j.static;if(rt){rt=!1;const le={x:_t?Math.max(j.x-W.w,0):W.x,y:Et?Math.max(j.y-W.h,0):W.y,w:W.w,h:W.h,i:"-1"},fe=A(U,le),ve=fe&&fe.y+fe.h>j.y,xa=fe&&j.x+j.w>fe.x;if(fe){if(ve&&Et)return R(U,W,void 0,j.y+1,rt,Tt,mt);if(ve&&mt==null)return j.y=W.y,W.y=W.y+W.h,U;if(xa&&_t)return R(U,j,W.x,void 0,rt,Tt,mt)}else return`${W.i}${le.x}${le.y}`,R(U,W,_t?le.x:void 0,Et?le.y:void 0,rt,Tt,mt)}const zt=_t?W.x+1:void 0,ie=Et?W.y+1:void 0;return zt==null&&ie==null?U:R(U,W,_t?W.x+1:void 0,Et?W.y+1:void 0,rt,Tt,mt)}function k(U){return U*100+"%"}const M=(U,j,W,rt)=>U+W>rt?j:W,L=(U,j,W)=>U<0?j:W,H=U=>Math.max(0,U),Y=U=>Math.max(0,U),$=(U,j,W)=>{let{left:rt,height:mt,width:pt}=j;const _t=U.top-(mt-U.height);return{left:rt,width:pt,height:L(_t,U.height,mt),top:Y(_t)}},it=(U,j,W)=>{let{top:rt,left:mt,height:pt,width:_t}=j;return{top:rt,height:pt,width:M(U.left,U.width,_t,W),left:H(mt)}},st=(U,j,W)=>{let{top:rt,height:mt,width:pt}=j;const _t=U.left-(pt-U.width);return{height:mt,width:_t<0?U.width:M(U.left,U.width,pt,W),top:Y(rt),left:H(_t)}},tt=(U,j,W)=>{let{top:rt,left:mt,height:pt,width:_t}=j;return{width:_t,left:mt,height:L(rt,U.height,pt),top:Y(rt)}},ot={n:$,ne:function(){return $(arguments.length<=0?void 0:arguments[0],it(...arguments))},e:it,se:function(){return tt(arguments.length<=0?void 0:arguments[0],it(...arguments))},s:tt,sw:function(){return tt(arguments.length<=0?void 0:arguments[0],st(...arguments))},w:st,nw:function(){return $(arguments.length<=0?void 0:arguments[0],st(...arguments))}};function F(U,j,W,rt){const mt=ot[U];return mt?mt(j,{...j,...W},rt):W}function I(U){let{top:j,left:W,width:rt,height:mt}=U;const pt=`translate(${W}px,${j}px)`;return{transform:pt,WebkitTransform:pt,MozTransform:pt,msTransform:pt,OTransform:pt,width:`${rt}px`,height:`${mt}px`,position:"absolute"}}function at(U){let{top:j,left:W,width:rt,height:mt}=U;return{top:`${j}px`,left:`${W}px`,width:`${rt}px`,height:`${mt}px`,position:"absolute"}}function ht(U,j){return j==="horizontal"?yt(U):j==="vertical"?lt(U):U}function lt(U){return U.slice(0).sort(function(j,W){return j.y>W.y||j.y===W.y&&j.x>W.x?1:j.y===W.y&&j.x===W.x?0:-1})}function yt(U){return U.slice(0).sort(function(j,W){return j.x>W.x||j.x===W.x&&j.y>W.y?1:-1})}function vt(U,j,W,rt,mt){U=U||[];const pt=[];t.default.Children.forEach(j,Et=>{if((Et==null?void 0:Et.key)==null)return;const Tt=E(U,String(Et.key)),zt=Et.props["data-grid"];Tt&&zt==null?pt.push(h(Tt)):zt?pt.push(h({...zt,i:Et.key})):pt.push(h({w:1,h:1,x:0,y:a(pt),i:String(Et.key)}))});const _t=x(pt,{cols:W});return mt?_t:y(_t,rt,W)}function At(U){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const W=["x","y","w","h"];if(!Array.isArray(U))throw new Error(j+" must be an array!");for(let rt=0,mt=U.length;rt<mt;rt++){const pt=U[rt];for(let _t=0;_t<W.length;_t++){const Et=W[_t],Tt=pt[Et];if(typeof Tt!="number"||Number.isNaN(Tt))throw new Error(`ReactGridLayout: ${j}[${rt}].${Et} must be a number! Received: ${Tt} (${typeof Tt})`)}if(typeof pt.i<"u"&&typeof pt.i!="string")throw new Error(`ReactGridLayout: ${j}[${rt}].i must be a string! Received: ${pt.i} (${typeof pt.i})`)}}function nt(U){const{verticalCompact:j,compactType:W}=U||{};return j===!1?null:W}function dt(){}const bt=()=>{};return Zt.noop=bt,Zt}var Ga={},J1;function Fy(){if(J1)return Ga;J1=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.calcGridColWidth=f,Ga.calcGridItemPosition=i,Ga.calcGridItemWHPx=t,Ga.calcWH=r,Ga.calcXY=a,Ga.clamp=o;function f(c){const{margin:h,containerPadding:d,containerWidth:g,cols:m}=c;return(g-h[0]*(m-1)-d[0]*2)/m}function t(c,h,d){return Number.isFinite(c)?Math.round(h*c+Math.max(0,c-1)*d):c}function i(c,h,d,g,m,y){const{margin:v,containerPadding:S,rowHeight:w}=c,x=f(c),E={};return y&&y.resizing?(E.width=Math.round(y.resizing.width),E.height=Math.round(y.resizing.height)):(E.width=t(g,x,v[0]),E.height=t(m,w,v[1])),y&&y.dragging?(E.top=Math.round(y.dragging.top),E.left=Math.round(y.dragging.left)):y&&y.resizing&&typeof y.resizing.top=="number"&&typeof y.resizing.left=="number"?(E.top=Math.round(y.resizing.top),E.left=Math.round(y.resizing.left)):(E.top=Math.round((w+v[1])*d+S[1]),E.left=Math.round((x+v[0])*h+S[0])),E}function a(c,h,d,g,m){const{margin:y,containerPadding:v,cols:S,rowHeight:w,maxRows:x}=c,E=f(c);let A=Math.round((d-v[0])/(E+y[0])),_=Math.round((h-v[1])/(w+y[1]));return A=o(A,0,S-g),_=o(_,0,x-m),{x:A,y:_}}function r(c,h,d,g,m,y){const{margin:v,maxRows:S,cols:w,rowHeight:x}=c,E=f(c);let A=Math.round((h+v[0])/(E+v[0])),_=Math.round((d+v[1])/(x+v[1])),T=o(A,0,w-g),R=o(_,0,S-m);return["sw","w","nw"].indexOf(y)!==-1&&(T=o(A,0,w)),["nw","n","ne"].indexOf(y)!==-1&&(R=o(_,0,S)),{w:T,h:R}}function o(c,h,d){return Math.max(Math.min(c,d),h)}return Ga}var uh={},o0={exports:{}},l0,tw;function KC(){if(tw)return l0;tw=1;var f="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return l0=f,l0}var c0,ew;function QC(){if(ew)return c0;ew=1;var f=KC();function t(){}function i(){}return i.resetWarningCache=t,c0=function(){function a(c,h,d,g,m,y){if(y!==f){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}a.isRequired=a;function r(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:r,element:a,elementType:a,instanceOf:r,node:a,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:t};return o.PropTypes=o,o},c0}var iw;function kr(){return iw||(iw=1,o0.exports=QC()()),o0.exports}var hh={exports:{}},u0={};function Zw(f){var t,i,a="";if(typeof f=="string"||typeof f=="number")a+=f;else if(typeof f=="object")if(Array.isArray(f))for(t=0;t<f.length;t++)f[t]&&(i=Zw(f[t]))&&(a&&(a+=" "),a+=i);else for(t in f)f[t]&&(a&&(a+=" "),a+=t);return a}function nw(){for(var f,t,i=0,a="";i<arguments.length;)(f=arguments[i++])&&(t=Zw(f))&&(a&&(a+=" "),a+=t);return a}const ZC=Object.freeze(Object.defineProperty({__proto__:null,clsx:nw,default:nw},Symbol.toStringTag,{value:"Module"})),JC=Qw(ZC);var Le={},Qs={},aw;function zg(){if(aw)return Qs;aw=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.dontSetMe=r,Qs.findInArray=f,Qs.int=a,Qs.isFunction=t,Qs.isNum=i;function f(o,c){for(let h=0,d=o.length;h<d;h++)if(c.apply(c,[o[h],h,o]))return o[h]}function t(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function i(o){return typeof o=="number"&&!isNaN(o)}function a(o){return parseInt(o,10)}function r(o,c,h){if(o[c])return new Error("Invalid prop ".concat(c," passed to ").concat(h," - do not set this, set it on the child."))}return Qs}var Zs={},sw;function tR(){if(sw)return Zs;sw=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.browserPrefixToKey=i,Zs.browserPrefixToStyle=a,Zs.default=void 0,Zs.getPrefix=t;const f=["Moz","Webkit","O","ms"];function t(){var o;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const h=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!h||c in h)return"";for(let d=0;d<f.length;d++)if(i(c,f[d])in h)return f[d];return""}function i(o,c){return c?"".concat(c).concat(r(o)):o}function a(o,c){return c?"-".concat(c.toLowerCase(),"-").concat(o):o}function r(o){let c="",h=!0;for(let d=0;d<o.length;d++)h?(c+=o[d].toUpperCase(),h=!1):o[d]==="-"?h=!0:c+=o[d];return c}return Zs.default=t(),Zs}var rw;function Iy(){if(rw)return Le;rw=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.addClassName=D,Le.addEvent=h,Le.addUserSelectStyles=T,Le.createCSSTransform=w,Le.createSVGTransform=x,Le.getTouch=A,Le.getTouchIdentifier=_,Le.getTranslation=E,Le.innerHeight=y,Le.innerWidth=v,Le.matchesSelector=o,Le.matchesSelectorAndParentsTo=c,Le.offsetXYFromParent=S,Le.outerHeight=g,Le.outerWidth=m,Le.removeClassName=k,Le.removeEvent=d,Le.removeUserSelectStyles=R;var f=zg(),t=a(tR());function i(M){if(typeof WeakMap!="function")return null;var L=new WeakMap,H=new WeakMap;return(i=function(Y){return Y?H:L})(M)}function a(M,L){if(M&&M.__esModule)return M;if(M===null||typeof M!="object"&&typeof M!="function")return{default:M};var H=i(L);if(H&&H.has(M))return H.get(M);var Y={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var it in M)if(it!=="default"&&Object.prototype.hasOwnProperty.call(M,it)){var st=$?Object.getOwnPropertyDescriptor(M,it):null;st&&(st.get||st.set)?Object.defineProperty(Y,it,st):Y[it]=M[it]}return Y.default=M,H&&H.set(M,Y),Y}let r="";function o(M,L){return r||(r=(0,f.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(H){return(0,f.isFunction)(M[H])})),(0,f.isFunction)(M[r])?M[r](L):!1}function c(M,L,H){let Y=M;do{if(o(Y,L))return!0;if(Y===H)return!1;Y=Y.parentNode}while(Y);return!1}function h(M,L,H,Y){if(!M)return;const $={capture:!0,...Y};M.addEventListener?M.addEventListener(L,H,$):M.attachEvent?M.attachEvent("on"+L,H):M["on"+L]=H}function d(M,L,H,Y){if(!M)return;const $={capture:!0,...Y};M.removeEventListener?M.removeEventListener(L,H,$):M.detachEvent?M.detachEvent("on"+L,H):M["on"+L]=null}function g(M){let L=M.clientHeight;const H=M.ownerDocument.defaultView.getComputedStyle(M);return L+=(0,f.int)(H.borderTopWidth),L+=(0,f.int)(H.borderBottomWidth),L}function m(M){let L=M.clientWidth;const H=M.ownerDocument.defaultView.getComputedStyle(M);return L+=(0,f.int)(H.borderLeftWidth),L+=(0,f.int)(H.borderRightWidth),L}function y(M){let L=M.clientHeight;const H=M.ownerDocument.defaultView.getComputedStyle(M);return L-=(0,f.int)(H.paddingTop),L-=(0,f.int)(H.paddingBottom),L}function v(M){let L=M.clientWidth;const H=M.ownerDocument.defaultView.getComputedStyle(M);return L-=(0,f.int)(H.paddingLeft),L-=(0,f.int)(H.paddingRight),L}function S(M,L,H){const $=L===L.ownerDocument.body?{left:0,top:0}:L.getBoundingClientRect(),it=(M.clientX+L.scrollLeft-$.left)/H,st=(M.clientY+L.scrollTop-$.top)/H;return{x:it,y:st}}function w(M,L){const H=E(M,L,"px");return{[(0,t.browserPrefixToKey)("transform",t.default)]:H}}function x(M,L){return E(M,L,"")}function E(M,L,H){let{x:Y,y:$}=M,it="translate(".concat(Y).concat(H,",").concat($).concat(H,")");if(L){const st="".concat(typeof L.x=="string"?L.x:L.x+H),tt="".concat(typeof L.y=="string"?L.y:L.y+H);it="translate(".concat(st,", ").concat(tt,")")+it}return it}function A(M,L){return M.targetTouches&&(0,f.findInArray)(M.targetTouches,H=>L===H.identifier)||M.changedTouches&&(0,f.findInArray)(M.changedTouches,H=>L===H.identifier)}function _(M){if(M.targetTouches&&M.targetTouches[0])return M.targetTouches[0].identifier;if(M.changedTouches&&M.changedTouches[0])return M.changedTouches[0].identifier}function T(M){if(!M)return;let L=M.getElementById("react-draggable-style-el");L||(L=M.createElement("style"),L.type="text/css",L.id="react-draggable-style-el",L.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,L.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,M.getElementsByTagName("head")[0].appendChild(L)),M.body&&D(M.body,"react-draggable-transparent-selection")}function R(M){if(M)try{if(M.body&&k(M.body,"react-draggable-transparent-selection"),M.selection)M.selection.empty();else{const L=(M.defaultView||window).getSelection();L&&L.type!=="Caret"&&L.removeAllRanges()}}catch{}}function D(M,L){M.classList?M.classList.add(L):M.className.match(new RegExp("(?:^|\\s)".concat(L,"(?!\\S)")))||(M.className+=" ".concat(L))}function k(M,L){M.classList?M.classList.remove(L):M.className=M.className.replace(new RegExp("(?:^|\\s)".concat(L,"(?!\\S)"),"g"),"")}return Le}var sa={},ow;function Jw(){if(ow)return sa;ow=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.canDragX=r,sa.canDragY=o,sa.createCoreData=h,sa.createDraggableData=d,sa.getBoundPosition=i,sa.getControlPosition=c,sa.snapToGrid=a;var f=zg(),t=Iy();function i(y,v,S){if(!y.props.bounds)return[v,S];let{bounds:w}=y.props;w=typeof w=="string"?w:g(w);const x=m(y);if(typeof w=="string"){const{ownerDocument:E}=x,A=E.defaultView;let _;if(w==="parent"?_=x.parentNode:_=E.querySelector(w),!(_ instanceof A.HTMLElement))throw new Error('Bounds selector "'+w+'" could not find an element.');const T=_,R=A.getComputedStyle(x),D=A.getComputedStyle(T);w={left:-x.offsetLeft+(0,f.int)(D.paddingLeft)+(0,f.int)(R.marginLeft),top:-x.offsetTop+(0,f.int)(D.paddingTop)+(0,f.int)(R.marginTop),right:(0,t.innerWidth)(T)-(0,t.outerWidth)(x)-x.offsetLeft+(0,f.int)(D.paddingRight)-(0,f.int)(R.marginRight),bottom:(0,t.innerHeight)(T)-(0,t.outerHeight)(x)-x.offsetTop+(0,f.int)(D.paddingBottom)-(0,f.int)(R.marginBottom)}}return(0,f.isNum)(w.right)&&(v=Math.min(v,w.right)),(0,f.isNum)(w.bottom)&&(S=Math.min(S,w.bottom)),(0,f.isNum)(w.left)&&(v=Math.max(v,w.left)),(0,f.isNum)(w.top)&&(S=Math.max(S,w.top)),[v,S]}function a(y,v,S){const w=Math.round(v/y[0])*y[0],x=Math.round(S/y[1])*y[1];return[w,x]}function r(y){return y.props.axis==="both"||y.props.axis==="x"}function o(y){return y.props.axis==="both"||y.props.axis==="y"}function c(y,v,S){const w=typeof v=="number"?(0,t.getTouch)(y,v):null;if(typeof v=="number"&&!w)return null;const x=m(S),E=S.props.offsetParent||x.offsetParent||x.ownerDocument.body;return(0,t.offsetXYFromParent)(w||y,E,S.props.scale)}function h(y,v,S){const w=!(0,f.isNum)(y.lastX),x=m(y);return w?{node:x,deltaX:0,deltaY:0,lastX:v,lastY:S,x:v,y:S}:{node:x,deltaX:v-y.lastX,deltaY:S-y.lastY,lastX:y.lastX,lastY:y.lastY,x:v,y:S}}function d(y,v){const S=y.props.scale;return{node:v.node,x:y.state.x+v.deltaX/S,y:y.state.y+v.deltaY/S,deltaX:v.deltaX/S,deltaY:v.deltaY/S,lastX:y.state.x,lastY:y.state.y}}function g(y){return{left:y.left,top:y.top,right:y.right,bottom:y.bottom}}function m(y){const v=y.findDOMNode();if(!v)throw new Error("<DraggableCore>: Unmounted during event!");return v}return sa}var dh={},wp={},lw;function t_(){if(lw)return wp;lw=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.default=f;function f(){}return wp}var cw;function eR(){if(cw)return dh;cw=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.default=void 0;var f=g(ki()),t=h(kr()),i=h(Ng()),a=Iy(),r=Jw(),o=zg(),c=h(t_());function h(E){return E&&E.__esModule?E:{default:E}}function d(E){if(typeof WeakMap!="function")return null;var A=new WeakMap,_=new WeakMap;return(d=function(T){return T?_:A})(E)}function g(E,A){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var _=d(A);if(_&&_.has(E))return _.get(E);var T={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in E)if(D!=="default"&&Object.prototype.hasOwnProperty.call(E,D)){var k=R?Object.getOwnPropertyDescriptor(E,D):null;k&&(k.get||k.set)?Object.defineProperty(T,D,k):T[D]=E[D]}return T.default=E,_&&_.set(E,T),T}function m(E,A,_){return A=y(A),A in E?Object.defineProperty(E,A,{value:_,enumerable:!0,configurable:!0,writable:!0}):E[A]=_,E}function y(E){var A=v(E,"string");return typeof A=="symbol"?A:String(A)}function v(E,A){if(typeof E!="object"||E===null)return E;var _=E[Symbol.toPrimitive];if(_!==void 0){var T=_.call(E,A);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(E)}const S={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let w=S.mouse,x=class extends f.Component{constructor(){super(...arguments),m(this,"dragging",!1),m(this,"lastX",NaN),m(this,"lastY",NaN),m(this,"touchIdentifier",null),m(this,"mounted",!1),m(this,"handleDragStart",A=>{if(this.props.onMouseDown(A),!this.props.allowAnyClick&&typeof A.button=="number"&&A.button!==0)return!1;const _=this.findDOMNode();if(!_||!_.ownerDocument||!_.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:T}=_;if(this.props.disabled||!(A.target instanceof T.defaultView.Node)||this.props.handle&&!(0,a.matchesSelectorAndParentsTo)(A.target,this.props.handle,_)||this.props.cancel&&(0,a.matchesSelectorAndParentsTo)(A.target,this.props.cancel,_))return;A.type==="touchstart"&&A.preventDefault();const R=(0,a.getTouchIdentifier)(A);this.touchIdentifier=R;const D=(0,r.getControlPosition)(A,R,this);if(D==null)return;const{x:k,y:M}=D,L=(0,r.createCoreData)(this,k,M);(0,c.default)("DraggableCore: handleDragStart: %j",L),(0,c.default)("calling",this.props.onStart),!(this.props.onStart(A,L)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(T),this.dragging=!0,this.lastX=k,this.lastY=M,(0,a.addEvent)(T,w.move,this.handleDrag),(0,a.addEvent)(T,w.stop,this.handleDragStop))}),m(this,"handleDrag",A=>{const _=(0,r.getControlPosition)(A,this.touchIdentifier,this);if(_==null)return;let{x:T,y:R}=_;if(Array.isArray(this.props.grid)){let M=T-this.lastX,L=R-this.lastY;if([M,L]=(0,r.snapToGrid)(this.props.grid,M,L),!M&&!L)return;T=this.lastX+M,R=this.lastY+L}const D=(0,r.createCoreData)(this,T,R);if((0,c.default)("DraggableCore: handleDrag: %j",D),this.props.onDrag(A,D)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const L=document.createEvent("MouseEvents");L.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(L)}return}this.lastX=T,this.lastY=R}),m(this,"handleDragStop",A=>{if(!this.dragging)return;const _=(0,r.getControlPosition)(A,this.touchIdentifier,this);if(_==null)return;let{x:T,y:R}=_;if(Array.isArray(this.props.grid)){let L=T-this.lastX||0,H=R-this.lastY||0;[L,H]=(0,r.snapToGrid)(this.props.grid,L,H),T=this.lastX+L,R=this.lastY+H}const D=(0,r.createCoreData)(this,T,R);if(this.props.onStop(A,D)===!1||this.mounted===!1)return!1;const M=this.findDOMNode();M&&this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(M.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",D),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,M&&((0,c.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(M.ownerDocument,w.move,this.handleDrag),(0,a.removeEvent)(M.ownerDocument,w.stop,this.handleDragStop))}),m(this,"onMouseDown",A=>(w=S.mouse,this.handleDragStart(A))),m(this,"onMouseUp",A=>(w=S.mouse,this.handleDragStop(A))),m(this,"onTouchStart",A=>(w=S.touch,this.handleDragStart(A))),m(this,"onTouchEnd",A=>(w=S.touch,this.handleDragStop(A)))}componentDidMount(){this.mounted=!0;const A=this.findDOMNode();A&&(0,a.addEvent)(A,S.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const A=this.findDOMNode();if(A){const{ownerDocument:_}=A;(0,a.removeEvent)(_,S.mouse.move,this.handleDrag),(0,a.removeEvent)(_,S.touch.move,this.handleDrag),(0,a.removeEvent)(_,S.mouse.stop,this.handleDragStop),(0,a.removeEvent)(_,S.touch.stop,this.handleDragStop),(0,a.removeEvent)(A,S.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(_)}}findDOMNode(){var A,_;return(A=this.props)!==null&&A!==void 0&&A.nodeRef?(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current:i.default.findDOMNode(this)}render(){return f.cloneElement(f.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return dh.default=x,m(x,"displayName","DraggableCore"),m(x,"propTypes",{allowAnyClick:t.default.bool,children:t.default.node.isRequired,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(E,A){if(E[A]&&E[A].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),m(x,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),dh}var uw;function iR(){return uw||(uw=1,function(f){Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),f.default=void 0;var t=v(ki()),i=m(kr()),a=m(Ng()),r=m(JC),o=Iy(),c=Jw(),h=zg(),d=m(eR()),g=m(t_());function m(_){return _&&_.__esModule?_:{default:_}}function y(_){if(typeof WeakMap!="function")return null;var T=new WeakMap,R=new WeakMap;return(y=function(D){return D?R:T})(_)}function v(_,T){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var R=y(T);if(R&&R.has(_))return R.get(_);var D={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in _)if(M!=="default"&&Object.prototype.hasOwnProperty.call(_,M)){var L=k?Object.getOwnPropertyDescriptor(_,M):null;L&&(L.get||L.set)?Object.defineProperty(D,M,L):D[M]=_[M]}return D.default=_,R&&R.set(_,D),D}function S(){return S=Object.assign?Object.assign.bind():function(_){for(var T=1;T<arguments.length;T++){var R=arguments[T];for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&(_[D]=R[D])}return _},S.apply(this,arguments)}function w(_,T,R){return T=x(T),T in _?Object.defineProperty(_,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):_[T]=R,_}function x(_){var T=E(_,"string");return typeof T=="symbol"?T:String(T)}function E(_,T){if(typeof _!="object"||_===null)return _;var R=_[Symbol.toPrimitive];if(R!==void 0){var D=R.call(_,T);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(_)}class A extends t.Component{static getDerivedStateFromProps(T,R){let{position:D}=T,{prevPropsPosition:k}=R;return D&&(!k||D.x!==k.x||D.y!==k.y)?((0,g.default)("Draggable: getDerivedStateFromProps %j",{position:D,prevPropsPosition:k}),{x:D.x,y:D.y,prevPropsPosition:{...D}}):null}constructor(T){super(T),w(this,"onDragStart",(R,D)=>{if((0,g.default)("Draggable: onDragStart: %j",D),this.props.onStart(R,(0,c.createDraggableData)(this,D))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(R,D)=>{if(!this.state.dragging)return!1;(0,g.default)("Draggable: onDrag: %j",D);const k=(0,c.createDraggableData)(this,D),M={x:k.x,y:k.y,slackX:0,slackY:0};if(this.props.bounds){const{x:H,y:Y}=M;M.x+=this.state.slackX,M.y+=this.state.slackY;const[$,it]=(0,c.getBoundPosition)(this,M.x,M.y);M.x=$,M.y=it,M.slackX=this.state.slackX+(H-M.x),M.slackY=this.state.slackY+(Y-M.y),k.x=M.x,k.y=M.y,k.deltaX=M.x-this.state.x,k.deltaY=M.y-this.state.y}if(this.props.onDrag(R,k)===!1)return!1;this.setState(M)}),w(this,"onDragStop",(R,D)=>{if(!this.state.dragging||this.props.onStop(R,(0,c.createDraggableData)(this,D))===!1)return!1;(0,g.default)("Draggable: onDragStop: %j",D);const M={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:H,y:Y}=this.props.position;M.x=H,M.y=Y}this.setState(M)}),this.state={dragging:!1,dragged:!1,x:T.position?T.position.x:T.defaultPosition.x,y:T.position?T.position.y:T.defaultPosition.y,prevPropsPosition:{...T.position},slackX:0,slackY:0,isElementSVG:!1},T.position&&!(T.onDrag||T.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var T,R;return(T=(R=this.props)===null||R===void 0||(R=R.nodeRef)===null||R===void 0?void 0:R.current)!==null&&T!==void 0?T:a.default.findDOMNode(this)}render(){const{axis:T,bounds:R,children:D,defaultPosition:k,defaultClassName:M,defaultClassNameDragging:L,defaultClassNameDragged:H,position:Y,positionOffset:$,scale:it,...st}=this.props;let tt={},Z=null;const G=!!!Y||this.state.dragging,K=Y||k,ot={x:(0,c.canDragX)(this)&&G?this.state.x:K.x,y:(0,c.canDragY)(this)&&G?this.state.y:K.y};this.state.isElementSVG?Z=(0,o.createSVGTransform)(ot,$):tt=(0,o.createCSSTransform)(ot,$);const F=(0,r.default)(D.props.className||"",M,{[L]:this.state.dragging,[H]:this.state.dragged});return t.createElement(d.default,S({},st,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(D),{className:F,style:{...D.props.style,...tt},transform:Z}))}}f.default=A,w(A,"displayName","Draggable"),w(A,"propTypes",{...d.default.propTypes,axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:h.dontSetMe,style:h.dontSetMe,transform:h.dontSetMe}),w(A,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(u0)),u0}var hw;function qy(){if(hw)return hh.exports;hw=1;const{default:f,DraggableCore:t}=iR();return hh.exports=f,hh.exports.default=f,hh.exports.DraggableCore=t,hh.exports}var fh={exports:{}},ph={},_p={},dw;function nR(){if(dw)return _p;dw=1,_p.__esModule=!0,_p.cloneElement=h;var f=t(ki());function t(d){return d&&d.__esModule?d:{default:d}}function i(d,g){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(d);g&&(y=y.filter(function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable})),m.push.apply(m,y)}return m}function a(d){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?i(Object(m),!0).forEach(function(y){r(d,y,m[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):i(Object(m)).forEach(function(y){Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(m,y))})}return d}function r(d,g,m){return g=o(g),g in d?Object.defineProperty(d,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[g]=m,d}function o(d){var g=c(d,"string");return typeof g=="symbol"?g:String(g)}function c(d,g){if(typeof d!="object"||d===null)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var y=m.call(d,g);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(d)}function h(d,g){return g.style&&d.props.style&&(g.style=a(a({},d.props.style),g.style)),g.className&&d.props.className&&(g.className=d.props.className+" "+g.className),f.default.cloneElement(d,g)}return _p}var gh={},fw;function e_(){if(fw)return gh;fw=1,gh.__esModule=!0,gh.resizableProps=void 0;var f=t(kr());qy();function t(a){return a&&a.__esModule?a:{default:a}}var i={axis:f.default.oneOf(["both","x","y","none"]),className:f.default.string,children:f.default.element.isRequired,draggableOpts:f.default.shape({allowAnyClick:f.default.bool,cancel:f.default.string,children:f.default.node,disabled:f.default.bool,enableUserSelectHack:f.default.bool,offsetParent:f.default.node,grid:f.default.arrayOf(f.default.number),handle:f.default.string,nodeRef:f.default.object,onStart:f.default.func,onDrag:f.default.func,onStop:f.default.func,onMouseDown:f.default.func,scale:f.default.number}),height:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];var h=o[0];if(h.axis==="both"||h.axis==="y"){var d;return(d=f.default.number).isRequired.apply(d,o)}return f.default.number.apply(f.default,o)},handle:f.default.oneOfType([f.default.node,f.default.func]),handleSize:f.default.arrayOf(f.default.number),lockAspectRatio:f.default.bool,maxConstraints:f.default.arrayOf(f.default.number),minConstraints:f.default.arrayOf(f.default.number),onResizeStop:f.default.func,onResizeStart:f.default.func,onResize:f.default.func,resizeHandles:f.default.arrayOf(f.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:f.default.number,width:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];var h=o[0];if(h.axis==="both"||h.axis==="x"){var d;return(d=f.default.number).isRequired.apply(d,o)}return f.default.number.apply(f.default,o)}};return gh.resizableProps=i,gh}var pw;function i_(){if(pw)return ph;pw=1,ph.__esModule=!0,ph.default=void 0;var f=c(ki()),t=qy(),i=nR(),a=e_(),r=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function o(A){if(typeof WeakMap!="function")return null;var _=new WeakMap,T=new WeakMap;return(o=function(D){return D?T:_})(A)}function c(A,_){if(A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var T=o(_);if(T&&T.has(A))return T.get(A);var R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in A)if(k!=="default"&&Object.prototype.hasOwnProperty.call(A,k)){var M=D?Object.getOwnPropertyDescriptor(A,k):null;M&&(M.get||M.set)?Object.defineProperty(R,k,M):R[k]=A[k]}return R.default=A,T&&T.set(A,R),R}function h(){return h=Object.assign?Object.assign.bind():function(A){for(var _=1;_<arguments.length;_++){var T=arguments[_];for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(A[R]=T[R])}return A},h.apply(this,arguments)}function d(A,_){if(A==null)return{};var T={},R=Object.keys(A),D,k;for(k=0;k<R.length;k++)D=R[k],!(_.indexOf(D)>=0)&&(T[D]=A[D]);return T}function g(A,_){var T=Object.keys(A);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(A);_&&(R=R.filter(function(D){return Object.getOwnPropertyDescriptor(A,D).enumerable})),T.push.apply(T,R)}return T}function m(A){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?g(Object(T),!0).forEach(function(R){y(A,R,T[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(T)):g(Object(T)).forEach(function(R){Object.defineProperty(A,R,Object.getOwnPropertyDescriptor(T,R))})}return A}function y(A,_,T){return _=v(_),_ in A?Object.defineProperty(A,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):A[_]=T,A}function v(A){var _=S(A,"string");return typeof _=="symbol"?_:String(_)}function S(A,_){if(typeof A!="object"||A===null)return A;var T=A[Symbol.toPrimitive];if(T!==void 0){var R=T.call(A,_);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(A)}function w(A,_){A.prototype=Object.create(_.prototype),A.prototype.constructor=A,x(A,_)}function x(A,_){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,D){return R.__proto__=D,R},x(A,_)}var E=function(A){w(_,A);function _(){for(var R,D=arguments.length,k=new Array(D),M=0;M<D;M++)k[M]=arguments[M];return R=A.call.apply(A,[this].concat(k))||this,R.handleRefs={},R.lastHandleRect=null,R.slack=null,R}var T=_.prototype;return T.componentWillUnmount=function(){this.resetData()},T.resetData=function(){this.lastHandleRect=this.slack=null},T.runConstraints=function(D,k){var M=this.props,L=M.minConstraints,H=M.maxConstraints,Y=M.lockAspectRatio;if(!L&&!H&&!Y)return[D,k];if(Y){var $=this.props.width/this.props.height,it=D-this.props.width,st=k-this.props.height;Math.abs(it)>Math.abs(st*$)?k=D/$:D=k*$}var tt=D,Z=k,B=this.slack||[0,0],G=B[0],K=B[1];return D+=G,k+=K,L&&(D=Math.max(L[0],D),k=Math.max(L[1],k)),H&&(D=Math.min(H[0],D),k=Math.min(H[1],k)),this.slack=[G+(tt-D),K+(Z-k)],[D,k]},T.resizeHandler=function(D,k){var M=this;return function(L,H){var Y=H.node,$=H.deltaX,it=H.deltaY;D==="onResizeStart"&&M.resetData();var st=(M.props.axis==="both"||M.props.axis==="x")&&k!=="n"&&k!=="s",tt=(M.props.axis==="both"||M.props.axis==="y")&&k!=="e"&&k!=="w";if(!(!st&&!tt)){var Z=k[0],B=k[k.length-1],G=Y.getBoundingClientRect();if(M.lastHandleRect!=null){if(B==="w"){var K=G.left-M.lastHandleRect.left;$+=K}if(Z==="n"){var ot=G.top-M.lastHandleRect.top;it+=ot}}M.lastHandleRect=G,B==="w"&&($=-$),Z==="n"&&(it=-it);var F=M.props.width+(st?$/M.props.transformScale:0),I=M.props.height+(tt?it/M.props.transformScale:0),at=M.runConstraints(F,I);F=at[0],I=at[1];var ht=F!==M.props.width||I!==M.props.height,lt=typeof M.props[D]=="function"?M.props[D]:null,yt=D==="onResize"&&!ht;lt&&!yt&&(L.persist==null||L.persist(),lt(L,{node:Y,size:{width:F,height:I},handle:k})),D==="onResizeStop"&&M.resetData()}}},T.renderResizeHandle=function(D,k){var M=this.props.handle;if(!M)return f.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+D,ref:k});if(typeof M=="function")return M(D,k);var L=typeof M.type=="string",H=m({ref:k},L?{}:{handleAxis:D});return f.cloneElement(M,H)},T.render=function(){var D=this,k=this.props,M=k.children,L=k.className,H=k.draggableOpts;k.width,k.height,k.handle,k.handleSize,k.lockAspectRatio,k.axis,k.minConstraints,k.maxConstraints,k.onResize,k.onResizeStop,k.onResizeStart;var Y=k.resizeHandles;k.transformScale;var $=d(k,r);return(0,i.cloneElement)(M,m(m({},$),{},{className:(L?L+" ":"")+"react-resizable",children:[].concat(M.props.children,Y.map(function(it){var st,tt=(st=D.handleRefs[it])!=null?st:D.handleRefs[it]=f.createRef();return f.createElement(t.DraggableCore,h({},H,{nodeRef:tt,key:"resizableHandle-"+it,onStop:D.resizeHandler("onResizeStop",it),onStart:D.resizeHandler("onResizeStart",it),onDrag:D.resizeHandler("onResize",it)}),D.renderResizeHandle(it,tt))}))}))},_}(f.Component);return ph.default=E,E.propTypes=a.resizableProps,E.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},ph}var mh={},gw;function aR(){if(gw)return mh;gw=1,mh.__esModule=!0,mh.default=void 0;var f=h(ki()),t=o(kr()),i=o(i_()),a=e_(),r=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function o(_){return _&&_.__esModule?_:{default:_}}function c(_){if(typeof WeakMap!="function")return null;var T=new WeakMap,R=new WeakMap;return(c=function(k){return k?R:T})(_)}function h(_,T){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var R=c(T);if(R&&R.has(_))return R.get(_);var D={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in _)if(M!=="default"&&Object.prototype.hasOwnProperty.call(_,M)){var L=k?Object.getOwnPropertyDescriptor(_,M):null;L&&(L.get||L.set)?Object.defineProperty(D,M,L):D[M]=_[M]}return D.default=_,R&&R.set(_,D),D}function d(){return d=Object.assign?Object.assign.bind():function(_){for(var T=1;T<arguments.length;T++){var R=arguments[T];for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&(_[D]=R[D])}return _},d.apply(this,arguments)}function g(_,T){var R=Object.keys(_);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(_);T&&(D=D.filter(function(k){return Object.getOwnPropertyDescriptor(_,k).enumerable})),R.push.apply(R,D)}return R}function m(_){for(var T=1;T<arguments.length;T++){var R=arguments[T]!=null?arguments[T]:{};T%2?g(Object(R),!0).forEach(function(D){y(_,D,R[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(R)):g(Object(R)).forEach(function(D){Object.defineProperty(_,D,Object.getOwnPropertyDescriptor(R,D))})}return _}function y(_,T,R){return T=v(T),T in _?Object.defineProperty(_,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):_[T]=R,_}function v(_){var T=S(_,"string");return typeof T=="symbol"?T:String(T)}function S(_,T){if(typeof _!="object"||_===null)return _;var R=_[Symbol.toPrimitive];if(R!==void 0){var D=R.call(_,T);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(_)}function w(_,T){if(_==null)return{};var R={},D=Object.keys(_),k,M;for(M=0;M<D.length;M++)k=D[M],!(T.indexOf(k)>=0)&&(R[k]=_[k]);return R}function x(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,E(_,T)}function E(_,T){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},E(_,T)}var A=function(_){x(T,_);function T(){for(var D,k=arguments.length,M=new Array(k),L=0;L<k;L++)M[L]=arguments[L];return D=_.call.apply(_,[this].concat(M))||this,D.state={width:D.props.width,height:D.props.height,propsWidth:D.props.width,propsHeight:D.props.height},D.onResize=function(H,Y){var $=Y.size;D.props.onResize?(H.persist==null||H.persist(),D.setState($,function(){return D.props.onResize&&D.props.onResize(H,Y)})):D.setState($)},D}T.getDerivedStateFromProps=function(k,M){return M.propsWidth!==k.width||M.propsHeight!==k.height?{width:k.width,height:k.height,propsWidth:k.width,propsHeight:k.height}:null};var R=T.prototype;return R.render=function(){var k=this.props,M=k.handle,L=k.handleSize;k.onResize;var H=k.onResizeStart,Y=k.onResizeStop,$=k.draggableOpts,it=k.minConstraints,st=k.maxConstraints,tt=k.lockAspectRatio,Z=k.axis;k.width,k.height;var B=k.resizeHandles,G=k.style,K=k.transformScale,ot=w(k,r);return f.createElement(i.default,{axis:Z,draggableOpts:$,handle:M,handleSize:L,height:this.state.height,lockAspectRatio:tt,maxConstraints:st,minConstraints:it,onResizeStart:H,onResize:this.onResize,onResizeStop:Y,resizeHandles:B,transformScale:K,width:this.state.width},f.createElement("div",d({},ot,{style:m(m({},G),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},T}(f.Component);return mh.default=A,A.propTypes=m(m({},a.resizableProps),{},{children:t.default.element}),mh}var mw;function sR(){return mw||(mw=1,fh.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},fh.exports.Resizable=i_().default,fh.exports.ResizableBox=aR().default),fh.exports}var Xa={},bw;function n_(){if(bw)return Xa;bw=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.resizeHandleType=Xa.resizeHandleAxesType=Xa.default=void 0;var f=i(kr()),t=i(ki());function i(o){return o&&o.__esModule?o:{default:o}}const a=Xa.resizeHandleAxesType=f.default.arrayOf(f.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),r=Xa.resizeHandleType=f.default.oneOfType([f.default.node,f.default.func]);return Xa.default={className:f.default.string,style:f.default.object,width:f.default.number,autoSize:f.default.bool,cols:f.default.number,draggableCancel:f.default.string,draggableHandle:f.default.string,verticalCompact:function(o){o.verticalCompact},compactType:f.default.oneOf(["vertical","horizontal"]),layout:function(o){var c=o.layout;c!==void 0&&uu().validateLayout(c,"layout")},margin:f.default.arrayOf(f.default.number),containerPadding:f.default.arrayOf(f.default.number),rowHeight:f.default.number,maxRows:f.default.number,isBounded:f.default.bool,isDraggable:f.default.bool,isResizable:f.default.bool,allowOverlap:f.default.bool,preventCollision:f.default.bool,useCSSTransforms:f.default.bool,transformScale:f.default.number,isDroppable:f.default.bool,resizeHandles:a,resizeHandle:r,onLayoutChange:f.default.func,onDragStart:f.default.func,onDrag:f.default.func,onDragStop:f.default.func,onResizeStart:f.default.func,onResize:f.default.func,onResizeStop:f.default.func,onDrop:f.default.func,droppingItem:f.default.shape({i:f.default.string.isRequired,w:f.default.number.isRequired,h:f.default.number.isRequired}),children:function(o,c){const h=o[c],d={};t.default.Children.forEach(h,function(g){if((g==null?void 0:g.key)!=null){if(d[g.key])throw new Error('Duplicate child key "'+g.key+'" found! This will cause problems in ReactGridLayout.');d[g.key]=!0}})},innerRef:f.default.any},Xa}var yw;function rR(){if(yw)return uh;yw=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.default=void 0;var f=d(ki()),t=d(kr()),i=qy(),a=sR(),r=uu(),o=Fy(),c=n_(),h=d(Hy());function d(S){return S&&S.__esModule?S:{default:S}}function g(S,w,x){return w=m(w),w in S?Object.defineProperty(S,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):S[w]=x,S}function m(S){var w=y(S,"string");return typeof w=="symbol"?w:String(w)}function y(S,w){if(typeof S!="object"||S===null)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var E=x.call(S,w);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(S)}let v=class extends f.default.Component{constructor(){super(...arguments),g(this,"state",{resizing:null,dragging:null,className:""}),g(this,"elementRef",f.default.createRef()),g(this,"onDragStart",(w,x)=>{let{node:E}=x;const{onDragStart:A,transformScale:_}=this.props;if(!A)return;const T={top:0,left:0},{offsetParent:R}=E;if(!R)return;const D=R.getBoundingClientRect(),k=E.getBoundingClientRect(),M=k.left/_,L=D.left/_,H=k.top/_,Y=D.top/_;T.left=M-L+R.scrollLeft,T.top=H-Y+R.scrollTop,this.setState({dragging:T});const{x:$,y:it}=(0,o.calcXY)(this.getPositionParams(),T.top,T.left,this.props.w,this.props.h);return A.call(this,this.props.i,$,it,{e:w,node:E,newPosition:T})}),g(this,"onDrag",(w,x)=>{let{node:E,deltaX:A,deltaY:_}=x;const{onDrag:T}=this.props;if(!T)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let R=this.state.dragging.top+_,D=this.state.dragging.left+A;const{isBounded:k,i:M,w:L,h:H,containerWidth:Y}=this.props,$=this.getPositionParams();if(k){const{offsetParent:Z}=E;if(Z){const{margin:B,rowHeight:G,containerPadding:K}=this.props,ot=Z.clientHeight-(0,o.calcGridItemWHPx)(H,G,B[1]);R=(0,o.clamp)(R-K[1],0,ot);const F=(0,o.calcGridColWidth)($),I=Y-(0,o.calcGridItemWHPx)(L,F,B[0]);D=(0,o.clamp)(D-K[0],0,I)}}const it={top:R,left:D};this.setState({dragging:it});const{x:st,y:tt}=(0,o.calcXY)($,R,D,L,H);return T.call(this,M,st,tt,{e:w,node:E,newPosition:it})}),g(this,"onDragStop",(w,x)=>{let{node:E}=x;const{onDragStop:A}=this.props;if(!A)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:_,h:T,i:R}=this.props,{left:D,top:k}=this.state.dragging,M={top:k,left:D};this.setState({dragging:null});const{x:L,y:H}=(0,o.calcXY)(this.getPositionParams(),k,D,_,T);return A.call(this,R,L,H,{e:w,node:E,newPosition:M})}),g(this,"onResizeStop",(w,x,E)=>this.onResizeHandler(w,x,E,"onResizeStop")),g(this,"onResizeStart",(w,x,E)=>this.onResizeHandler(w,x,E,"onResizeStart")),g(this,"onResize",(w,x,E)=>this.onResizeHandler(w,x,E,"onResize"))}shouldComponentUpdate(w,x){if(this.props.children!==w.children||this.props.droppingPosition!==w.droppingPosition)return!0;const E=(0,o.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),A=(0,o.calcGridItemPosition)(this.getPositionParams(w),w.x,w.y,w.w,w.h,x);return!(0,r.fastPositionEqual)(E,A)||this.props.useCSSTransforms!==w.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(w){this.moveDroppingItem(w)}moveDroppingItem(w){const{droppingPosition:x}=this.props;if(!x)return;const E=this.elementRef.current;if(!E)return;const A=w.droppingPosition||{left:0,top:0},{dragging:_}=this.state,T=_&&x.left!==A.left||x.top!==A.top;if(!_)this.onDragStart(x.e,{node:E,deltaX:x.left,deltaY:x.top});else if(T){const R=x.left-_.left,D=x.top-_.top;this.onDrag(x.e,{node:E,deltaX:R,deltaY:D})}}getPositionParams(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:w.cols,containerPadding:w.containerPadding,containerWidth:w.containerWidth,margin:w.margin,maxRows:w.maxRows,rowHeight:w.rowHeight}}createStyle(w){const{usePercentages:x,containerWidth:E,useCSSTransforms:A}=this.props;let _;return A?_=(0,r.setTransform)(w):(_=(0,r.setTopLeft)(w),x&&(_.left=(0,r.perc)(w.left/E),_.width=(0,r.perc)(w.width/E))),_}mixinDraggable(w,x){return f.default.createElement(i.DraggableCore,{disabled:!x,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},w)}curryResizeHandler(w,x){return(E,A)=>x(E,A,w)}mixinResizable(w,x,E){const{cols:A,minW:_,minH:T,maxW:R,maxH:D,transformScale:k,resizeHandles:M,resizeHandle:L}=this.props,H=this.getPositionParams(),Y=(0,o.calcGridItemPosition)(H,0,0,A,0).width,$=(0,o.calcGridItemPosition)(H,0,0,_,T),it=(0,o.calcGridItemPosition)(H,0,0,R,D),st=[$.width,$.height],tt=[Math.min(it.width,Y),Math.min(it.height,1/0)];return f.default.createElement(a.Resizable,{draggableOpts:{disabled:!E},className:E?void 0:"react-resizable-hide",width:x.width,height:x.height,minConstraints:st,maxConstraints:tt,onResizeStop:this.curryResizeHandler(x,this.onResizeStop),onResizeStart:this.curryResizeHandler(x,this.onResizeStart),onResize:this.curryResizeHandler(x,this.onResize),transformScale:k,resizeHandles:M,handle:L},w)}onResizeHandler(w,x,E,A){let{node:_,size:T,handle:R}=x;const D=this.props[A];if(!D)return;const{x:k,y:M,i:L,maxH:H,minH:Y,containerWidth:$}=this.props,{minW:it,maxW:st}=this.props;let tt=T;_&&(tt=(0,r.resizeItemInDirection)(R,E,T,$),this.setState({resizing:A==="onResizeStop"?null:tt}));let{w:Z,h:B}=(0,o.calcWH)(this.getPositionParams(),tt.width,tt.height,k,M,R);Z=(0,o.clamp)(Z,Math.max(it,1),st),B=(0,o.clamp)(B,Y,H),D.call(this,L,Z,B,{e:w,node:_,size:tt,handle:R})}render(){const{x:w,y:x,w:E,h:A,isDraggable:_,isResizable:T,droppingPosition:R,useCSSTransforms:D}=this.props,k=(0,o.calcGridItemPosition)(this.getPositionParams(),w,x,E,A,this.state),M=f.default.Children.only(this.props.children);let L=f.default.cloneElement(M,{ref:this.elementRef,className:(0,h.default)("react-grid-item",M.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":_,"react-draggable-dragging":!!this.state.dragging,dropping:!!R,cssTransforms:D}),style:{...this.props.style,...M.props.style,...this.createStyle(k)}});return L=this.mixinResizable(L,k,T),L=this.mixinDraggable(L,_),L}};return uh.default=v,g(v,"propTypes",{children:t.default.element,cols:t.default.number.isRequired,containerWidth:t.default.number.isRequired,rowHeight:t.default.number.isRequired,margin:t.default.array.isRequired,maxRows:t.default.number.isRequired,containerPadding:t.default.array.isRequired,x:t.default.number.isRequired,y:t.default.number.isRequired,w:t.default.number.isRequired,h:t.default.number.isRequired,minW:function(S,w){const x=S[w];if(typeof x!="number")return new Error("minWidth not Number");if(x>S.w||x>S.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(S,w){const x=S[w];if(typeof x!="number")return new Error("maxWidth not Number");if(x<S.w||x<S.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(S,w){const x=S[w];if(typeof x!="number")return new Error("minHeight not Number");if(x>S.h||x>S.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(S,w){const x=S[w];if(typeof x!="number")return new Error("maxHeight not Number");if(x<S.h||x<S.minH)return new Error("maxHeight smaller than item height/minHeight")},i:t.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:t.default.func,onDragStart:t.default.func,onDrag:t.default.func,onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,isDraggable:t.default.bool.isRequired,isResizable:t.default.bool.isRequired,isBounded:t.default.bool.isRequired,static:t.default.bool,useCSSTransforms:t.default.bool.isRequired,transformScale:t.default.number,className:t.default.string,handle:t.default.string,cancel:t.default.string,droppingPosition:t.default.shape({e:t.default.object.isRequired,left:t.default.number.isRequired,top:t.default.number.isRequired})}),g(v,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),uh}var vw;function a_(){if(vw)return ch;vw=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.default=void 0;var f=g(ki()),t=Py(),i=h(Hy()),a=uu(),r=Fy(),o=h(rR()),c=h(n_());function h(E){return E&&E.__esModule?E:{default:E}}function d(E){if(typeof WeakMap!="function")return null;var A=new WeakMap,_=new WeakMap;return(d=function(T){return T?_:A})(E)}function g(E,A){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var _=d(A);if(_&&_.has(E))return _.get(E);var T={__proto__:null},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in E)if(D!=="default"&&Object.prototype.hasOwnProperty.call(E,D)){var k=R?Object.getOwnPropertyDescriptor(E,D):null;k&&(k.get||k.set)?Object.defineProperty(T,D,k):T[D]=E[D]}return T.default=E,_&&_.set(E,T),T}function m(E,A,_){return A=y(A),A in E?Object.defineProperty(E,A,{value:_,enumerable:!0,configurable:!0,writable:!0}):E[A]=_,E}function y(E){var A=v(E,"string");return typeof A=="symbol"?A:String(A)}function v(E,A){if(typeof E!="object"||E===null)return E;var _=E[Symbol.toPrimitive];if(_!==void 0){var T=_.call(E,A);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(E)}const S="react-grid-layout";let w=!1;try{w=/firefox/i.test(navigator.userAgent)}catch{}let x=class extends f.Component{constructor(){super(...arguments),m(this,"state",{activeDrag:null,layout:(0,a.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,a.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),m(this,"dragEnterCounter",0),m(this,"onDragStart",(A,_,T,R)=>{let{e:D,node:k}=R;const{layout:M}=this.state,L=(0,a.getLayoutItem)(M,A);if(!L)return;const H={w:L.w,h:L.h,x:L.x,y:L.y,placeholder:!0,i:A};return this.setState({oldDragItem:(0,a.cloneLayoutItem)(L),oldLayout:M,activeDrag:H}),this.props.onDragStart(M,L,L,null,D,k)}),m(this,"onDrag",(A,_,T,R)=>{let{e:D,node:k}=R;const{oldDragItem:M}=this.state;let{layout:L}=this.state;const{cols:H,allowOverlap:Y,preventCollision:$}=this.props,it=(0,a.getLayoutItem)(L,A);if(!it)return;const st={w:it.w,h:it.h,x:it.x,y:it.y,placeholder:!0,i:A};L=(0,a.moveElement)(L,it,_,T,!0,$,(0,a.compactType)(this.props),H,Y),this.props.onDrag(L,M,it,st,D,k),this.setState({layout:Y?L:(0,a.compact)(L,(0,a.compactType)(this.props),H),activeDrag:st})}),m(this,"onDragStop",(A,_,T,R)=>{let{e:D,node:k}=R;if(!this.state.activeDrag)return;const{oldDragItem:M}=this.state;let{layout:L}=this.state;const{cols:H,preventCollision:Y,allowOverlap:$}=this.props,it=(0,a.getLayoutItem)(L,A);if(!it)return;L=(0,a.moveElement)(L,it,_,T,!0,Y,(0,a.compactType)(this.props),H,$);const tt=$?L:(0,a.compact)(L,(0,a.compactType)(this.props),H);this.props.onDragStop(tt,M,it,null,D,k);const{oldLayout:Z}=this.state;this.setState({activeDrag:null,layout:tt,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(tt,Z)}),m(this,"onResizeStart",(A,_,T,R)=>{let{e:D,node:k}=R;const{layout:M}=this.state,L=(0,a.getLayoutItem)(M,A);L&&(this.setState({oldResizeItem:(0,a.cloneLayoutItem)(L),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(M,L,L,null,D,k))}),m(this,"onResize",(A,_,T,R)=>{let{e:D,node:k,size:M,handle:L}=R;const{oldResizeItem:H}=this.state,{layout:Y}=this.state,{cols:$,preventCollision:it,allowOverlap:st}=this.props;let tt=!1,Z,B,G;const[K,ot]=(0,a.withLayoutItem)(Y,A,I=>{let at;return B=I.x,G=I.y,["sw","w","nw","n","ne"].indexOf(L)!==-1&&(["sw","nw","w"].indexOf(L)!==-1&&(B=I.x+(I.w-_),_=I.x!==B&&B<0?I.w:_,B=B<0?0:B),["ne","n","nw"].indexOf(L)!==-1&&(G=I.y+(I.h-T),T=I.y!==G&&G<0?I.h:T,G=G<0?0:G),tt=!0),it&&!st&&(at=(0,a.getAllCollisions)(Y,{...I,w:_,h:T,x:B,y:G}).filter(lt=>lt.i!==I.i).length>0,at&&(G=I.y,T=I.h,B=I.x,_=I.w,tt=!1)),I.w=_,I.h=T,I});if(!ot)return;Z=K,tt&&(Z=(0,a.moveElement)(K,ot,B,G,!0,this.props.preventCollision,(0,a.compactType)(this.props),$,st));const F={w:ot.w,h:ot.h,x:ot.x,y:ot.y,static:!0,i:A};this.props.onResize(Z,H,ot,F,D,k),this.setState({layout:st?Z:(0,a.compact)(Z,(0,a.compactType)(this.props),$),activeDrag:F})}),m(this,"onResizeStop",(A,_,T,R)=>{let{e:D,node:k}=R;const{layout:M,oldResizeItem:L}=this.state,{cols:H,allowOverlap:Y}=this.props,$=(0,a.getLayoutItem)(M,A),it=Y?M:(0,a.compact)(M,(0,a.compactType)(this.props),H);this.props.onResizeStop(it,L,$,null,D,k);const{oldLayout:st}=this.state;this.setState({activeDrag:null,layout:it,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(it,st)}),m(this,"onDragOver",A=>{var K;if(A.preventDefault(),A.stopPropagation(),w&&!((K=A.nativeEvent.target)!=null&&K.classList.contains(S)))return!1;const{droppingItem:_,onDropDragOver:T,margin:R,cols:D,rowHeight:k,maxRows:M,width:L,containerPadding:H,transformScale:Y}=this.props,$=T==null?void 0:T(A);if($===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const it={..._,...$},{layout:st}=this.state,tt=A.currentTarget.getBoundingClientRect(),Z=A.clientX-tt.left,B=A.clientY-tt.top,G={left:Z/Y,top:B/Y,e:A};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:ot,top:F}=this.state.droppingPosition;(ot!=Z||F!=B)&&this.setState({droppingPosition:G})}}else{const ot={cols:D,margin:R,maxRows:M,rowHeight:k,containerWidth:L,containerPadding:H||R},F=(0,r.calcXY)(ot,B,Z,it.w,it.h);this.setState({droppingDOMNode:f.createElement("div",{key:it.i}),droppingPosition:G,layout:[...st,{...it,x:F.x,y:F.y,static:!1,isDraggable:!0}]})}}),m(this,"removeDroppingPlaceholder",()=>{const{droppingItem:A,cols:_}=this.props,{layout:T}=this.state,R=(0,a.compact)(T.filter(D=>D.i!==A.i),(0,a.compactType)(this.props),_,this.props.allowOverlap);this.setState({layout:R,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),m(this,"onDragLeave",A=>{A.preventDefault(),A.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),m(this,"onDragEnter",A=>{A.preventDefault(),A.stopPropagation(),this.dragEnterCounter++}),m(this,"onDrop",A=>{A.preventDefault(),A.stopPropagation();const{droppingItem:_}=this.props,{layout:T}=this.state,R=T.find(D=>D.i===_.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(T,R,A)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(A,_){let T;return _.activeDrag?null:(!(0,t.deepEqual)(A.layout,_.propsLayout)||A.compactType!==_.compactType?T=A.layout:(0,a.childrenEqual)(A.children,_.children)||(T=_.layout),T?{layout:(0,a.synchronizeLayoutWithChildren)(T,A.children,A.cols,(0,a.compactType)(A),A.allowOverlap),compactType:A.compactType,children:A.children,propsLayout:A.layout}:null)}shouldComponentUpdate(A,_){return this.props.children!==A.children||!(0,a.fastRGLPropsEqual)(this.props,A,t.deepEqual)||this.state.activeDrag!==_.activeDrag||this.state.mounted!==_.mounted||this.state.droppingPosition!==_.droppingPosition}componentDidUpdate(A,_){if(!this.state.activeDrag){const T=this.state.layout,R=_.layout;this.onLayoutMaybeChanged(T,R)}}containerHeight(){if(!this.props.autoSize)return;const A=(0,a.bottom)(this.state.layout),_=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return A*this.props.rowHeight+(A-1)*this.props.margin[1]+_*2+"px"}onLayoutMaybeChanged(A,_){_||(_=this.state.layout),(0,t.deepEqual)(_,A)||this.props.onLayoutChange(A)}placeholder(){const{activeDrag:A}=this.state;if(!A)return null;const{width:_,cols:T,margin:R,containerPadding:D,rowHeight:k,maxRows:M,useCSSTransforms:L,transformScale:H}=this.props;return f.createElement(o.default,{w:A.w,h:A.h,x:A.x,y:A.y,i:A.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:_,cols:T,margin:R,containerPadding:D||R,maxRows:M,rowHeight:k,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:L,transformScale:H},f.createElement("div",null))}processGridItem(A,_){if(!A||!A.key)return;const T=(0,a.getLayoutItem)(this.state.layout,String(A.key));if(!T)return null;const{width:R,cols:D,margin:k,containerPadding:M,rowHeight:L,maxRows:H,isDraggable:Y,isResizable:$,isBounded:it,useCSSTransforms:st,transformScale:tt,draggableCancel:Z,draggableHandle:B,resizeHandles:G,resizeHandle:K}=this.props,{mounted:ot,droppingPosition:F}=this.state,I=typeof T.isDraggable=="boolean"?T.isDraggable:!T.static&&Y,at=typeof T.isResizable=="boolean"?T.isResizable:!T.static&&$,ht=T.resizeHandles||G,lt=I&&it&&T.isBounded!==!1;return f.createElement(o.default,{containerWidth:R,cols:D,margin:k,containerPadding:M||k,maxRows:H,rowHeight:L,cancel:Z,handle:B,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:I,isResizable:at,isBounded:lt,useCSSTransforms:st&&ot,usePercentages:!ot,transformScale:tt,w:T.w,h:T.h,x:T.x,y:T.y,i:T.i,minH:T.minH,minW:T.minW,maxH:T.maxH,maxW:T.maxW,static:T.static,droppingPosition:_?F:void 0,resizeHandles:ht,resizeHandle:K},A)}render(){const{className:A,style:_,isDroppable:T,innerRef:R}=this.props,D=(0,i.default)(S,A),k={height:this.containerHeight(),..._};return f.createElement("div",{ref:R,className:D,style:k,onDrop:T?this.onDrop:a.noop,onDragLeave:T?this.onDragLeave:a.noop,onDragEnter:T?this.onDragEnter:a.noop,onDragOver:T?this.onDragOver:a.noop},f.Children.map(this.props.children,M=>this.processGridItem(M)),T&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return ch.default=x,m(x,"displayName","ReactGridLayout"),m(x,"propTypes",c.default),m(x,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:a.noop,onDragStart:a.noop,onDrag:a.noop,onDragStop:a.noop,onResizeStart:a.noop,onResize:a.noop,onResizeStop:a.noop,onDrop:a.noop,onDropDragOver:a.noop}),ch}var bh={},ao={},Aw;function s_(){if(Aw)return ao;Aw=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.findOrGenerateResponsiveLayout=a,ao.getBreakpointFromWidth=t,ao.getColsFromBreakpoint=i,ao.sortBreakpoints=r;var f=uu();function t(o,c){const h=r(o);let d=h[0];for(let g=1,m=h.length;g<m;g++){const y=h[g];c>o[y]&&(d=y)}return d}function i(o,c){if(!c[o])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+o+" is missing!");return c[o]}function a(o,c,h,d,g,m){if(o[h])return(0,f.cloneLayout)(o[h]);let y=o[d];const v=r(c),S=v.slice(v.indexOf(h));for(let w=0,x=S.length;w<x;w++){const E=S[w];if(o[E]){y=o[E];break}}return y=(0,f.cloneLayout)(y||[]),(0,f.compact)((0,f.correctBounds)(y,{cols:g}),m,g)}function r(o){return Object.keys(o).sort(function(h,d){return o[h]-o[d]})}return ao}var Sw;function oR(){if(Sw)return bh;Sw=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.default=void 0;var f=d(ki()),t=c(kr()),i=Py(),a=uu(),r=s_(),o=c(a_());function c(E){return E&&E.__esModule?E:{default:E}}function h(E){if(typeof WeakMap!="function")return null;var A=new WeakMap,_=new WeakMap;return(h=function(T){return T?_:A})(E)}function d(E,A){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var _=h(A);if(_&&_.has(E))return _.get(E);var T={__proto__:null},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in E)if(D!=="default"&&Object.prototype.hasOwnProperty.call(E,D)){var k=R?Object.getOwnPropertyDescriptor(E,D):null;k&&(k.get||k.set)?Object.defineProperty(T,D,k):T[D]=E[D]}return T.default=E,_&&_.set(E,T),T}function g(){return g=Object.assign?Object.assign.bind():function(E){for(var A=1;A<arguments.length;A++){var _=arguments[A];for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(E[T]=_[T])}return E},g.apply(this,arguments)}function m(E,A,_){return A=y(A),A in E?Object.defineProperty(E,A,{value:_,enumerable:!0,configurable:!0,writable:!0}):E[A]=_,E}function y(E){var A=v(E,"string");return typeof A=="symbol"?A:String(A)}function v(E,A){if(typeof E!="object"||E===null)return E;var _=E[Symbol.toPrimitive];if(_!==void 0){var T=_.call(E,A);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(E)}const S=E=>Object.prototype.toString.call(E);function w(E,A){return E==null?null:Array.isArray(E)?E:E[A]}let x=class extends f.Component{constructor(){super(...arguments),m(this,"state",this.generateInitialState()),m(this,"onLayoutChange",A=>{this.props.onLayoutChange(A,{...this.props.layouts,[this.state.breakpoint]:A})})}generateInitialState(){const{width:A,breakpoints:_,layouts:T,cols:R}=this.props,D=(0,r.getBreakpointFromWidth)(_,A),k=(0,r.getColsFromBreakpoint)(D,R),M=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,r.findOrGenerateResponsiveLayout)(T,_,D,D,k,M),breakpoint:D,cols:k}}static getDerivedStateFromProps(A,_){if(!(0,i.deepEqual)(A.layouts,_.layouts)){const{breakpoint:T,cols:R}=_;return{layout:(0,r.findOrGenerateResponsiveLayout)(A.layouts,A.breakpoints,T,T,R,A.compactType),layouts:A.layouts}}return null}componentDidUpdate(A){(this.props.width!=A.width||this.props.breakpoint!==A.breakpoint||!(0,i.deepEqual)(this.props.breakpoints,A.breakpoints)||!(0,i.deepEqual)(this.props.cols,A.cols))&&this.onWidthChange(A)}onWidthChange(A){const{breakpoints:_,cols:T,layouts:R,compactType:D}=this.props,k=this.props.breakpoint||(0,r.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),M=this.state.breakpoint,L=(0,r.getColsFromBreakpoint)(k,T),H={...R};if(M!==k||A.breakpoints!==_||A.cols!==T){M in H||(H[M]=(0,a.cloneLayout)(this.state.layout));let it=(0,r.findOrGenerateResponsiveLayout)(H,_,k,M,L,D);it=(0,a.synchronizeLayoutWithChildren)(it,this.props.children,L,D,this.props.allowOverlap),H[k]=it,this.props.onBreakpointChange(k,L),this.props.onLayoutChange(it,H),this.setState({breakpoint:k,layout:it,cols:L})}const Y=w(this.props.margin,k),$=w(this.props.containerPadding,k);this.props.onWidthChange(this.props.width,Y,L,$)}render(){const{breakpoint:A,breakpoints:_,cols:T,layouts:R,margin:D,containerPadding:k,onBreakpointChange:M,onLayoutChange:L,onWidthChange:H,...Y}=this.props;return f.createElement(o.default,g({},Y,{margin:w(D,this.state.breakpoint),containerPadding:w(k,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return bh.default=x,m(x,"propTypes",{breakpoint:t.default.string,breakpoints:t.default.object,allowOverlap:t.default.bool,cols:t.default.object,margin:t.default.oneOfType([t.default.array,t.default.object]),containerPadding:t.default.oneOfType([t.default.array,t.default.object]),layouts(E,A){if(S(E[A])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+S(E[A]));Object.keys(E[A]).forEach(_=>{if(!(_ in E.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,a.validateLayout)(E.layouts[_],"layouts."+_)})},width:t.default.number.isRequired,onBreakpointChange:t.default.func,onLayoutChange:t.default.func,onWidthChange:t.default.func}),m(x,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:a.noop,onLayoutChange:a.noop,onWidthChange:a.noop}),bh}var Ep={},r_=function(){if(typeof Map<"u")return Map;function f(t,i){var a=-1;return t.some(function(r,o){return r[0]===i?(a=o,!0):!1}),a}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(i){var a=f(this.__entries__,i),r=this.__entries__[a];return r&&r[1]},t.prototype.set=function(i,a){var r=f(this.__entries__,i);~r?this.__entries__[r][1]=a:this.__entries__.push([i,a])},t.prototype.delete=function(i){var a=this.__entries__,r=f(a,i);~r&&a.splice(r,1)},t.prototype.has=function(i){return!!~f(this.__entries__,i)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(i,a){a===void 0&&(a=null);for(var r=0,o=this.__entries__;r<o.length;r++){var c=o[r];i.call(a,c[1],c[0])}},t}()}(),b0=typeof window<"u"&&typeof document<"u"&&window.document===document,ug=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),lR=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ug):function(f){return setTimeout(function(){return f(Date.now())},1e3/60)}}(),cR=2;function uR(f,t){var i=!1,a=!1,r=0;function o(){i&&(i=!1,f()),a&&h()}function c(){lR(o)}function h(){var d=Date.now();if(i){if(d-r<cR)return;a=!0}else i=!0,a=!1,setTimeout(c,t);r=d}return h}var hR=20,dR=["top","right","bottom","left","width","height","size","weight"],fR=typeof MutationObserver<"u",pR=function(){function f(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=uR(this.refresh.bind(this),hR)}return f.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},f.prototype.removeObserver=function(t){var i=this.observers_,a=i.indexOf(t);~a&&i.splice(a,1),!i.length&&this.connected_&&this.disconnect_()},f.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},f.prototype.updateObservers_=function(){var t=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return t.forEach(function(i){return i.broadcastActive()}),t.length>0},f.prototype.connect_=function(){!b0||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),fR?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},f.prototype.disconnect_=function(){!b0||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},f.prototype.onTransitionEnd_=function(t){var i=t.propertyName,a=i===void 0?"":i,r=dR.some(function(o){return!!~a.indexOf(o)});r&&this.refresh()},f.getInstance=function(){return this.instance_||(this.instance_=new f),this.instance_},f.instance_=null,f}(),o_=function(f,t){for(var i=0,a=Object.keys(t);i<a.length;i++){var r=a[i];Object.defineProperty(f,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return f},cu=function(f){var t=f&&f.ownerDocument&&f.ownerDocument.defaultView;return t||ug},l_=Pg(0,0,0,0);function hg(f){return parseFloat(f)||0}function ww(f){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce(function(a,r){var o=f["border-"+r+"-width"];return a+hg(o)},0)}function gR(f){for(var t=["top","right","bottom","left"],i={},a=0,r=t;a<r.length;a++){var o=r[a],c=f["padding-"+o];i[o]=hg(c)}return i}function mR(f){var t=f.getBBox();return Pg(0,0,t.width,t.height)}function bR(f){var t=f.clientWidth,i=f.clientHeight;if(!t&&!i)return l_;var a=cu(f).getComputedStyle(f),r=gR(a),o=r.left+r.right,c=r.top+r.bottom,h=hg(a.width),d=hg(a.height);if(a.boxSizing==="border-box"&&(Math.round(h+o)!==t&&(h-=ww(a,"left","right")+o),Math.round(d+c)!==i&&(d-=ww(a,"top","bottom")+c)),!vR(f)){var g=Math.round(h+o)-t,m=Math.round(d+c)-i;Math.abs(g)!==1&&(h-=g),Math.abs(m)!==1&&(d-=m)}return Pg(r.left,r.top,h,d)}var yR=function(){return typeof SVGGraphicsElement<"u"?function(f){return f instanceof cu(f).SVGGraphicsElement}:function(f){return f instanceof cu(f).SVGElement&&typeof f.getBBox=="function"}}();function vR(f){return f===cu(f).document.documentElement}function AR(f){return b0?yR(f)?mR(f):bR(f):l_}function SR(f){var t=f.x,i=f.y,a=f.width,r=f.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(o.prototype);return o_(c,{x:t,y:i,width:a,height:r,top:i,right:t+a,bottom:r+i,left:t}),c}function Pg(f,t,i,a){return{x:f,y:t,width:i,height:a}}var wR=function(){function f(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Pg(0,0,0,0),this.target=t}return f.prototype.isActive=function(){var t=AR(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},f.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},f}(),_R=function(){function f(t,i){var a=SR(i);o_(this,{target:t,contentRect:a})}return f}(),ER=function(){function f(t,i,a){if(this.activeObservations_=[],this.observations_=new r_,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=i,this.callbackCtx_=a}return f.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof cu(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(t)||(i.set(t,new wR(t)),this.controller_.addObserver(this),this.controller_.refresh())}},f.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof cu(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(t)&&(i.delete(t),i.size||this.controller_.removeObserver(this))}},f.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},f.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&t.activeObservations_.push(i)})},f.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,i=this.activeObservations_.map(function(a){return new _R(a.target,a.broadcastRect())});this.callback_.call(t,i,t),this.clearActive()}},f.prototype.clearActive=function(){this.activeObservations_.splice(0)},f.prototype.hasActive=function(){return this.activeObservations_.length>0},f}(),c_=typeof WeakMap<"u"?new WeakMap:new r_,u_=function(){function f(t){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=pR.getInstance(),a=new ER(t,i,this);c_.set(this,a)}return f}();["observe","unobserve","disconnect"].forEach(function(f){u_.prototype[f]=function(){var t;return(t=c_.get(this))[f].apply(t,arguments)}});var xR=function(){return typeof ug.ResizeObserver<"u"?ug.ResizeObserver:u_}();const TR=Object.freeze(Object.defineProperty({__proto__:null,default:xR},Symbol.toStringTag,{value:"Module"})),CR=Qw(TR);var _w;function RR(){if(_w)return Ep;_w=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.default=v;var f=c(ki()),t=r(kr()),i=r(CR),a=r(Hy());function r(S){return S&&S.__esModule?S:{default:S}}function o(S){if(typeof WeakMap!="function")return null;var w=new WeakMap,x=new WeakMap;return(o=function(E){return E?x:w})(S)}function c(S,w){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var x=o(w);if(x&&x.has(S))return x.get(S);var E={__proto__:null},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in S)if(_!=="default"&&Object.prototype.hasOwnProperty.call(S,_)){var T=A?Object.getOwnPropertyDescriptor(S,_):null;T&&(T.get||T.set)?Object.defineProperty(E,_,T):E[_]=S[_]}return E.default=S,x&&x.set(S,E),E}function h(){return h=Object.assign?Object.assign.bind():function(S){for(var w=1;w<arguments.length;w++){var x=arguments[w];for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(S[E]=x[E])}return S},h.apply(this,arguments)}function d(S,w,x){return w=g(w),w in S?Object.defineProperty(S,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):S[w]=x,S}function g(S){var w=m(S,"string");return typeof w=="symbol"?w:String(w)}function m(S,w){if(typeof S!="object"||S===null)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var E=x.call(S,w);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(S)}const y="react-grid-layout";function v(S){var w;return w=class extends f.Component{constructor(){super(...arguments),d(this,"state",{width:1280}),d(this,"elementRef",f.createRef()),d(this,"mounted",!1),d(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new i.default(A=>{if(this.elementRef.current instanceof HTMLElement){const T=A[0].contentRect.width;this.setState({width:T})}});const E=this.elementRef.current;E instanceof HTMLElement&&this.resizeObserver.observe(E)}componentWillUnmount(){this.mounted=!1;const E=this.elementRef.current;E instanceof HTMLElement&&this.resizeObserver.unobserve(E),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:E,...A}=this.props;return E&&!this.mounted?f.createElement("div",{className:(0,a.default)(this.props.className,y),style:this.props.style,ref:this.elementRef}):f.createElement(S,h({innerRef:this.elementRef},A,this.state))}},d(w,"defaultProps",{measureBeforeMount:!1}),d(w,"propTypes",{measureBeforeMount:t.default.bool}),w}return Ep}var Ew;function DR(){return Ew||(Ew=1,function(f){f.exports=a_().default,f.exports.utils=uu(),f.exports.calculateUtils=Fy(),f.exports.Responsive=oR().default,f.exports.Responsive.utils=s_(),f.exports.WidthProvider=RR().default}(s0)),s0.exports}var h_=DR();const MR=zy(h_);var OR=Object.defineProperty,LR=(f,t,i)=>t in f?OR(f,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):f[t]=i,kR=(f,t,i)=>(LR(f,t+"",i),i),d_=(f,t,i)=>{if(!t.has(f))throw TypeError("Cannot "+i)},$t=(f,t,i)=>(d_(f,t,"read from private field"),i?i.call(f):t.get(f)),so=(f,t,i)=>{if(t.has(f))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(f):t.set(f,i)},yh=(f,t,i,a)=>(d_(f,t,"write to private field"),t.set(f,i),i),NR=`.container{height:calc(100% - 102px);overflow-y:auto;background-color:var(--base00);color:var(--base05);padding:10px;letter-spacing:0.5px;font-family:monospace;border-radius:3px}.toolbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;padding-bottom:5px;border-bottom:solid 1px var(--base02)}.toolbar .options,.toolbar .search-wrapper{display:flex;align-items:center}.toolbar .icon-wrapper{height:15px;display:flex;align-items:center;padding:2px 5px}.toolbar .icon-wrapper:hover{background-color:var(--base02);border-radius:3px}.toolbar .icon-wrapper:first-child{margin-left:0px}.toolbar .search.icon{margin-right:5px}.toolbar .search-input{border:none;background:transparent;outline:none;flex:1;font-size:16px;color:var(--base0D)}.match{background-color:yellow;font-weight:bold;color:red}.data-row{padding:3px 0}.data-row .data-row{border-left:solid 1px var(--base02);padding-left:20px;margin-left:5px;display:none}.data-row.expanded>.data-row{display:block}.data-row .key-value-wrapper{display:flex;align-items:center}.data-row .key{color:var(--base07)}.data-row .key.number{color:var(--base0C)}.data-row .colon{color:var(--base07);margin:0 5px}.clickable{cursor:pointer}.data-row .opening-parenthesis,.data-row .closing-parenthesis{color:var(--base07)}.data-row .ellipsis{color:var(--base09)}.data-row.expanded>.key-value-wrapper .closing-parenthesis,.data-row.expanded>.key-value-wrapper .ellipsis{display:none}.data-row>.closing-parenthesis{display:none}.data-row.expanded>.closing-parenthesis{display:inline-block}.data-row .items-size{margin-left:10px;color:var(--base04);font-style:italic;display:none}.show-size .data-row .items-size{display:inline-block}.data-row .value.bool,.data-row .value.boolean{color:var(--base0E)}.data-row .value.function{color:var(--base0D)}.data-row .value.int,.data-row .value.integer{color:var(--base0F)}.data-row .value.float{color:var(--base0B)}.data-row .value.string{color:var(--base09)}.data-row .value.string .content{overflow-wrap:break-word}.data-row .value.string .content::before{content:open-quote}.data-row .value.string .content::after{content:close-quote}.data-row .value.regexp{color:var(--base0A)}.data-row .value.nan{color:var(--base08)}.data-row .value.null{color:var(--base0A)}.data-row .value.undefined{color:var(--base05)}.data-row .value.date{color:var(--base0D)}.data-row .value.nan,.data-row .value.null,.data-row .value.undefined{border-radius:3px;background-color:var(--base02);padding:1px 2px}.data-row .value .type{font-size:smaller;margin-right:4px;opacity:0.8;display:none}.data-row .value .value-data{word-break:break-all}.show-data-types .data-row .value .type{display:inline-block}.icon-wrapper,.copy-icon-wrapper{display:inline-block;cursor:pointer}.icon{display:block;position:relative}.icon:before,.icon:after{content:"";position:absolute;display:block}.expand.icon{margin-right:5px}.expand-icon-arrow .expand.icon{margin-left:3px;width:0;height:0;border-left:solid 6px var(--base0E);border-top:solid 6px transparent;border-bottom:solid 6px transparent}.expand-icon-arrow .expanded>.key-value-wrapper .expand.icon,.expand-icon-arrow .expanded.icon.expand{transform:rotate(90deg);border-left-color:var(--base0D)}.expand-icon-square .expand.icon,.expand-icon-circle .expand.icon{display:block;width:9px;height:9px;border-radius:2px;border:solid 1px var(--base0E)}.expand-icon-circle .expand.icon{border-radius:50%}.expand-icon-square .expand.icon:before,.expand-icon-circle .expand.icon:before,.expand-icon-square .expand.icon:after,.expand-icon-circle .expand.icon:after{width:5px;height:1px;background-color:var(--base0E);left:2px;top:4px}.expand-icon-square .expand.icon:after,.expand-icon-circle .expand.icon:after{transform:rotate(90deg)}.expand-icon-square .expanded>.key-value-wrapper .expand.icon:after,.expand-icon-circle .expanded>.key-value-wrapper .expand.icon:after,.expand-icon-square .expand.icon.expanded:after,.expand-icon-circle .expand.icon.expanded:after{display:none}.expand-icon-square .expanded>.key-value-wrapper .expand.icon,.expand-icon-circle .expanded>.key-value-wrapper .expand.icon,.expand-icon-square .expand.icon.expanded,.expand-icon-circle .expanded.expand.icon{border-color:var(--base0D)}.expand-icon-square .expanded>.key-value-wrapper .expand.icon:before,.expand-icon-circle .expanded>.key-value-wrapper .expand.icon:before,.expand-icon-square .expanded.expand.icon:before,.expand-icon-circle .expanded.expand.icon:before{background-color:var(--base0D)}.icon-wrapper{display:inline-block;cursor:pointer}.show-copy .key-value-wrapper:hover .icon.copy{display:block}.copy.icon{margin-left:10px;display:none;width:8px;height:10px;border:solid 1px var(--base0D);border-radius:1px;position:relative;top:4px;transition:0.2s all}.copy.icon:active{transform:scale(1.6);background-color:var(--base0B)}.copy.icon:before{content:"";display:block;left:-3px;top:-3px;width:8px;height:10px;border-top:solid 1px var(--base0D);border-left:solid 1px var(--base0D);border-radius:1px 0 0 0}.plus.icon{width:11px;height:1px;background-color:var(--base0D)}.plus.icon:after{content:"";width:11px;height:1px;background-color:var(--base0D);-webkit-transform:rotate(90deg);transform:rotate(90deg)}.minus.icon{width:11px;height:1px;background-color:var(--base0D)}.indent.icon{color:var(--base0D);width:17px;height:8px;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D)}.indent.icon:before{content:"";position:absolute;top:2px;right:0;width:11px;height:2px;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D)}.indent.icon:after{content:"";position:absolute;top:1px;width:0;height:0;border-top:solid 3px transparent;border-bottom:solid 3px transparent;border-left:solid 3px var(--base0D);border-right:solid 3px transparent}.outdent.icon{color:var(--base0D);margin-left:2px;width:17px;height:8px;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D)}.outdent.icon:before{content:"";top:2px;right:0;width:11px;height:2px;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D)}.outdent.icon:after{content:"";top:1px;left:-3px;width:0;height:0;border-top:solid 3px transparent;border-bottom:solid 3px transparent;border-left:solid 3px transparent;border-right:solid 3px var(--base0D)}.refresh.icon{color:var(--base0D);width:10px;height:10px;border-radius:50%;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D);border-left:solid 1px transparent;border-right:solid 1px var(--base0D)}.refresh.icon:before{content:"";left:1px;top:8px;width:3px;height:3px;border-top:solid 1px var(--base0D);border-left:solid 1px var(--base0D);-webkit-transform:rotate(-22.5deg);transform:rotate(-22.5deg)}.info.icon{width:12px;height:11px;border:solid 1px var(--base0D);border-radius:2px}.info.icon::before{top:5px;left:5px;width:2px;height:5px;background-color:var(--base0D)}.info.icon::after{top:2px;left:5px;width:2px;height:2px;background-color:var(--base0D)}.info.icon.active{background-color:var(--base0D)}.info.icon.active::before,.info.icon.active::after{background-color:var(--base02)}.search.icon{color:var(--base0D);width:11px;height:11px;border:solid 1px var(--base0D);border-radius:100%;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.search.icon:before{content:"";top:11px;left:5px;height:6px;width:1px;background-color:var(--base0D)}
`,xw={apathy:["#031a16","#0b342d","#184e45","#2b685e","#5f9c92","#81b5ac","#a7cec8","#d2e7e4","#3e9688","#3e7996","#3e4c96","#883e96","#963e4c","#96883e","#4c963e","#3e965b"],ashes:["#1c2023","#393f45","#565e65","#747c84","#adb3ba","#c7ccd1","#dfe2e5","#f3f4f5","#c7ae95","#c7c795","#aec795","#95c7ae","#95aec7","#ae95c7","#c795ae","#c79595"],"atelier-dune-light":["#fefbec","#e8e4cf","#a6a28c","#999580","#7d7a68","#6e6b5e","#292824","#20201d","#d73737","#b65611","#ae9513","#60ac39","#1fad83","#6684e1","#b854d4","#d43552"],"atelier-dune":["#20201d","#292824","#6e6b5e","#7d7a68","#999580","#a6a28c","#e8e4cf","#fefbec","#d73737","#b65611","#ae9513","#60ac39","#1fad83","#6684e1","#b854d4","#d43552"],atlas:["#002635","#00384d","#517f8d","#6c8b91","#869696","#a1a19a","#e6e6dc","#fafaf8","#ff5a67","#f08e48","#ffcc1b","#7fc06e","#14747e","#5dd7b9","#9a70a4","#c43060"],bespin:["#28211c","#36312e","#5e5d5c","#666666","#797977","#8a8986","#9d9b97","#baae9e","#cf6a4c","#cf7d34","#f9ee98","#54be0d","#afc4db","#5ea6ea","#9b859d","#937121"],"black-metal":["#000000","#121212","#222222","#333333","#999999","#c1c1c1","#999999","#c1c1c1","#5f8787","#aaaaaa","#a06666","#dd9999","#aaaaaa","#888888","#999999","#444444"],brewer:["#0c0d0e","#2e2f30","#515253","#737475","#959697","#b7b8b9","#dadbdc","#fcfdfe","#e31a1c","#e6550d","#dca060","#31a354","#80b1d3","#3182bd","#756bb1","#b15928"],bright:["#000000","#303030","#505050","#b0b0b0","#d0d0d0","#e0e0e0","#f5f5f5","#ffffff","#fb0120","#fc6d24","#fda331","#a1c659","#76c7b7","#6fb3d2","#d381c3","#be643c"],brogrammer:["#1f1f1f","#f81118","#2dc55e","#ecba0f","#2a84d2","#4e5ab7","#1081d6","#d6dbe5","#d6dbe5","#de352e","#1dd361","#f3bd09","#1081d6","#5350b9","#0f7ddb","#ffffff"],"brushtrees-dark":["#485867","#5a6d7a","#6d828e","#8299a1","#98afb5","#b0c5c8","#c9dbdc","#e3efef","#b38686","#d8bba2","#aab386","#87b386","#86b3b3","#868cb3","#b386b2","#b39f9f"],brushtrees:["#e3efef","#c9dbdc","#b0c5c8","#98afb5","#8299a1","#6d828e","#5a6d7a","#485867","#b38686","#d8bba2","#aab386","#87b386","#86b3b3","#868cb3","#b386b2","#b39f9f"],chalk:["#151515","#202020","#303030","#505050","#b0b0b0","#d0d0d0","#e0e0e0","#f5f5f5","#fb9fb1","#eda987","#ddb26f","#acc267","#12cfc0","#6fc2ef","#e1a3ee","#deaf8f"],circus:["#191919","#202020","#303030","#5f5a60","#505050","#a7a7a7","#808080","#ffffff","#dc657d","#4bb1a7","#c3ba63","#84b97c","#4bb1a7","#639ee4","#b888e2","#b888e2"],"classic-dark":["#151515","#202020","#303030","#505050","#b0b0b0","#d0d0d0","#e0e0e0","#f5f5f5","#ac4142","#d28445","#f4bf75","#90a959","#75b5aa","#6a9fb5","#aa759f","#8f5536"],"classic-light":["#f5f5f5","#e0e0e0","#d0d0d0","#b0b0b0","#505050","#303030","#202020","#151515","#ac4142","#d28445","#f4bf75","#90a959","#75b5aa","#6a9fb5","#aa759f","#8f5536"],codeschool:["#232c31","#1c3657","#2a343a","#3f4944","#84898c","#9ea7a6","#a7cfa3","#b5d8f6","#2a5491","#43820d","#a03b1e","#237986","#b02f30","#484d79","#c59820","#c98344"],cupcake:["#fbf1f2","#f2f1f4","#d8d5dd","#bfb9c6","#a59daf","#8b8198","#72677e","#585062","#d57e85","#ebb790","#dcb16c","#a3b367","#69a9a7","#7297b9","#bb99b4","#baa58c"],cupertino:["#ffffff","#c0c0c0","#c0c0c0","#808080","#808080","#404040","#404040","#5e5e5e","#c41a15","#eb8500","#826b28","#007400","#318495","#0000ff","#a90d91","#826b28"],darcula:["#2b2b2b","#323232","#323232","#606366","#a4a3a3","#a9b7c6","#ffc66d","#ffffff","#4eade5","#689757","#bbb529","#6a8759","#629755","#9876aa","#cc7832","#808080"],darktooth:["#1d2021","#32302f","#504945","#665c54","#928374","#a89984","#d5c4a1","#fdf4c1","#fb543f","#fe8625","#fac03b","#95c085","#8ba59b","#0d6678","#8f4673","#a87322"],"default-dark":["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],"default-light":["#ffffff","#e8e8e8","#d8d8d8","#b8b8b8","#585858","#383838","#282828","#181818","#ab4642","#dc9656","#ab4642","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],dracula:["#282936","#3a3c4e","#4d4f68","#626483","#62d6e8","#e9e9f4","#f1f2f8","#f7f7fb","#ea51b2","#b45bcf","#00f769","#ebff87","#a1efe4","#62d6e8","#b45bcf","#00f769"],eighties:["#2d2d2d","#393939","#515151","#747369","#a09f93","#d3d0c8","#e8e6df","#f2f0ec","#f2777a","#f99157","#ffcc66","#99cc99","#66cccc","#6699cc","#cc99cc","#d27b53"],embers:["#16130f","#2c2620","#433b32","#5a5047","#8a8075","#a39a90","#beb6ae","#dbd6d1","#826d57","#828257","#6d8257","#57826d","#576d82","#6d5782","#82576d","#825757"],flat:["#2c3e50","#34495e","#7f8c8d","#95a5a6","#bdc3c7","#e0e0e0","#f5f5f5","#ecf0f1","#e74c3c","#e67e22","#f1c40f","#2ecc71","#1abc9c","#3498db","#9b59b6","#be643c"],"fruit-soda":["#f1ecf1","#e0dee0","#d8d5d5","#b5b4b6","#979598","#515151","#474545","#2d2c2c","#fe3e31","#fe6d08","#f7e203","#47f74c","#0f9cfd","#2931df","#611fce","#b16f40"],github:["#ffffff","#f5f5f5","#c8c8fa","#969896","#e8e8e8","#333333","#ffffff","#969896","#ed6a43","#0086b3","#795da3","#183691","#183691","#795da3","#a71d5d","#333333"],"google-dark":["#1d1f21","#282a2e","#373b41","#969896","#b4b7b4","#c5c8c6","#e0e0e0","#ffffff","#cc342b","#f96a38","#fba922","#198844","#3971ed","#3971ed","#a36ac7","#3971ed"],"google-light":["#ffffff","#e0e0e0","#c5c8c6","#b4b7b4","#969896","#373b41","#282a2e","#1d1f21","#cc342b","#f96a38","#fba922","#198844","#3971ed","#3971ed","#a36ac7","#3971ed"],"grayscale-dark":["#101010","#252525","#464646","#525252","#ababab","#b9b9b9","#e3e3e3","#f7f7f7","#7c7c7c","#999999","#a0a0a0","#8e8e8e","#868686","#686868","#747474","#5e5e5e"],"grayscale-light":["#f7f7f7","#e3e3e3","#b9b9b9","#ababab","#525252","#464646","#252525","#101010","#7c7c7c","#999999","#a0a0a0","#8e8e8e","#868686","#686868","#747474","#5e5e5e"],greenscreen:["#001100","#003300","#005500","#007700","#009900","#00bb00","#00dd00","#00ff00","#007700","#009900","#007700","#00bb00","#005500","#009900","#00bb00","#005500"],"gruvbox-dark-hard":["#1d2021","#3c3836","#504945","#665c54","#bdae93","#d5c4a1","#ebdbb2","#fbf1c7","#fb4934","#fe8019","#fabd2f","#b8bb26","#8ec07c","#83a598","#d3869b","#d65d0e"],"gruvbox-light-hard":["#f9f5d7","#ebdbb2","#d5c4a1","#bdae93","#665c54","#504945","#3c3836","#282828","#9d0006","#af3a03","#b57614","#79740e","#427b58","#076678","#8f3f71","#d65d0e"],"harmonic-dark":["#0b1c2c","#223b54","#405c79","#627e99","#aabcce","#cbd6e2","#e5ebf1","#f7f9fb","#bf8b56","#bfbf56","#8bbf56","#56bf8b","#568bbf","#8b56bf","#bf568b","#bf5656"],"harmonic-light":["#f7f9fb","#e5ebf1","#cbd6e2","#aabcce","#627e99","#405c79","#223b54","#0b1c2c","#bf8b56","#bfbf56","#8bbf56","#56bf8b","#568bbf","#8b56bf","#bf568b","#bf5656"],"heetch-light":["#feffff","#392551","#7b6d8b","#9c92a8","#ddd6e5","#5a496e","#470546","#190134","#27d9d5","#bdb6c5","#5ba2b6","#f80059","#c33678","#47f9f5","#bd0152","#dedae2"],heetch:["#190134","#392551","#5a496e","#7b6d8b","#9c92a8","#bdb6c5","#dedae2","#feffff","#27d9d5","#5ba2b6","#8f6c97","#c33678","#f80059","#bd0152","#82034c","#470546"],helios:["#1d2021","#383c3e","#53585b","#6f7579","#cdcdcd","#d5d5d5","#dddddd","#e5e5e5","#d72638","#eb8413","#f19d1a","#88b92d","#1ba595","#1e8bac","#be4264","#c85e0d"],hopscotch:["#322931","#433b42","#5c545b","#797379","#989498","#b9b5b8","#d5d3d5","#ffffff","#dd464c","#fd8b19","#fdcc59","#8fc13e","#149b93","#1290bf","#c85e7c","#b33508"],"horizon-dark":["#1c1e26","#232530","#2e303e","#676a8d","#ced1d0","#cbced0","#dcdfe4","#e3e6ee","#e93c58","#e58d7d","#efb993","#efaf8e","#24a8b4","#df5273","#b072d1","#e4a382"],"ia-dark":["#1a1a1a","#222222","#1d414d","#767676","#b8b8b8","#cccccc","#e8e8e8","#f8f8f8","#d88568","#d86868","#b99353","#83a471","#7c9cae","#8eccdd","#b98eb2","#8b6c37"],"ia-light":["#f6f6f6","#dedede","#bde5f2","#898989","#767676","#181818","#e8e8e8","#898989","#9c5a02","#c43e18","#c48218","#38781c","#2d6bb1","#48bac2","#a94598","#8b6c37"],icy:["#021012","#031619","#041f23","#052e34","#064048","#095b67","#0c7c8c","#109cb0","#16c1d9","#b3ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7"],isotope:["#000000","#404040","#606060","#808080","#c0c0c0","#d0d0d0","#e0e0e0","#ffffff","#ff0000","#ff9900","#ff0099","#33ff00","#00ffff","#0066ff","#cc00ff","#3300ff"],macintosh:["#000000","#404040","#404040","#808080","#808080","#c0c0c0","#c0c0c0","#ffffff","#dd0907","#ff6403","#fbf305","#1fb714","#02abea","#0000d3","#4700a5","#90713a"],marrakesh:["#201602","#302e00","#5f5b17","#6c6823","#86813b","#948e48","#ccc37a","#faf0a5","#c35359","#b36144","#a88339","#18974e","#75a738","#477ca1","#8868b3","#b3588e"],materia:["#263238","#2c393f","#37474f","#707880","#c9ccd3","#cdd3de","#d5dbe5","#ffffff","#ec5f67","#ea9560","#ffcc00","#8bd649","#80cbc4","#89ddff","#82aaff","#ec5f67"],"material-lighter":["#fafafa","#e7eaec","#cceae7","#ccd7da","#8796b0","#80cbc4","#80cbc4","#666666","#ff5370","#f76d47","#ffb62c","#91b859","#39adb5","#6182b8","#7c4dff","#e53935"],material:["#263238","#2e3c43","#314549","#546e7a","#b2ccd6","#eeffff","#eeffff","#ffffff","#f07178","#f78c6c","#ffcb6b","#c3e88d","#89ddff","#82aaff","#c792ea","#ff5370"],"mellow-purple":["#1e0528","#1a092d","#331354","#320f55","#873582","#ffeeff","#ffeeff","#f8c0ff","#00d9e9","#aa00a3","#955ae7","#05cb0d","#b900b1","#550068","#8991bb","#4d6fff"],"mexico-light":["#f8f8f8","#e8e8e8","#d8d8d8","#b8b8b8","#585858","#383838","#282828","#181818","#ab4642","#dc9656","#f79a0e","#538947","#4b8093","#7cafc2","#96609e","#a16946"],mocha:["#3b3228","#534636","#645240","#7e705a","#b8afad","#d0c8c6","#e9e1dd","#f5eeeb","#cb6077","#d28b71","#f4bc87","#beb55b","#7bbda4","#8ab3b5","#a89bb9","#bb9584"],monokai:["#272822","#383830","#49483e","#75715e","#a59f85","#f8f8f2","#f5f4f1","#f9f8f5","#f92672","#fd971f","#f4bf75","#a6e22e","#a1efe4","#66d9ef","#ae81ff","#cc6633"],nord:["#2e3440","#3b4252","#434c5e","#4c566a","#d8dee9","#e5e9f0","#eceff4","#8fbcbb","#88c0d0","#81a1c1","#5e81ac","#bf616a","#d08770","#ebcb8b","#a3be8c","#b48ead"],ocean:["#2b303b","#343d46","#4f5b66","#65737e","#a7adba","#c0c5ce","#dfe1e8","#eff1f5","#bf616a","#d08770","#ebcb8b","#a3be8c","#96b5b4","#8fa1b3","#b48ead","#ab7967"],"one-light":["#fafafa","#f0f0f1","#e5e5e6","#a0a1a7","#696c77","#383a42","#202227","#090a0b","#ca1243","#d75f00","#c18401","#50a14f","#0184bc","#4078f2","#a626a4","#986801"],onedark:["#282c34","#353b45","#3e4451","#545862","#565c64","#abb2bf","#b6bdca","#c8ccd4","#e06c75","#d19a66","#e5c07b","#98c379","#56b6c2","#61afef","#c678dd","#be5046"],"papercolor-dark":["#1c1c1c","#af005f","#5faf00","#d7af5f","#5fafd7","#808080","#d7875f","#d0d0d0","#585858","#5faf5f","#afd700","#af87d7","#ffaf00","#ff5faf","#00afaf","#5f8787"],"papercolor-light":["#eeeeee","#af0000","#008700","#5f8700","#0087af","#878787","#005f87","#444444","#bcbcbc","#d70000","#d70087","#8700af","#d75f00","#d75f00","#005faf","#005f87"],paraiso:["#2f1e2e","#41323f","#4f424c","#776e71","#8d8687","#a39e9b","#b9b6b0","#e7e9db","#ef6155","#f99b15","#fec418","#48b685","#5bc4bf","#06b6ef","#815ba4","#e96ba8"],pico:["#000000","#1d2b53","#7e2553","#008751","#ab5236","#5f574f","#c2c3c7","#fff1e8","#ff004d","#ffa300","#fff024","#00e756","#29adff","#83769c","#ff77a8","#ffccaa"],pop:["#000000","#202020","#303030","#505050","#b0b0b0","#d0d0d0","#e0e0e0","#ffffff","#eb008a","#f29333","#f8ca12","#37b349","#00aabb","#0e5a94","#b31e8d","#7a2d00"],railscasts:["#2b2b2b","#272935","#3a4055","#5a647e","#d4cfc9","#e6e1dc","#f4f1ed","#f9f7f3","#da4939","#cc7833","#ffc66d","#a5c261","#519f50","#6d9cbe","#b6b3eb","#bc9458"],seti:["#151718","#282a2b","#3b758c","#41535b","#43a5d5","#d6d6d6","#eeeeee","#ffffff","#cd3f45","#db7b55","#e6cd69","#9fca56","#55dbbe","#55b5db","#a074c4","#8a553f"],"solarized-dark":["#002b36","#073642","#586e75","#657b83","#839496","#93a1a1","#eee8d5","#fdf6e3","#dc322f","#cb4b16","#b58900","#859900","#2aa198","#268bd2","#6c71c4","#d33682"],"solarized-light":["#fdf6e3","#eee8d5","#93a1a1","#839496","#657b83","#586e75","#073642","#002b36","#dc322f","#cb4b16","#b58900","#859900","#2aa198","#268bd2","#6c71c4","#d33682"],spacemacs:["#1f2022","#282828","#444155","#585858","#b8b8b8","#a3a3a3","#e8e8e8","#f8f8f8","#f2241f","#ffa500","#b1951d","#67b11d","#2d9574","#4f97d7","#a31db1","#b03060"],"summerfruit-dark":["#151515","#202020","#303030","#505050","#b0b0b0","#d0d0d0","#e0e0e0","#ffffff","#ff0086","#fd8900","#aba800","#00c918","#1faaaa","#3777e6","#ad00a1","#cc6633"],"summerfruit-light":["#ffffff","#e0e0e0","#d0d0d0","#b0b0b0","#000000","#101010","#151515","#202020","#ff0086","#fd8900","#aba800","#00c918","#1faaaa","#3777e6","#ad00a1","#cc6633"],"tomorrow-night":["#1d1f21","#282a2e","#373b41","#969896","#b4b7b4","#c5c8c6","#e0e0e0","#ffffff","#cc6666","#de935f","#f0c674","#b5bd68","#8abeb7","#81a2be","#b294bb","#a3685a"],tomorrow:["#ffffff","#e0e0e0","#d6d6d6","#8e908c","#969896","#4d4d4c","#282a2e","#1d1f21","#c82829","#f5871f","#eab700","#718c00","#3e999f","#4271ae","#8959a8","#a3685a"],tube:["#231f20","#1c3f95","#5a5758","#737171","#959ca1","#d9d8d8","#e7e7e8","#ffffff","#ee2e24","#f386a1","#ffd204","#00853e","#85cebc","#009ddc","#98005d","#b06110"],twilight:["#1e1e1e","#323537","#464b50","#5f5a60","#838184","#a7a7a7","#c3c3c3","#ffffff","#cf6a4c","#cda869","#f9ee98","#8f9d6a","#afc4db","#7587a6","#9b859d","#9b703f"],woodland:["#231e18","#302b25","#48413a","#9d8b70","#b4a490","#cabcb1","#d7c8bc","#e4d4c8","#d35c5c","#ca7f32","#e0ac16","#b7ba53","#6eb958","#88a4d3","#bb90e2","#b49368"],zenburn:["#383838","#404040","#606060","#6f6f6f","#808080","#dcdccc","#c0c0c0","#ffffff","#dca3a3","#dfaf8f","#e0cf9f","#5f7f5f","#93e0e3","#7cb8bb","#dc8cc3","#000000"]},zR=f=>{let t;if(typeof f=="string"){if(xw[f]===void 0)throw new Error(`${f} not found`);t=xw[f].reduce((i,a,r)=>{let o=`base0${r.toString(16).toUpperCase()}`;return i[o]=a,i},{})}else t=f;return`.container{${Object.keys(t).map(i=>`--${i}: ${t[i]};`).join("")}}`},PR=f=>{try{return!!new URL(f)}catch{return!1}},HR=f=>{if(Array.isArray(f))return"array";if(f===null)return"null";if(f instanceof RegExp)return"regexp";let t=typeof f;return t==="number"?isNaN(f)?"NaN":isFinite(f)?Number.isInteger(f)?"int":"float":"Infinity":t==="boolean"?"bool":t==="object"&&f instanceof Date?"date":t},xp=f=>{if(typeof f=="boolean")return f;if(f==="true")return!0;if(f==="false")return!1;throw new Error("should be a boolean!")},FR=f=>{if(typeof f=="string")return f;throw new Error("should be a string!")},IR=f=>{if(typeof f=="number"&&f>=0)return f;if(typeof f=="string"&&(f=parseFloat(f)),isNaN(f)||f<0)throw new Error("should be a positive number!");return f},qR=f=>{if(typeof f=="boolean"||typeof f=="number")return f;if(f==="true")return!0;if(f==="false")return!1;if(typeof f=="string"&&(f=parseFloat(f),!isNaN(f)&&f>=0))return f;throw new Error("should be a boolean or a positive number!")},Tw=f=>{if(typeof f=="object")return f;if(typeof f=="string")try{return JSON.parse(f)}catch{return f}throw new Error("should be a string or JSON!")},f_=function({key:f,value:t,expanded:i,indent:a,onToggleExpand:r,level:o=0,parentRow:c}){let h=document.createElement("div");this.maxLevel=o;let d=HR(t),g=d==="array"||d==="object",m=i===!0||i>o,y,v,S,w;h.className=`data-row ${m?"expanded":""}`,h.dataset.key=f,h.dataset.level=o,o>0&&(h.style.paddingLeft=`${a*5}px`);let x=document.createElement("span");x.className="key-value-wrapper",h.appendChild(x);let E=()=>{h.classList.toggle("expanded"),r&&(h.classList.contains("expanded")?r(o+1):r(o))};if(g){let R=document.createElement("span");R.className="icon-wrapper",x.appendChild(R),y=document.createElement("span"),y.className="expand icon clickable",y.setAttribute("title",m?"Collapse":"Expand"),R.appendChild(y),R.addEventListener("click",()=>E())}if(f!==null&&f!==""){let R=typeof f;S=document.createElement("span"),S.className=`key clickable ${R==="number"?"number":""}`,S.textContent=R==="number"?f:`"${f}"`,S.addEventListener("click",()=>E()),x.appendChild(S);let D=document.createElement("span");D.classList.add("colon"),D.textContent=":",x.appendChild(D)}if(g){let R=document.createElement("span");R.className="opening-parenthesis",R.textContent=d==="array"?"[":"{",x.appendChild(R);let D=document.createElement("span");D.className="ellipsis clickable",D.textContent="...",D.addEventListener("click",()=>E()),x.appendChild(D);let k=document.createElement("span");k.className="closing-parenthesis",k.textContent=d==="array"?"]":"}",x.appendChild(k);let M=document.createElement("span"),L=d==="array"?t.length:Object.keys(t).length;M.className="items-size",M.textContent=`${L} item${L===1?"":"s"}`,x.appendChild(M),v=[],(d==="array"?t.map((Y,$)=>$):Object.keys(t)).forEach(Y=>{let $=new f_({key:Y,value:t[Y],expanded:i,indent:a,onToggleExpand:r,level:o+1,parentRow:h});v.push($),h.appendChild($.element),this.maxLevel=Math.max(this.maxLevel,$.maxLevel)});let H=document.createElement("span");H.className="closing-parenthesis",H.textContent=d==="array"?"]":"}",h.appendChild(H)}else{let R=null;["nan","NaN","undefined","null"].includes(d)||(R=document.createElement("span"),R.className="type",R.textContent=d.toLowerCase());let D=document.createElement("span");D.className=`value ${d.toLowerCase()}`,w=document.createElement("span"),w.className="value-data",w.textContent=d==="string"?`"${t}"`:t,R&&D.appendChild(R),D.appendChild(w),x.appendChild(D)}let A=document.createElement("span");A.className="copy icon",A.setAttribute("title","Copy to clipboard");let _=document.createElement("span");_.className="icon-wrapper",_.addEventListener("click",()=>{navigator.clipboard.writeText(JSON.stringify(t,null,a))}),_.appendChild(A),x.appendChild(_);let T=R=>{let D=new RegExp(R,"gi"),k=[];S&&k.push(S),w&&k.push(w);let M=!1;k.forEach(L=>{let H=L.textContent;if(L.innerHTML=H,!R||R==="")return;let Y=[...H.matchAll(D)].map(st=>st.index),$=[],it=0;Y.forEach(st=>{M=!0,$.push(H.slice(it,st)),$.push(`<span class="match">${R}</span>`),it=st+R.length}),$.push(H.slice(it)),L.innerHTML=$.join("")}),M&&!h.classList.contains("expanded")&&(E(),c&&c.classList.add("expanded"))};this.update=({expanded:R,indent:D,searchTerm:k})=>{D!==void 0&&o>0&&(h.style.paddingLeft=`${D*5}px`),R!==void 0&&(m=R===!0||R>o,h.classList.toggle("expanded",m),y&&(y.title=m?"Collapse":"Expand")),k!=null&&T(k),v&&v.forEach(M=>M.update({expanded:R,indent:D,searchTerm:k}))},this.element=h},BR=f_,UR=function({expanded:f,indent:t,onChange:i,onSearch:a,showDetails:r}){this.indent=t||2,this.expanded=typeof f=="number"?f:2,this.showDetails=r!==!1,this.maxExpandLevel=0;let o,c=document.createElement("div");c.className="toolbar";let h=document.createElement("div");h.className="options",c.appendChild(h);let d=document.createElement("div");d.className="search-wrapper",c.appendChild(d);let g=document.createElement("div");g.className="icon-wrapper clickable",h.appendChild(g);let m=document.createElement("span");m.className="icon refresh",g.onclick=()=>this.refresh(),g.appendChild(m);let y=document.createElement("div");y.className="icon-wrapper clickable",h.appendChild(y);let v=document.createElement("span");v.className="icon plus",y.appendChild(v),y.onclick=()=>{this.expanded<this.maxExpandLevel&&(this.expanded+=1),i({expanded:this.expanded})};let S=document.createElement("div");S.className="icon-wrapper clickable",h.appendChild(S);let w=document.createElement("span");w.className="icon minus",S.appendChild(w),S.onclick=()=>{this.expanded>this.maxExpandLevel&&(this.expanded=this.maxExpandLevel),this.expanded>0&&(this.expanded-=1),i({expanded:this.expanded})};let x=document.createElement("div");x.className="icon-wrapper clickable",h.appendChild(x);let E=document.createElement("span");E.className="icon indent",x.onclick=()=>{this.indent+=1,i({indent:this.indent})},x.appendChild(E);let A=document.createElement("div");A.className="icon-wrapper clickable",h.appendChild(A);let _=document.createElement("span");_.className="icon outdent",A.onclick=()=>{this.indent-=1,i({indent:this.indent})},A.appendChild(_);let T=document.createElement("div");T.className="icon-wrapper clickable",h.appendChild(T);let R=document.createElement("span");R.className=`icon info ${this.showDetails?"active":""}`,T.onclick=()=>{R.classList.toggle("active"),this.showDetails=!this.showDetails,i({showDetails:this.showDetails})},T.appendChild(R);let D=document.createElement("span");D.className="icon search",d.appendChild(D),o=document.createElement("input"),o.className="search-input",o.placeholder="Search",o.oninput=k=>{a(k.target.value)},d.appendChild(o),this.refresh=()=>{this.expanded=1,this.indent=2,o&&(o.value=""),i({indent:2,expanded:1}),a("")},this.updateShowDetails=k=>{this.showDetails=k,this.showDetails?R.classList.add("active"):R.classList.remove("active")},this.element=c},jR=UR;function GR(f,t={}){let i=document.createElement("div");i.className="container",f.appendChild(i);let a=null,r=null,o={};this.update=({data:c,expanded:h,indent:d,expandIconType:g,showDataTypes:m,showToolbar:y,showSize:v,showCopy:S})=>{if(c){let x=JSON.stringify(c);o.dataComapreString!==x&&(o.dataComapreString=x,a=new BR({key:"",value:c,expanded:h,indent:d,onToggleExpand:E=>{r&&(r.expanded=E),o.expanded=E}}),i.replaceChildren(a.element),o.showToolbar&&r&&(i.prepend(r.element),r.maxExpandLevel=a.maxLevel,r.refresh()))}if(y!==void 0&&o.showToolbar!==y)if(o.showToolbar=y,y)r||(r=new jR({expanded:o.expanded,indent:o.indent,onChange:({expanded:x,indent:E,showDetails:A})=>{let _={expanded:x,indent:E};A!==void 0&&(_.showCopy=A,_.showSize=A,_.showDataTypes=A),this.update(_)},onSearch:x=>{a&&a.update({searchTerm:x})}})),a&&(r.maxExpandLevel=a.maxLevel),i.prepend(r.element);else{let x=i.querySelector(".toolbar");x&&x.remove()}let w={};h!==void 0&&o.expanded!==h&&(o.expanded=h,w.expanded=h),d!==void 0&&o.indent!==d&&(o.indent=d,w.indent=d),Object.keys(w).length>0&&a&&a.update(w),S!==void 0&&o.showCopy!==S&&(o.showCopy=S,i.classList.toggle("show-copy",S)),v!==void 0&&o.showSize!==v&&(o.showSize=v,i.classList.toggle("show-size",v),r&&r.updateShowDetails(o.showSize||o.showDataTypes)),m!==void 0&&o.showDataTypes!==m&&(o.showDataTypes=m,i.classList.toggle("show-data-types",m),r&&r.updateShowDetails(o.showSize||o.showDataTypes)),g!==void 0&&o.expandIconType!==g&&(i.classList.add(`expand-icon-${g}`),i.classList.remove(`expand-icon-${o.expandIconType}`),o.expandIconType=g)},this.update(t)}var XR=GR,Cw={indent:2,expanded:1,theme:"default-light",showDataTypes:!0,showToolbar:!1,expandIconType:"arrow",showCopy:!0,showSize:!0,data:null},Zl,je,_h,Lp,Jl,Wa,Eh,By=class extends HTMLElement{constructor(){super(),so(this,Zl,void 0),so(this,je,void 0),so(this,_h,void 0),so(this,Lp,void 0),so(this,Jl,(...i)=>{console.warn(`JsonViewer${this.id?` (${this.id})`:""}:`,...i)}),so(this,Wa,(i,a,r,o)=>{try{if(a=r(a),o&&!o.includes(a))throw new Error(`should be one of ${o.join(", ")}`);if($t(this,je)[i]===a)return;$t(this,je)[i]=a,$t(this,Eh).call(this)}catch(c){$t(this,Jl).call(this,`Attribute ${i}: ${c.message}`)}}),so(this,Eh,()=>{$t(this,Lp).update({data:$t(this,_h),expanded:$t(this,je).expanded,expandIconType:$t(this,je).expandIconType,indent:$t(this,je).indent,showDataTypes:$t(this,je).showDataTypes,showToolbar:$t(this,je).showToolbar,showSize:$t(this,je).showSize,showCopy:$t(this,je).showCopy})}),yh(this,je,{...Cw}),yh(this,Zl,document.createElement("style"));let f=this.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=`${NR}`,f.appendChild(t),f.appendChild($t(this,Zl)),this.theme=$t(this,je).theme,yh(this,Lp,new XR(f,$t(this,je)))}static get observedAttributes(){return Object.keys(Cw).map(f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())}set showDataTypes(f){$t(this,Wa).call(this,"showDataTypes",f,xp)}set showToolbar(f){$t(this,Wa).call(this,"showToolbar",f,xp)}set indent(f){$t(this,Wa).call(this,"indent",f,IR)}set expandIconType(f){$t(this,Wa).call(this,"expandIconType",f,FR,["arrow","square","circle"])}set expanded(f){$t(this,Wa).call(this,"expanded",f,qR)}set showSize(f){$t(this,Wa).call(this,"showSize",f,xp)}set showCopy(f){$t(this,Wa).call(this,"showCopy",f,xp)}set theme(f){try{if(f=Tw(f),$t(this,je).theme===f&&$t(this,Zl).textContent!=="")return;$t(this,Zl).textContent=zR(f),$t(this,je).theme=f}catch(t){$t(this,Jl).call(this,`Attribute theme: ${t.message}`)}}set data(f){try{f=Tw(f);let t=JSON.stringify(f);if($t(this,je).data===t)return;$t(this,je).data=t,PR(f)?fetch(f).then(i=>i.json()).then(i=>{yh(this,_h,i),$t(this,Eh).call(this)}):(yh(this,_h,f),$t(this,Eh).call(this))}catch(t){$t(this,Jl).call(this,`Attribute data: ${t.message}`)}}get options(){return $t(this,je)}connectedCallback(){window.addEventListener("DOMContentLoaded",()=>{let f=this.textContent;this.textContent="",f&&(this.data=f)})}attributeChangedCallback(f,t,i){if(By.allowedAttributes.indexOf(f)>-1){let a=f.replace(/-([a-z])/g,r=>r[1].toUpperCase());this[a]=i}else $t(this,Jl).call(this,`Attribute ${f} is not supported and will be ignored!`),this.removeAttribute(f)}},p_=By;Zl=new WeakMap,je=new WeakMap,_h=new WeakMap,Lp=new WeakMap,Jl=new WeakMap,Wa=new WeakMap,Eh=new WeakMap,kR(p_,"allowedAttributes",["id"].concat(By.observedAttributes));customElements.get("andypf-json-viewer")||customElements.define("andypf-json-viewer",p_);var YR=({data:f,...t})=>{let i=t0.useRef(null);return t0.useEffect(()=>{i.current&&(i.current.data=f)},[f]),t0.createElement("andypf-json-viewer",{ref:i,...t})},Rw=YR,kp={exports:{}},VR=kp.exports,Dw;function WR(){return Dw||(Dw=1,function(f,t){(function(i,a){f.exports=a(ki())})(VR,function(i){return function(a){function r(c){if(o[c])return o[c].exports;var h=o[c]={exports:{},id:c,loaded:!1};return a[c].call(h.exports,h,h.exports,r),h.loaded=!0,h.exports}var o={};return r.m=a,r.c=o,r.p="",r(0)}([function(a,r,o){a.exports=o(12)},function(a,r,o){a.exports=o(17)()},function(a,r){function o(c){var h={};for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=typeof c[d]=="number"?c[d]:c[d].val);return h}r.__esModule=!0,r.default=o,a.exports=r.default},function(a,r){a.exports=i},function(a,r,o){(function(c){(function(){var h,d,g;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof c<"u"&&c!==null&&c.hrtime?(a.exports=function(){return(h()-g)/1e6},d=c.hrtime,h=function(){var m;return m=d(),1e9*m[0]+m[1]},g=h()):Date.now?(a.exports=function(){return Date.now()-g},g=Date.now()):(a.exports=function(){return new Date().getTime()-g},g=new Date().getTime())}).call(this)}).call(r,o(9))},function(a,r,o){(function(c){for(var h=o(19),d=typeof window>"u"?c:window,g=["moz","webkit"],m="AnimationFrame",y=d["request"+m],v=d["cancel"+m]||d["cancelRequest"+m],S=0;!y&&S<g.length;S++)y=d[g[S]+"Request"+m],v=d[g[S]+"Cancel"+m]||d[g[S]+"CancelRequest"+m];if(!y||!v){var w=0,x=0,E=[],A=1e3/60;y=function(_){if(E.length===0){var T=h(),R=Math.max(0,A-(T-w));w=R+T,setTimeout(function(){var D=E.slice(0);E.length=0;for(var k=0;k<D.length;k++)if(!D[k].cancelled)try{D[k].callback(w)}catch(M){setTimeout(function(){throw M},0)}},Math.round(R))}return E.push({handle:++x,callback:_,cancelled:!1}),x},v=function(_){for(var T=0;T<E.length;T++)E[T].handle===_&&(E[T].cancelled=!0)}}a.exports=function(_){return y.call(d,_)},a.exports.cancel=function(){v.apply(d,arguments)},a.exports.polyfill=function(_){_||(_=d),_.requestAnimationFrame=y,_.cancelAnimationFrame=v}}).call(r,function(){return this}())},function(a,r){function o(c){var h={};for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=0);return h}r.__esModule=!0,r.default=o,a.exports=r.default},function(a,r){function o(c,h,d){for(var g in h)if(Object.prototype.hasOwnProperty.call(h,g)){if(d[g]!==0)return!1;var m=typeof h[g]=="number"?h[g]:h[g].val;if(c[g]!==m)return!1}return!0}r.__esModule=!0,r.default=o,a.exports=r.default},function(a,r){function o(h,d,g,m,y,v,S){var w=-y*(d-m),x=-v*g,E=w+x,A=g+E*h,_=d+A*h;return Math.abs(A)<S&&Math.abs(_-m)<S?(c[0]=m,c[1]=0,c):(c[0]=_,c[1]=A,c)}r.__esModule=!0,r.default=o;var c=[0,0];a.exports=r.default},function(a,r){function o(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function h(R){if(S===setTimeout)return setTimeout(R,0);if((S===o||!S)&&setTimeout)return S=setTimeout,setTimeout(R,0);try{return S(R,0)}catch{try{return S.call(null,R,0)}catch{return S.call(this,R,0)}}}function d(R){if(w===clearTimeout)return clearTimeout(R);if((w===c||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(R);try{return w(R)}catch{try{return w.call(null,R)}catch{return w.call(this,R)}}}function g(){_&&E&&(_=!1,E.length?A=E.concat(A):T=-1,A.length&&m())}function m(){if(!_){var R=h(g);_=!0;for(var D=A.length;D;){for(E=A,A=[];++T<D;)E&&E[T].run();T=-1,D=A.length}E=null,_=!1,d(R)}}function y(R,D){this.fun=R,this.array=D}function v(){}var S,w,x=a.exports={};(function(){try{S=typeof setTimeout=="function"?setTimeout:o}catch{S=o}try{w=typeof clearTimeout=="function"?clearTimeout:c}catch{w=c}})();var E,A=[],_=!1,T=-1;x.nextTick=function(R){var D=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)D[k-1]=arguments[k];A.push(new y(R,D)),A.length!==1||_||h(m)},y.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={},x.on=v,x.addListener=v,x.once=v,x.off=v,x.removeListener=v,x.removeAllListeners=v,x.emit=v,x.prependListener=v,x.prependOnceListener=v,x.listeners=function(R){return[]},x.binding=function(R){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(R){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},function(a,r){r.__esModule=!0,r.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},a.exports=r.default},function(a,r){function o(y){var v=y;if(m[v])return m[v];v=v.replace("#",""),v.length===3&&(v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2]);var S=v.match(/.{2}/g),w={r:parseInt(S[0],16),g:parseInt(S[1],16),b:parseInt(S[2],16)};return m[v]=w,w}function c(y){var v=y.indexOf("rgb")!=-1,S=y.indexOf("rgba")!=-1,w=y.match(/\d+/g);if(v&&!S)return{r:parseInt(w[0]),g:parseInt(w[1]),b:parseInt(w[2])};if(v&&S){var x=w[3]=="0"?"0."+w[4]:w[3];return{r:parseInt(w[0]),g:parseInt(w[1]),b:parseInt(w[2]),a:parseFloat(x)}}return null}function h(y,v,S){var w=y.toString(16),x=v.toString(16),E=S.toString(16);return w=w.length<2?"0"+w:w,x=x.length<2?"0"+x:x,E=E.length<2?"0"+E:E,"#"+w+x+E}function d(y,v,S,w,x){var E=S-v,A=x-w,_=(y-v)/E;return w+_*A}function g(y,v,S,w,x,E){var A=w===void 0?0:w,_=x===void 0?1:x,T=c(v),R=c(S),D=Math.floor(d(y,A,_,T.r,R.r)),k=Math.floor(d(y,A,_,T.g,R.g)),M=Math.floor(d(y,A,_,T.b,R.b)),L=null;return T.a&&R.a&&(L=d(y,A,_,T.a,R.a)),L?"rgb("+D+","+k+","+M+","+L+")":"rgb("+D+","+k+","+M+")"}Object.defineProperty(r,"__esModule",{value:!0}),r.hexToRGB=o,r.rgbToObj=c,r.rgbToHex=h,r.mapValueInRange=d,r.interpolateColor=g;var m={}},function(a,r,o){function c(g){return g&&g.__esModule?g:{default:g}}var h=o(13),d=c(h);a.exports=d.default},function(a,r,o){function c(k){return k&&k.__esModule?k:{default:k}}function h(k,M){if(!(k instanceof M))throw new TypeError("Cannot call a class as a function")}function d(k,M){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||typeof M!="object"&&typeof M!="function"?k:M}function g(k,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);k.prototype=Object.create(M&&M.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(k,M):k.__proto__=M)}Object.defineProperty(r,"__esModule",{value:!0});var m=Object.assign||function(k){for(var M=1;M<arguments.length;M++){var L=arguments[M];for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&(k[H]=L[H])}return k},y=function(){function k(M,L){for(var H=0;H<L.length;H++){var Y=L[H];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(M,Y.key,Y)}}return function(M,L,H){return L&&k(M.prototype,L),H&&k(M,H),M}}(),v=o(3),S=c(v),w=o(24),x=o(1),E=c(x),A=o(14),_=o(11),T={active:{base:"rgb(1,124,66)",hover:"rgb(1,124,66)"},inactive:{base:"rgb(65,66,68)",hover:"rgb(65,66,68)"},activeThumb:{base:"rgb(250,250,250)",hover:"rgb(250,250,250)"},inactiveThumb:{base:"rgb(250,250,250)",hover:"rgb(250,250,250)"}},R={},D=function(k){function M(L){h(this,M);var H=d(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,L));return H.state={isHover:!1},H}return g(M,k),y(M,[{key:"onMouseOver",value:function(){this.setState({isHover:!0})}},{key:"onMouseOut",value:function(){this.setState({isHover:!1})}},{key:"_convertToRgb",value:function(L,H){if(L.indexOf("#")!=-1){var Y=(0,_.hexToRGB)(L);return"rgb("+Y.r+", "+Y.g+", "+Y.b+")"}return L.indexOf("rgb")==-1?H:L}},{key:"checkAllColors",value:function(L){var H=this;return Object.keys(L).forEach(function(Y){H.checkColors(L,Y)}),L}},{key:"checkColors",value:function(L,H){L[H]?L[H].hover?(L[H].base=this._convertToRgb(L[H].base,T[H].base),L[H].hover=this._convertToRgb(L[H].hover,T[H].hover)):L[H].base?(L[H].base=this._convertToRgb(L[H].base,T[H].base),L[H].hover=L[H].base):(console.warn('Color prop should have a "base" style and a "hover" style!'),L[H]=T[H]):L[H]=T[H]}},{key:"interpolateColorWithHover",value:function(L,H,Y){var $=this.props.colors;return this.checkColors($,H),this.checkColors($,Y),this.state.isHover?{backgroundColor:(0,_.interpolateColor)(L,$[H].hover,$[Y].hover,0,400)}:{backgroundColor:(0,_.interpolateColor)(L,$[H].base,$[Y].base,0,400)}}},{key:"makeStyle",value:function(L,H){return this.state.isHover?m({},L,H):L}},{key:"handleClick",value:function(L){L.target!==this._input&&(L.preventDefault(),this._input.focus(),this._input.click())}},{key:"render",value:function(){var L=this,H=this.props,Y=H.internalSpringSetting,$=H.internalHoverSpringSetting,it=H.value,st=H.thumbAnimateRange,tt=(H.isHover,H.containerStyle),Z=H.trackStyle,B=H.animateTrackStyleToggle,G=H.animateTrackStyleHover,K=H.thumbStyleHover,ot=H.trackStyleHover,F=H.activeLabelStyle,I=H.activeLabelStyleHover,at=H.activeLabel,ht=H.inactiveLabelStyle,lt=H.inactiveLabelStyleHover,yt=H.inactiveLabel,vt=H.thumbStyle,At=H.animateThumbStyleHover,nt=H.animateThumbStyleToggle,dt=H.thumbIcon,bt=H.onClick,U=H.onToggle,j=H.passThroughInputProps,W=Y,rt=$;return S.default.createElement(w.Motion,{style:{opacity:(0,w.spring)(it?1:0,W),left:(0,w.spring)(it?10*st[1]:10*st[0],W),colorNumber:(0,w.spring)(it?0:400,W),toggleNumber:(0,w.spring)(it?400:0,W),hoverNumber:(0,w.spring)(this.state.isHover?400:0,rt)}},function(mt){var pt=mt.opacity,_t=mt.left,Et=mt.colorNumber,Tt=mt.hoverNumber,zt=mt.toggleNumber;return S.default.createElement("div",{style:m({},L.makeStyle(m({},A.reactToggle,tt))),onMouseOver:L.onMouseOver.bind(L),onMouseOut:L.onMouseOut.bind(L),onClick:L.handleClick.bind(L)},S.default.createElement("div",{style:m({},L.makeStyle(m({},A.reactToggleTrack,Z,L.interpolateColorWithHover(Et,"active","inactive"),B(zt/400)),m({},ot,G(Tt/400))))},S.default.createElement("div",{style:m({},L.makeStyle(m({},A.reactToggleOn,F),I),{opacity:pt})},at),S.default.createElement("div",{style:m({},L.makeStyle(m({},A.reactToggleOff,ht),lt),{opacity:1-pt})},yt)),S.default.createElement("div",{style:A.reactThumbCenteringContainer},S.default.createElement("div",{style:m({},L.makeStyle(m({},A.reactToggleThumb,vt,L.interpolateColorWithHover(Et,"activeThumb","inactiveThumb"),nt(zt/400)),m({},K,At(Tt/400))),{position:"relative",left:Math.round(_t/10)})},dt)),S.default.createElement("input",m({ref:function(ie){L._input=ie},type:"checkbox",style:A.reactToggleScreenReaderOnly,onClick:function(ie){bt&&bt(ie),U(it)},value:it},j)))})}}]),M}(v.Component);D.defaultProps={value:!1,onToggle:function(){},colors:T,passThroughInputProps:{},activeLabel:"ON",containerStyle:R,activeLabelStyle:R,activeLabelStyleHover:R,inactiveLabel:"OFF",inactiveLabelStyle:R,inactiveLabelStyleHover:R,thumbStyle:R,thumbStyleHover:R,animateThumbStyleHover:function(){return{}},animateThumbStyleToggle:function(){return{}},trackStyle:R,trackStyleHover:R,animateTrackStyleHover:function(){return{}},animateTrackStyleToggle:function(){return{}},thumbAnimateRange:[1,33],internalSpringSetting:{stiffness:180,damping:22},internalHoverSpringSetting:{stiffness:180,damping:20}},D.displayName="Toggle",r.default=D,D.propTypes={value:E.default.bool.isRequired,onToggle:E.default.func.isRequired,passThroughInputProps:E.default.object,onClick:E.default.func,colors:E.default.object,activeLabel:E.default.oneOfType([E.default.string,E.default.object]),containerStyle:E.default.object,activeLabelStyle:E.default.object,activeLabelStyleHover:E.default.object,activeThumbStyle:E.default.object,activeThumbStyleHover:E.default.object,inactiveLabel:E.default.oneOfType([E.default.string,E.default.object]),inactiveLabelStyle:E.default.object,inactiveLabelStyleHover:E.default.object,thumbStyle:E.default.object,thumbStyleHover:E.default.object,trackStyle:E.default.object,trackStyleHover:E.default.object,animateThumbStyleHover:E.default.func,animateTrackStyleHover:E.default.func,animateTrackStyleToggle:E.default.func,animateThumbStyleToggle:E.default.func,internalSpringSetting:E.default.object,internalHoverSpringSetting:E.default.object,thumbIcon:E.default.oneOfType([E.default.string,E.default.object]),thumbAnimateRange:E.default.array}},function(a,r){function o(d,g,m){return g in d?Object.defineProperty(d,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[g]=m,d}Object.defineProperty(r,"__esModule",{value:!0});var c=Object.assign||function(d){for(var g=1;g<arguments.length;g++){var m=arguments[g];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y])}return d},h=(r.reactToggle=o({display:"flex",width:52,alignItems:"center",justifyContent:"flex-start",position:"relative",cursor:"pointer",backgroundColor:"transparent",border:0,padding:0,WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)"},"WebkitTapHighlightColor","transparent"),{fontSize:11,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Helvetica Neue', Helvetica, sans-serif"});r.reactToggleScreenReaderOnly={border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1},r.reactToggleTrack={width:"52px",height:"20px",padding:0,borderRadius:"26px",display:"flex",alignItems:"center",justifyContent:"center"},r.reactToggleOn=c({},h,{position:"relative",color:"#FAFAFA",marginTop:"auto",marginBottom:"auto",lineHeight:0,opacity:0,width:26,height:20,left:4}),r.reactToggleOff=c({},h,{position:"relative",color:"rgba(255,255,255,0.6)",bottom:"0px",marginTop:"auto",marginBottom:"auto",paddingRight:5,lineHeight:0,width:26,height:20}),r.reactToggleThumb={width:"18px",height:"18px",display:"flex",alignSelf:"center",boxShadow:"0 0 0 1px rgba(0,0,0,0.3)",borderRadius:"50%",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box"},r.reactThumbCenteringContainer={position:"absolute",height:"100%",top:0,left:0,display:"flex",flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"flex-start"}},function(a,r){function o(h){return function(){return h}}var c=function(){};c.thatReturns=o,c.thatReturnsFalse=o(!1),c.thatReturnsTrue=o(!0),c.thatReturnsNull=o(null),c.thatReturnsThis=function(){return this},c.thatReturnsArgument=function(h){return h},a.exports=c},function(a,r,o){function c(h,d,g,m,y,v,S,w){if(!h){var x;if(d===void 0)x=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var E=[g,m,y,v,S,w],A=0;x=new Error(d.replace(/%s/g,function(){return E[A++]})),x.name="Invariant Violation"}throw x.framesToPop=1,x}}a.exports=c},function(a,r,o){var c=o(15),h=o(16),d=o(18);a.exports=function(){function g(v,S,w,x,E,A){A!==d&&h(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function m(){return g}g.isRequired=g;var y={array:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:m,element:g,instanceOf:m,node:g,objectOf:m,oneOf:m,oneOfType:m,shape:m,exact:m};return y.checkPropTypes=c,y.PropTypes=y,y}},function(a,r){var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=o},function(a,r,o){(function(c){(function(){var h,d,g,m,y,v;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof c<"u"&&c!==null&&c.hrtime?(a.exports=function(){return(h()-y)/1e6},d=c.hrtime,h=function(){var S;return S=d(),1e9*S[0]+S[1]},m=h(),v=1e9*c.uptime(),y=m-v):Date.now?(a.exports=function(){return Date.now()-g},g=Date.now()):(a.exports=function(){return new Date().getTime()-g},g=new Date().getTime())}).call(this)}).call(r,o(9))},function(a,r,o){function c(st){return st&&st.__esModule?st:{default:st}}function h(st,tt){if(!(st instanceof tt))throw new TypeError("Cannot call a class as a function")}function d(st,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof tt);st.prototype=Object.create(tt&&tt.prototype,{constructor:{value:st,enumerable:!1,writable:!0,configurable:!0}}),tt&&(Object.setPrototypeOf?Object.setPrototypeOf(st,tt):st.__proto__=tt)}r.__esModule=!0;var g=Object.assign||function(st){for(var tt=1;tt<arguments.length;tt++){var Z=arguments[tt];for(var B in Z)Object.prototype.hasOwnProperty.call(Z,B)&&(st[B]=Z[B])}return st},m=function(){function st(tt,Z){for(var B=0;B<Z.length;B++){var G=Z[B];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(tt,G.key,G)}}return function(tt,Z,B){return Z&&st(tt.prototype,Z),B&&st(tt,B),tt}}(),y=o(6),v=c(y),S=o(2),w=c(S),x=o(8),E=c(x),A=o(4),_=c(A),T=o(5),R=c(T),D=o(7),k=c(D),M=o(3),L=c(M),H=o(1),Y=c(H),$=1e3/60,it=function(st){function tt(Z){var B=this;h(this,tt),st.call(this,Z),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(G){var K=!1,ot=B.state,F=ot.currentStyle,I=ot.currentVelocity,at=ot.lastIdealStyle,ht=ot.lastIdealVelocity;for(var lt in G)if(Object.prototype.hasOwnProperty.call(G,lt)){var yt=G[lt];typeof yt=="number"&&(K||(K=!0,F=g({},F),I=g({},I),at=g({},at),ht=g({},ht)),F[lt]=yt,I[lt]=0,at[lt]=yt,ht[lt]=0)}K&&B.setState({currentStyle:F,currentVelocity:I,lastIdealStyle:at,lastIdealVelocity:ht})},this.startAnimationIfNecessary=function(){B.animationID=R.default(function(G){var K=B.props.style;if(k.default(B.state.currentStyle,K,B.state.currentVelocity))return B.wasAnimating&&B.props.onRest&&B.props.onRest(),B.animationID=null,B.wasAnimating=!1,void(B.accumulatedTime=0);B.wasAnimating=!0;var ot=G||_.default(),F=ot-B.prevTime;if(B.prevTime=ot,B.accumulatedTime=B.accumulatedTime+F,B.accumulatedTime>10*$&&(B.accumulatedTime=0),B.accumulatedTime===0)return B.animationID=null,void B.startAnimationIfNecessary();var I=(B.accumulatedTime-Math.floor(B.accumulatedTime/$)*$)/$,at=Math.floor(B.accumulatedTime/$),ht={},lt={},yt={},vt={};for(var At in K)if(Object.prototype.hasOwnProperty.call(K,At)){var nt=K[At];if(typeof nt=="number")yt[At]=nt,vt[At]=0,ht[At]=nt,lt[At]=0;else{for(var dt=B.state.lastIdealStyle[At],bt=B.state.lastIdealVelocity[At],U=0;U<at;U++){var j=E.default($/1e3,dt,bt,nt.val,nt.stiffness,nt.damping,nt.precision);dt=j[0],bt=j[1]}var W=E.default($/1e3,dt,bt,nt.val,nt.stiffness,nt.damping,nt.precision),rt=W[0],mt=W[1];yt[At]=dt+(rt-dt)*I,vt[At]=bt+(mt-bt)*I,ht[At]=dt,lt[At]=bt}}B.animationID=null,B.accumulatedTime-=at*$,B.setState({currentStyle:yt,currentVelocity:vt,lastIdealStyle:ht,lastIdealVelocity:lt}),B.unreadPropStyle=null,B.startAnimationIfNecessary()})},this.state=this.defaultState()}return d(tt,st),m(tt,null,[{key:"propTypes",value:{defaultStyle:Y.default.objectOf(Y.default.number),style:Y.default.objectOf(Y.default.oneOfType([Y.default.number,Y.default.object])).isRequired,children:Y.default.func.isRequired,onRest:Y.default.func},enumerable:!0}]),tt.prototype.defaultState=function(){var Z=this.props,B=Z.defaultStyle,G=Z.style,K=B||w.default(G),ot=v.default(K);return{currentStyle:K,currentVelocity:ot,lastIdealStyle:K,lastIdealVelocity:ot}},tt.prototype.componentDidMount=function(){this.prevTime=_.default(),this.startAnimationIfNecessary()},tt.prototype.componentWillReceiveProps=function(Z){this.unreadPropStyle!=null&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=Z.style,this.animationID==null&&(this.prevTime=_.default(),this.startAnimationIfNecessary())},tt.prototype.componentWillUnmount=function(){this.animationID!=null&&(R.default.cancel(this.animationID),this.animationID=null)},tt.prototype.render=function(){var Z=this.props.children(this.state.currentStyle);return Z&&L.default.Children.only(Z)},tt}(L.default.Component);r.default=it,a.exports=r.default},function(a,r,o){function c(tt){return tt&&tt.__esModule?tt:{default:tt}}function h(tt,Z){if(!(tt instanceof Z))throw new TypeError("Cannot call a class as a function")}function d(tt,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);tt.prototype=Object.create(Z&&Z.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,Z):tt.__proto__=Z)}function g(tt,Z,B){for(var G=0;G<tt.length;G++)if(!M.default(tt[G],Z[G],B[G]))return!1;return!0}r.__esModule=!0;var m=Object.assign||function(tt){for(var Z=1;Z<arguments.length;Z++){var B=arguments[Z];for(var G in B)Object.prototype.hasOwnProperty.call(B,G)&&(tt[G]=B[G])}return tt},y=function(){function tt(Z,B){for(var G=0;G<B.length;G++){var K=B[G];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(Z,K.key,K)}}return function(Z,B,G){return B&&tt(Z.prototype,B),G&&tt(Z,G),Z}}(),v=o(6),S=c(v),w=o(2),x=c(w),E=o(8),A=c(E),_=o(4),T=c(_),R=o(5),D=c(R),k=o(7),M=c(k),L=o(3),H=c(L),Y=o(1),$=c(Y),it=1e3/60,st=function(tt){function Z(B){var G=this;h(this,Z),tt.call(this,B),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(K){for(var ot=G.state,F=ot.currentStyles,I=ot.currentVelocities,at=ot.lastIdealStyles,ht=ot.lastIdealVelocities,lt=!1,yt=0;yt<K.length;yt++){var vt=K[yt],At=!1;for(var nt in vt)if(Object.prototype.hasOwnProperty.call(vt,nt)){var dt=vt[nt];typeof dt=="number"&&(At||(At=!0,lt=!0,F[yt]=m({},F[yt]),I[yt]=m({},I[yt]),at[yt]=m({},at[yt]),ht[yt]=m({},ht[yt])),F[yt][nt]=dt,I[yt][nt]=0,at[yt][nt]=dt,ht[yt][nt]=0)}}lt&&G.setState({currentStyles:F,currentVelocities:I,lastIdealStyles:at,lastIdealVelocities:ht})},this.startAnimationIfNecessary=function(){G.animationID=D.default(function(K){var ot=G.props.styles(G.state.lastIdealStyles);if(g(G.state.currentStyles,ot,G.state.currentVelocities))return G.animationID=null,void(G.accumulatedTime=0);var F=K||T.default(),I=F-G.prevTime;if(G.prevTime=F,G.accumulatedTime=G.accumulatedTime+I,G.accumulatedTime>10*it&&(G.accumulatedTime=0),G.accumulatedTime===0)return G.animationID=null,void G.startAnimationIfNecessary();for(var at=(G.accumulatedTime-Math.floor(G.accumulatedTime/it)*it)/it,ht=Math.floor(G.accumulatedTime/it),lt=[],yt=[],vt=[],At=[],nt=0;nt<ot.length;nt++){var dt=ot[nt],bt={},U={},j={},W={};for(var rt in dt)if(Object.prototype.hasOwnProperty.call(dt,rt)){var mt=dt[rt];if(typeof mt=="number")bt[rt]=mt,U[rt]=0,j[rt]=mt,W[rt]=0;else{for(var pt=G.state.lastIdealStyles[nt][rt],_t=G.state.lastIdealVelocities[nt][rt],Et=0;Et<ht;Et++){var Tt=A.default(it/1e3,pt,_t,mt.val,mt.stiffness,mt.damping,mt.precision);pt=Tt[0],_t=Tt[1]}var zt=A.default(it/1e3,pt,_t,mt.val,mt.stiffness,mt.damping,mt.precision),ie=zt[0],le=zt[1];bt[rt]=pt+(ie-pt)*at,U[rt]=_t+(le-_t)*at,j[rt]=pt,W[rt]=_t}}vt[nt]=bt,At[nt]=U,lt[nt]=j,yt[nt]=W}G.animationID=null,G.accumulatedTime-=ht*it,G.setState({currentStyles:vt,currentVelocities:At,lastIdealStyles:lt,lastIdealVelocities:yt}),G.unreadPropStyles=null,G.startAnimationIfNecessary()})},this.state=this.defaultState()}return d(Z,tt),y(Z,null,[{key:"propTypes",value:{defaultStyles:$.default.arrayOf($.default.objectOf($.default.number)),styles:$.default.func.isRequired,children:$.default.func.isRequired},enumerable:!0}]),Z.prototype.defaultState=function(){var B=this.props,G=B.defaultStyles,K=B.styles,ot=G||K().map(x.default),F=ot.map(function(I){return S.default(I)});return{currentStyles:ot,currentVelocities:F,lastIdealStyles:ot,lastIdealVelocities:F}},Z.prototype.componentDidMount=function(){this.prevTime=T.default(),this.startAnimationIfNecessary()},Z.prototype.componentWillReceiveProps=function(B){this.unreadPropStyles!=null&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=B.styles(this.state.lastIdealStyles),this.animationID==null&&(this.prevTime=T.default(),this.startAnimationIfNecessary())},Z.prototype.componentWillUnmount=function(){this.animationID!=null&&(D.default.cancel(this.animationID),this.animationID=null)},Z.prototype.render=function(){var B=this.props.children(this.state.currentStyles);return B&&H.default.Children.only(B)},Z}(H.default.Component);r.default=st,a.exports=r.default},function(a,r,o){function c(K){return K&&K.__esModule?K:{default:K}}function h(K,ot){if(!(K instanceof ot))throw new TypeError("Cannot call a class as a function")}function d(K,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ot);K.prototype=Object.create(ot&&ot.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),ot&&(Object.setPrototypeOf?Object.setPrototypeOf(K,ot):K.__proto__=ot)}function g(K,ot,F){var I=ot;return I==null?K.map(function(at,ht){return{key:at.key,data:at.data,style:F[ht]}}):K.map(function(at,ht){for(var lt=0;lt<I.length;lt++)if(I[lt].key===at.key)return{key:I[lt].key,data:I[lt].data,style:F[ht]};return{key:at.key,data:at.data,style:F[ht]}})}function m(K,ot,F,I){if(I.length!==ot.length)return!1;for(var at=0;at<I.length;at++)if(I[at].key!==ot[at].key)return!1;for(var at=0;at<I.length;at++)if(!$.default(K[at],ot[at].style,F[at]))return!1;return!0}function y(K,ot,F,I,at,ht,lt,yt,vt){for(var At=D.default(I,at,function(Et,Tt){var zt=ot(Tt);return zt==null?(F({key:Tt.key,data:Tt.data}),null):$.default(ht[Et],zt,lt[Et])?(F({key:Tt.key,data:Tt.data}),null):{key:Tt.key,data:Tt.data,style:zt}}),nt=[],dt=[],bt=[],U=[],j=0;j<At.length;j++){for(var W=At[j],rt=null,mt=0;mt<I.length;mt++)if(I[mt].key===W.key){rt=mt;break}if(rt==null){var pt=K(W);nt[j]=pt,bt[j]=pt;var _t=x.default(W.style);dt[j]=_t,U[j]=_t}else nt[j]=ht[rt],bt[j]=yt[rt],dt[j]=lt[rt],U[j]=vt[rt]}return[At,nt,dt,bt,U]}r.__esModule=!0;var v=Object.assign||function(K){for(var ot=1;ot<arguments.length;ot++){var F=arguments[ot];for(var I in F)Object.prototype.hasOwnProperty.call(F,I)&&(K[I]=F[I])}return K},S=function(){function K(ot,F){for(var I=0;I<F.length;I++){var at=F[I];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(ot,at.key,at)}}return function(ot,F,I){return F&&K(ot.prototype,F),I&&K(ot,I),ot}}(),w=o(6),x=c(w),E=o(2),A=c(E),_=o(8),T=c(_),R=o(23),D=c(R),k=o(4),M=c(k),L=o(5),H=c(L),Y=o(7),$=c(Y),it=o(3),st=c(it),tt=o(1),Z=c(tt),B=1e3/60,G=function(K){function ot(F){var I=this;h(this,ot),K.call(this,F),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(at){for(var ht=y(I.props.willEnter,I.props.willLeave,I.props.didLeave,I.state.mergedPropsStyles,at,I.state.currentStyles,I.state.currentVelocities,I.state.lastIdealStyles,I.state.lastIdealVelocities),lt=ht[0],yt=ht[1],vt=ht[2],At=ht[3],nt=ht[4],dt=0;dt<at.length;dt++){var bt=at[dt].style,U=!1;for(var j in bt)if(Object.prototype.hasOwnProperty.call(bt,j)){var W=bt[j];typeof W=="number"&&(U||(U=!0,yt[dt]=v({},yt[dt]),vt[dt]=v({},vt[dt]),At[dt]=v({},At[dt]),nt[dt]=v({},nt[dt]),lt[dt]={key:lt[dt].key,data:lt[dt].data,style:v({},lt[dt].style)}),yt[dt][j]=W,vt[dt][j]=0,At[dt][j]=W,nt[dt][j]=0,lt[dt].style[j]=W)}}I.setState({currentStyles:yt,currentVelocities:vt,mergedPropsStyles:lt,lastIdealStyles:At,lastIdealVelocities:nt})},this.startAnimationIfNecessary=function(){I.unmounting||(I.animationID=H.default(function(at){if(!I.unmounting){var ht=I.props.styles,lt=typeof ht=="function"?ht(g(I.state.mergedPropsStyles,I.unreadPropStyles,I.state.lastIdealStyles)):ht;if(m(I.state.currentStyles,lt,I.state.currentVelocities,I.state.mergedPropsStyles))return I.animationID=null,void(I.accumulatedTime=0);var yt=at||M.default(),vt=yt-I.prevTime;if(I.prevTime=yt,I.accumulatedTime=I.accumulatedTime+vt,I.accumulatedTime>10*B&&(I.accumulatedTime=0),I.accumulatedTime===0)return I.animationID=null,void I.startAnimationIfNecessary();for(var At=(I.accumulatedTime-Math.floor(I.accumulatedTime/B)*B)/B,nt=Math.floor(I.accumulatedTime/B),dt=y(I.props.willEnter,I.props.willLeave,I.props.didLeave,I.state.mergedPropsStyles,lt,I.state.currentStyles,I.state.currentVelocities,I.state.lastIdealStyles,I.state.lastIdealVelocities),bt=dt[0],U=dt[1],j=dt[2],W=dt[3],rt=dt[4],mt=0;mt<bt.length;mt++){var pt=bt[mt].style,_t={},Et={},Tt={},zt={};for(var ie in pt)if(Object.prototype.hasOwnProperty.call(pt,ie)){var le=pt[ie];if(typeof le=="number")_t[ie]=le,Et[ie]=0,Tt[ie]=le,zt[ie]=0;else{for(var fe=W[mt][ie],ve=rt[mt][ie],xa=0;xa<nt;xa++){var Ta=T.default(B/1e3,fe,ve,le.val,le.stiffness,le.damping,le.precision);fe=Ta[0],ve=Ta[1]}var zr=T.default(B/1e3,fe,ve,le.val,le.stiffness,le.damping,le.precision),Ni=zr[0],Xg=zr[1];_t[ie]=fe+(Ni-fe)*At,Et[ie]=ve+(Xg-ve)*At,Tt[ie]=fe,zt[ie]=ve}}W[mt]=Tt,rt[mt]=zt,U[mt]=_t,j[mt]=Et}I.animationID=null,I.accumulatedTime-=nt*B,I.setState({currentStyles:U,currentVelocities:j,lastIdealStyles:W,lastIdealVelocities:rt,mergedPropsStyles:bt}),I.unreadPropStyles=null,I.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return d(ot,K),S(ot,null,[{key:"propTypes",value:{defaultStyles:Z.default.arrayOf(Z.default.shape({key:Z.default.string.isRequired,data:Z.default.any,style:Z.default.objectOf(Z.default.number).isRequired})),styles:Z.default.oneOfType([Z.default.func,Z.default.arrayOf(Z.default.shape({key:Z.default.string.isRequired,data:Z.default.any,style:Z.default.objectOf(Z.default.oneOfType([Z.default.number,Z.default.object])).isRequired}))]).isRequired,children:Z.default.func.isRequired,willEnter:Z.default.func,willLeave:Z.default.func,didLeave:Z.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(F){return A.default(F.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),ot.prototype.defaultState=function(){var F=this.props,I=F.defaultStyles,at=F.styles,ht=F.willEnter,lt=F.willLeave,yt=F.didLeave,vt=typeof at=="function"?at(I):at,At=void 0;At=I==null?vt:I.map(function(pt){for(var _t=0;_t<vt.length;_t++)if(vt[_t].key===pt.key)return vt[_t];return pt});var nt=I==null?vt.map(function(pt){return A.default(pt.style)}):I.map(function(pt){return A.default(pt.style)}),dt=I==null?vt.map(function(pt){return x.default(pt.style)}):I.map(function(pt){return x.default(pt.style)}),bt=y(ht,lt,yt,At,vt,nt,dt,nt,dt),U=bt[0],j=bt[1],W=bt[2],rt=bt[3],mt=bt[4];return{currentStyles:j,currentVelocities:W,lastIdealStyles:rt,lastIdealVelocities:mt,mergedPropsStyles:U}},ot.prototype.componentDidMount=function(){this.prevTime=M.default(),this.startAnimationIfNecessary()},ot.prototype.componentWillReceiveProps=function(F){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var I=F.styles;typeof I=="function"?this.unreadPropStyles=I(g(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=I,this.animationID==null&&(this.prevTime=M.default(),this.startAnimationIfNecessary())},ot.prototype.componentWillUnmount=function(){this.unmounting=!0,this.animationID!=null&&(H.default.cancel(this.animationID),this.animationID=null)},ot.prototype.render=function(){var F=g(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),I=this.props.children(F);return I&&st.default.Children.only(I)},ot}(st.default.Component);r.default=G,a.exports=r.default},function(a,r){function o(c,h,d){for(var g={},m=0;m<c.length;m++)g[c[m].key]=m;for(var y={},m=0;m<h.length;m++)y[h[m].key]=m;for(var v=[],m=0;m<h.length;m++)v[m]=h[m];for(var m=0;m<c.length;m++)if(!Object.prototype.hasOwnProperty.call(y,c[m].key)){var S=d(m,c[m]);S!=null&&v.push(S)}return v.sort(function(w,x){var E=y[w.key],A=y[x.key],_=g[w.key],T=g[x.key];if(E!=null&&A!=null)return y[w.key]-y[x.key];if(_!=null&&T!=null)return g[w.key]-g[x.key];if(E!=null){for(var R=0;R<h.length;R++){var D=h[R].key;if(Object.prototype.hasOwnProperty.call(g,D)){if(E<y[D]&&T>g[D])return-1;if(E>y[D]&&T<g[D])return 1}}return 1}for(var R=0;R<h.length;R++){var D=h[R].key;if(Object.prototype.hasOwnProperty.call(g,D)){if(A<y[D]&&_>g[D])return 1;if(A>y[D]&&_<g[D])return-1}}return-1})}r.__esModule=!0,r.default=o,a.exports=r.default},function(a,r,o){function c(w){return w&&w.__esModule?w.default:w}r.__esModule=!0;var h=o(20);r.Motion=c(h);var d=o(21);r.StaggeredMotion=c(d);var g=o(22);r.TransitionMotion=c(g);var m=o(26);r.spring=c(m);var y=o(10);r.presets=c(y);var v=o(2);r.stripStyle=c(v);var S=o(25);r.reorderKeys=c(S)},function(a,r,o){function c(){}r.__esModule=!0,r.default=c,a.exports=r.default},function(a,r,o){function c(v){return v&&v.__esModule?v:{default:v}}function h(v,S){return d({},y,S,{val:v})}r.__esModule=!0;var d=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var w=arguments[S];for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(v[x]=w[x])}return v};r.default=h;var g=o(10),m=c(g),y=d({},m.default.noWobble,{precision:.01});a.exports=r.default}])})}(kp)),kp.exports}var $R=WR();const KR=zy($R);var QR=Ng();const ZR="modulepreload",JR=function(f){return"/"+f},Mw={},Tp=function(t,i,a){let r=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(i.map(d=>{if(d=JR(d),d in Mw)return;Mw[d]=!0;const g=d.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":ZR,g||(y.as="script"),y.crossOrigin="",y.href=d,h&&y.setAttribute("nonce",h),document.head.appendChild(y),g)return new Promise((v,S)=>{y.addEventListener("load",v),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};var Bh={};Bh.d=(f,t)=>{for(var i in t)Bh.o(t,i)&&!Bh.o(f,i)&&Object.defineProperty(f,i,{enumerable:!0,get:t[i]})};Bh.o=(f,t)=>Object.prototype.hasOwnProperty.call(f,t);var Ht=globalThis.pdfjsLib={};Bh.d(Ht,{AbortException:()=>gl,AnnotationEditorLayer:()=>Ry,AnnotationEditorParamsType:()=>Nt,AnnotationEditorType:()=>qt,AnnotationEditorUIManager:()=>ul,AnnotationLayer:()=>QD,AnnotationMode:()=>er,ColorPicker:()=>gg,DOMSVGFactory:()=>Jy,DrawLayer:()=>Ly,FeatureTest:()=>Mi,GlobalWorkerOptions:()=>ws,ImageKind:()=>Np,InvalidPDFException:()=>m_,MissingPDFException:()=>pl,OPS:()=>In,OutputScale:()=>w0,PDFDataRangeTransport:()=>dE,PDFDateString:()=>Yy,PDFWorker:()=>uc,PasswordResponses:()=>n2,PermissionFlag:()=>i2,PixelsPerInch:()=>Dr,RenderingCancelledException:()=>Gy,TextLayer:()=>Gh,UnexpectedResponseException:()=>qg,Util:()=>Dt,VerbosityLevel:()=>Hg,XfaLayer:()=>pE,build:()=>OD,createValidAbsoluteUrl:()=>o2,fetchData:()=>Ug,getDocument:()=>wD,getFilenameFromUrl:()=>m2,getPdfFilenameFromUrl:()=>b2,getXfaPageViewport:()=>y2,isDataScheme:()=>jg,isPdfFile:()=>Xy,noContextMenu:()=>kn,normalizeUnicode:()=>f2,setLayerDimensions:()=>cl,shadow:()=>Kt,version:()=>MD});const _i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),g_=[1,0,0,1,0,0],y0=[.001,0,0,.001,0,0],t2=1e7,h0=1.35,ln={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},er={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e2="pdfjs_internal_editor_",qt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},i2={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},bi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Np={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ge={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},vh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Hg={ERRORS:0,WARNINGS:1,INFOS:5},In={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},n2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Fg=Hg.WARNINGS;function a2(f){Number.isInteger(f)&&(Fg=f)}function s2(){return Fg}function Ig(f){Fg>=Hg.INFOS&&console.log(`Info: ${f}`)}function jt(f){Fg>=Hg.WARNINGS&&console.log(`Warning: ${f}`)}function ye(f){throw new Error(f)}function $e(f,t){f||ye(t)}function r2(f){switch(f==null?void 0:f.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function o2(f,t=null,i=null){if(!f)return null;try{if(i&&typeof f=="string"){if(i.addDefaultProtocol&&f.startsWith("www.")){const r=f.match(/\./g);(r==null?void 0:r.length)>=2&&(f=`http://${f}`)}if(i.tryConvertEncoding)try{f=d2(f)}catch{}}const a=t?new URL(f,t):new URL(f);if(r2(a))return a}catch{}return null}function Kt(f,t,i,a=!1){return Object.defineProperty(f,t,{value:i,enumerable:!a,configurable:!0,writable:!1}),i}const Nr=function(){function t(i,a){this.message=i,this.name=a}return t.prototype=new Error,t.constructor=t,t}();class v0 extends Nr{constructor(t,i){super(t,"PasswordException"),this.code=i}}class A0 extends Nr{constructor(t,i){super(t,"UnknownErrorException"),this.details=i}}class m_ extends Nr{constructor(t){super(t,"InvalidPDFException")}}class pl extends Nr{constructor(t){super(t,"MissingPDFException")}}class qg extends Nr{constructor(t,i){super(t,"UnexpectedResponseException"),this.status=i}}class l2 extends Nr{constructor(t){super(t,"FormatError")}}class gl extends Nr{constructor(t){super(t,"AbortException")}}function b_(f){(typeof f!="object"||(f==null?void 0:f.length)===void 0)&&ye("Invalid argument for bytesToString");const t=f.length,i=8192;if(t<i)return String.fromCharCode.apply(null,f);const a=[];for(let r=0;r<t;r+=i){const o=Math.min(r+i,t),c=f.subarray(r,o);a.push(String.fromCharCode.apply(null,c))}return a.join("")}function Bg(f){typeof f!="string"&&ye("Invalid argument for stringToBytes");const t=f.length,i=new Uint8Array(t);for(let a=0;a<t;++a)i[a]=f.charCodeAt(a)&255;return i}function c2(f){return String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,f&255)}function Uy(f){const t=Object.create(null);for(const[i,a]of f)t[i]=a;return t}function u2(){const f=new Uint8Array(4);return f[0]=1,new Uint32Array(f.buffer,0,1)[0]===1}function h2(){try{return new Function(""),!0}catch{return!1}}class Mi{static get isLittleEndian(){return Kt(this,"isLittleEndian",u2())}static get isEvalSupported(){return Kt(this,"isEvalSupported",h2())}static get isOffscreenCanvasSupported(){return Kt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Kt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Kt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,i;return Kt(this,"isCSSRoundSupported",(i=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:i.call(t,"width: round(1.5px, 1px)"))}}const d0=Array.from(Array(256).keys(),f=>f.toString(16).padStart(2,"0"));var Es,zp,S0;class Dt{static makeHexColor(t,i,a){return`#${d0[t]}${d0[i]}${d0[a]}`}static scaleMinMax(t,i){let a;t[0]?(t[0]<0&&(a=i[0],i[0]=i[2],i[2]=a),i[0]*=t[0],i[2]*=t[0],t[3]<0&&(a=i[1],i[1]=i[3],i[3]=a),i[1]*=t[3],i[3]*=t[3]):(a=i[0],i[0]=i[1],i[1]=a,a=i[2],i[2]=i[3],i[3]=a,t[1]<0&&(a=i[1],i[1]=i[3],i[3]=a),i[1]*=t[1],i[3]*=t[1],t[2]<0&&(a=i[0],i[0]=i[2],i[2]=a),i[0]*=t[2],i[2]*=t[2]),i[0]+=t[4],i[1]+=t[5],i[2]+=t[4],i[3]+=t[5]}static transform(t,i){return[t[0]*i[0]+t[2]*i[1],t[1]*i[0]+t[3]*i[1],t[0]*i[2]+t[2]*i[3],t[1]*i[2]+t[3]*i[3],t[0]*i[4]+t[2]*i[5]+t[4],t[1]*i[4]+t[3]*i[5]+t[5]]}static applyTransform(t,i){const a=t[0]*i[0]+t[1]*i[2]+i[4],r=t[0]*i[1]+t[1]*i[3]+i[5];return[a,r]}static applyInverseTransform(t,i){const a=i[0]*i[3]-i[1]*i[2],r=(t[0]*i[3]-t[1]*i[2]+i[2]*i[5]-i[4]*i[3])/a,o=(-t[0]*i[1]+t[1]*i[0]+i[4]*i[1]-i[5]*i[0])/a;return[r,o]}static getAxialAlignedBoundingBox(t,i){const a=this.applyTransform(t,i),r=this.applyTransform(t.slice(2,4),i),o=this.applyTransform([t[0],t[3]],i),c=this.applyTransform([t[2],t[1]],i);return[Math.min(a[0],r[0],o[0],c[0]),Math.min(a[1],r[1],o[1],c[1]),Math.max(a[0],r[0],o[0],c[0]),Math.max(a[1],r[1],o[1],c[1])]}static inverseTransform(t){const i=t[0]*t[3]-t[1]*t[2];return[t[3]/i,-t[1]/i,-t[2]/i,t[0]/i,(t[2]*t[5]-t[4]*t[3])/i,(t[4]*t[1]-t[5]*t[0])/i]}static singularValueDecompose2dScale(t){const i=[t[0],t[2],t[1],t[3]],a=t[0]*i[0]+t[1]*i[2],r=t[0]*i[1]+t[1]*i[3],o=t[2]*i[0]+t[3]*i[2],c=t[2]*i[1]+t[3]*i[3],h=(a+c)/2,d=Math.sqrt((a+c)**2-4*(a*c-o*r))/2,g=h+d||1,m=h-d||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const i=t.slice(0);return t[0]>t[2]&&(i[0]=t[2],i[2]=t[0]),t[1]>t[3]&&(i[1]=t[3],i[3]=t[1]),i}static intersect(t,i){const a=Math.max(Math.min(t[0],t[2]),Math.min(i[0],i[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(i[0],i[2]));if(a>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(i[1],i[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(i[1],i[3]));return o>c?null:[a,o,r,c]}static bezierBoundingBox(t,i,a,r,o,c,h,d,g){return g?(g[0]=Math.min(g[0],t,h),g[1]=Math.min(g[1],i,d),g[2]=Math.max(g[2],t,h),g[3]=Math.max(g[3],i,d)):g=[Math.min(t,h),Math.min(i,d),Math.max(t,h),Math.max(i,d)],N(this,Es,S0).call(this,t,a,o,h,i,r,c,d,3*(-t+3*(a-o)+h),6*(t-2*a+o),3*(a-t),g),N(this,Es,S0).call(this,t,a,o,h,i,r,c,d,3*(-i+3*(r-c)+d),6*(i-2*r+c),3*(r-i),g),g}}Es=new WeakSet,zp=function(t,i,a,r,o,c,h,d,g,m){if(g<=0||g>=1)return;const y=1-g,v=g*g,S=v*g,w=y*(y*(y*t+3*g*i)+3*v*a)+S*r,x=y*(y*(y*o+3*g*c)+3*v*h)+S*d;m[0]=Math.min(m[0],w),m[1]=Math.min(m[1],x),m[2]=Math.max(m[2],w),m[3]=Math.max(m[3],x)},S0=function(t,i,a,r,o,c,h,d,g,m,y,v){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&N(this,Es,zp).call(this,t,i,a,r,o,c,h,d,-y/m,v);return}const S=m**2-4*y*g;if(S<0)return;const w=Math.sqrt(S),x=2*g;N(this,Es,zp).call(this,t,i,a,r,o,c,h,d,(-m+w)/x,v),N(this,Es,zp).call(this,t,i,a,r,o,c,h,d,(-m-w)/x,v)},z(Dt,Es);function d2(f){return decodeURIComponent(escape(f))}let f0=null,Ow=null;function f2(f){return f0||(f0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ow=new Map([["ﬅ","ſt"]])),f.replaceAll(f0,(t,i,a)=>i?i.normalize("NFKC"):Ow.get(a))}function p2(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const f=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(f);else for(let t=0;t<32;t++)f[t]=Math.floor(Math.random()*255);return b_(f)}const jy="pdfjs_internal_id_",Ya={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function g2(f){return Uint8Array.prototype.toBase64?f.toBase64():btoa(b_(f))}const $a="http://www.w3.org/2000/svg",uo=class uo{};kt(uo,"CSS",96),kt(uo,"PDF",72),kt(uo,"PDF_TO_CSS_UNITS",uo.CSS/uo.PDF);let Dr=uo;async function Ug(f,t="text"){if(xh(f,document.baseURI)){const i=await fetch(f);if(!i.ok)throw new Error(i.statusText);switch(t){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,a)=>{const r=new XMLHttpRequest;r.open("GET",f,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":i(r.response);return}i(r.responseText);return}a(new Error(r.statusText))}},r.send(null)})}class lf{constructor({viewBox:t,scale:i,rotation:a,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.scale=i,this.rotation=a,this.offsetX=r,this.offsetY=o;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let g,m,y,v;switch(a%=360,a<0&&(a+=360),a){case 180:g=-1,m=0,y=0,v=1;break;case 90:g=0,m=1,y=1,v=0;break;case 270:g=0,m=-1,y=-1,v=0;break;case 0:g=1,m=0,y=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,v=-v);let S,w,x,E;g===0?(S=Math.abs(d-t[1])*i+r,w=Math.abs(h-t[0])*i+o,x=(t[3]-t[1])*i,E=(t[2]-t[0])*i):(S=Math.abs(h-t[0])*i+r,w=Math.abs(d-t[1])*i+o,x=(t[2]-t[0])*i,E=(t[3]-t[1])*i),this.transform=[g*i,m*i,y*i,v*i,S-g*i*h-y*i*d,w-m*i*h-v*i*d],this.width=x,this.height=E}get rawDims(){const{viewBox:t}=this;return Kt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:i=this.rotation,offsetX:a=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new lf({viewBox:this.viewBox.slice(),scale:t,rotation:i,offsetX:a,offsetY:r,dontFlip:o})}convertToViewportPoint(t,i){return Dt.applyTransform([t,i],this.transform)}convertToViewportRectangle(t){const i=Dt.applyTransform([t[0],t[1]],this.transform),a=Dt.applyTransform([t[2],t[3]],this.transform);return[i[0],i[1],a[0],a[1]]}convertToPdfPoint(t,i){return Dt.applyInverseTransform([t,i],this.transform)}}class Gy extends Nr{constructor(t,i=0){super(t,"RenderingCancelledException"),this.extraDelay=i}}function jg(f){const t=f.length;let i=0;for(;i<t&&f[i].trim()==="";)i++;return f.substring(i,i+5).toLowerCase()==="data:"}function Xy(f){return typeof f=="string"&&/\.pdf$/i.test(f)}function m2(f){return[f]=f.split(/[#?]/,1),f.substring(f.lastIndexOf("/")+1)}function b2(f,t="document.pdf"){if(typeof f!="string")return t;if(jg(f))return jt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=i.exec(f);let o=a.exec(r[1])||a.exec(r[2])||a.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=a.exec(decodeURIComponent(o))[0]}catch{}return o||t}class Lw{constructor(){kt(this,"started",Object.create(null));kt(this,"times",[])}time(t){t in this.started&&jt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||jt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let i=0;for(const{name:a}of this.times)i=Math.max(a.length,i);for(const{name:a,start:r,end:o}of this.times)t.push(`${a.padEnd(i)} ${o-r}ms
`);return t.join("")}}function xh(f,t){try{const{protocol:i}=t?new URL(f,t):new URL(f);return i==="http:"||i==="https:"}catch{return!1}}function kn(f){f.preventDefault()}function kw(f){console.log("Deprecated API usage: "+f)}var Yh;class Yy{static toDateObject(t){if(!t||typeof t!="string")return null;u(this,Yh)||O(this,Yh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=u(this,Yh).exec(t);if(!i)return null;const a=parseInt(i[1],10);let r=parseInt(i[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(i[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(i[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(i[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(i[6],10);d=d>=0&&d<=59?d:0;const g=i[7]||"Z";let m=parseInt(i[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(i[9],10)||0;return y=y>=0&&y<=59?y:0,g==="-"?(c+=m,h+=y):g==="+"&&(c-=m,h-=y),new Date(Date.UTC(a,r,o,c,h,d))}}Yh=new WeakMap,z(Yy,Yh);function y2(f,{scale:t=1,rotation:i=0}){const{width:a,height:r}=f.attributes.style,o=[0,0,parseInt(a),parseInt(r)];return new lf({viewBox:o,scale:t,rotation:i})}function Vy(f){if(f.startsWith("#")){const t=parseInt(f.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return f.startsWith("rgb(")?f.slice(4,-1).split(",").map(t=>parseInt(t)):f.startsWith("rgba(")?f.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(jt(`Not a valid color format: "${f}"`),[0,0,0])}function v2(f){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const i of f.keys()){t.style.color=i;const a=window.getComputedStyle(t).color;f.set(i,Vy(a))}t.remove()}function Te(f){const{a:t,b:i,c:a,d:r,e:o,f:c}=f.getTransform();return[t,i,a,r,o,c]}function Va(f){const{a:t,b:i,c:a,d:r,e:o,f:c}=f.getTransform().invertSelf();return[t,i,a,r,o,c]}function cl(f,t,i=!1,a=!0){if(t instanceof lf){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:c}=f,h=Mi.isCSSRoundSupported,d=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${o}px`,m=h?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,y=h?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!i||t.rotation%180===0?(c.width=m,c.height=y):(c.width=y,c.height=m)}a&&f.setAttribute("data-main-rotation",t.rotation)}class w0{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ir,fo,qn,po,Vh,Wh,bg,y_,Oi,v_,A_,Pp,S_,E0;const Ka=class Ka{constructor(t){z(this,Oi);z(this,ir,null);z(this,fo,null);z(this,qn);z(this,po,null);z(this,Vh,null);O(this,qn,t),u(Ka,Wh)||O(Ka,Wh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=O(this,ir,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const i=u(this,qn)._uiManager._signal;t.addEventListener("contextmenu",kn,{signal:i}),t.addEventListener("pointerdown",N(Ka,bg,y_),{signal:i});const a=O(this,po,document.createElement("div"));a.className="buttons",t.append(a);const r=u(this,qn).toolbarPosition;if(r){const{style:o}=t,c=u(this,qn)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return N(this,Oi,S_).call(this),t}get div(){return u(this,ir)}hide(){var t;u(this,ir).classList.add("hidden"),(t=u(this,fo))==null||t.hideDropdown()}show(){var t;u(this,ir).classList.remove("hidden"),(t=u(this,Vh))==null||t.shown()}async addAltText(t){const i=await t.render();N(this,Oi,Pp).call(this,i),u(this,po).prepend(i,u(this,Oi,E0)),O(this,Vh,t)}addColorPicker(t){O(this,fo,t);const i=t.renderButton();N(this,Oi,Pp).call(this,i),u(this,po).prepend(i,u(this,Oi,E0))}remove(){var t;u(this,ir).remove(),(t=u(this,fo))==null||t.destroy(),O(this,fo,null)}};ir=new WeakMap,fo=new WeakMap,qn=new WeakMap,po=new WeakMap,Vh=new WeakMap,Wh=new WeakMap,bg=new WeakSet,y_=function(t){t.stopPropagation()},Oi=new WeakSet,v_=function(t){u(this,qn)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},A_=function(t){u(this,qn)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Pp=function(t){const i=u(this,qn)._uiManager._signal;t.addEventListener("focusin",N(this,Oi,v_).bind(this),{capture:!0,signal:i}),t.addEventListener("focusout",N(this,Oi,A_).bind(this),{capture:!0,signal:i}),t.addEventListener("contextmenu",kn,{signal:i})},S_=function(){const{editorType:t,_uiManager:i}=u(this,qn),a=document.createElement("button");a.className="delete",a.tabIndex=0,a.setAttribute("data-l10n-id",u(Ka,Wh)[t]),N(this,Oi,Pp).call(this,a),a.addEventListener("click",r=>{i.delete()},{signal:i._signal}),u(this,po).append(a)},E0=function(){const t=document.createElement("div");return t.className="divider",t},z(Ka,bg),z(Ka,Wh,null);let _0=Ka;var $h,go,mo,Or,w_,__,E_;class A2{constructor(t){z(this,Or);z(this,$h,null);z(this,go,null);z(this,mo);O(this,mo,t)}show(t,i,a){const[r,o]=N(this,Or,__).call(this,i,a),{style:c}=u(this,go)||O(this,go,N(this,Or,w_).call(this));t.append(u(this,go)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,go).remove()}}$h=new WeakMap,go=new WeakMap,mo=new WeakMap,Or=new WeakSet,w_=function(){const t=O(this,go,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",kn,{signal:u(this,mo)._signal});const i=O(this,$h,document.createElement("div"));return i.className="buttons",t.append(i),N(this,Or,E_).call(this),t},__=function(t,i){let a=0,r=0;for(const o of t){const c=o.y+o.height;if(c<a)continue;const h=o.x+(i?o.width:0);if(c>a){r=h,a=c;continue}i?h>r&&(r=h):h<r&&(r=h)}return[i?1-r:r,a]},E_=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");t.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const a=u(this,mo)._signal;t.addEventListener("contextmenu",kn,{signal:a}),t.addEventListener("click",()=>{u(this,mo).highlightSelection("floating_button")},{signal:a}),u(this,$h).append(t)};function dg(f,t,i){for(const a of i)t.addEventListener(a,f[a].bind(f))}function S2(f){return Math.round(Math.min(255,Math.max(1,255*f))).toString(16).padStart(2,"0")}var yg;class w2{constructor(){z(this,yg,0)}get id(){return`${e2}${Ti(this,yg)._++}`}}yg=new WeakMap;var hc,Kh,vi,dc,Hp;const ev=class ev{constructor(){z(this,dc);z(this,hc,p2());z(this,Kh,0);z(this,vi,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(a.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return Kt(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:i,name:a,size:r,type:o}=t;return N(this,dc,Hp).call(this,`${i}_${a}_${r}_${o}`,t)}async getFromUrl(t){return N(this,dc,Hp).call(this,t,t)}async getFromBlob(t,i){const a=await i;return N(this,dc,Hp).call(this,t,a)}async getFromId(t){u(this,vi)||O(this,vi,new Map);const i=u(this,vi).get(t);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:a}=i;return delete i.blobPromise,this.getFromBlob(i.id,a)}return this.getFromUrl(i.url)}getFromCanvas(t,i){u(this,vi)||O(this,vi,new Map);let a=u(this,vi).get(t);if(a!=null&&a.bitmap)return a.refCounter+=1,a;const r=new OffscreenCanvas(i.width,i.height);return r.getContext("2d").drawImage(i,0,0),a={bitmap:r.transferToImageBitmap(),id:`image_${u(this,hc)}_${Ti(this,Kh)._++}`,refCounter:1,isSvg:!1},u(this,vi).set(t,a),u(this,vi).set(a.id,a),a}getSvgUrl(t){const i=u(this,vi).get(t);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(t){var r;u(this,vi)||O(this,vi,new Map);const i=u(this,vi).get(t);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:a}=i;if(!i.url&&!i.file){const o=new OffscreenCanvas(a.width,a.height);o.getContext("bitmaprenderer").transferFromImageBitmap(a),i.blobPromise=o.convertToBlob()}(r=a.close)==null||r.call(a),i.bitmap=null}isValidId(t){return t.startsWith(`image_${u(this,hc)}_`)}};hc=new WeakMap,Kh=new WeakMap,vi=new WeakMap,dc=new WeakSet,Hp=async function(t,i){u(this,vi)||O(this,vi,new Map);let a=u(this,vi).get(t);if(a===null)return null;if(a!=null&&a.bitmap)return a.refCounter+=1,a;try{a||(a={bitmap:null,id:`image_${u(this,hc)}_${Ti(this,Kh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof i=="string"?(a.url=i,r=await Ug(i,"blob")):i instanceof File?r=a.file=i:i instanceof Blob&&(r=i),r.type==="image/svg+xml"){const o=ev._isSVGFittingCanvas,c=new FileReader,h=new Image,d=new Promise((g,m)=>{h.onload=()=>{a.bitmap=h,a.isSvg=!0,g()},c.onload=async()=>{const y=a.svgUrl=c.result;h.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=c.onerror=m});c.readAsDataURL(r),await d}else a.bitmap=await createImageBitmap(r);a.refCounter=1}catch(r){console.error(r),a=null}return u(this,vi).set(t,a),a&&u(this,vi).set(a.id,a),a};let x0=ev;var ei,nr,Qh,ii;class _2{constructor(t=128){z(this,ei,[]);z(this,nr,!1);z(this,Qh);z(this,ii,-1);O(this,Qh,t)}add({cmd:t,undo:i,post:a,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&t(),u(this,nr))return;const d={cmd:t,undo:i,post:a,type:o};if(u(this,ii)===-1){u(this,ei).length>0&&(u(this,ei).length=0),O(this,ii,0),u(this,ei).push(d);return}if(c&&u(this,ei)[u(this,ii)].type===o){h&&(d.undo=u(this,ei)[u(this,ii)].undo),u(this,ei)[u(this,ii)]=d;return}const g=u(this,ii)+1;g===u(this,Qh)?u(this,ei).splice(0,1):(O(this,ii,g),g<u(this,ei).length&&u(this,ei).splice(g)),u(this,ei).push(d)}undo(){if(u(this,ii)===-1)return;O(this,nr,!0);const{undo:t,post:i}=u(this,ei)[u(this,ii)];t(),i==null||i(),O(this,nr,!1),O(this,ii,u(this,ii)-1)}redo(){if(u(this,ii)<u(this,ei).length-1){O(this,ii,u(this,ii)+1),O(this,nr,!0);const{cmd:t,post:i}=u(this,ei)[u(this,ii)];t(),i==null||i(),O(this,nr,!1)}}hasSomethingToUndo(){return u(this,ii)!==-1}hasSomethingToRedo(){return u(this,ii)<u(this,ei).length-1}destroy(){O(this,ei,null)}}ei=new WeakMap,nr=new WeakMap,Qh=new WeakMap,ii=new WeakMap;var vg,x_;class cf{constructor(t){z(this,vg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=Mi.platform;for(const[a,r,o={}]of t)for(const c of a){const h=c.startsWith("mac+");i&&h?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!i&&!h&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,i){if(!this.allKeys.has(i.key))return;const a=this.callbacks.get(N(this,vg,x_).call(this,i));if(!a)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:h=null}}=a;h&&!h(t,i)||(r.bind(t,...c,i)(),o||(i.stopPropagation(),i.preventDefault()))}}vg=new WeakSet,x_=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const Ag=class Ag{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return v2(t),Kt(this,"_colors",t)}convert(t){const i=Vy(t);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[a,r]of this._colors)if(r.every((o,c)=>o===i[c]))return Ag._colorsMapping.get(a);return i}getHexCode(t){const i=this._colors.get(t);return i?Dt.makeHexColor(...i):t}};kt(Ag,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let T0=Ag;var fc,Ji,Ye,ui,pc,Za,gc,Bn,ar,mc,bo,oa,Un,yo,Zh,Jh,bc,td,la,sr,yc,rr,ca,Sg,or,ed,lr,vo,id,nd,ni,se,Ja,Ao,ad,sd,cr,ua,ts,rd,xn,wt,Fp,C0,T_,C_,Ip,R_,D_,M_,R0,O_,D0,M0,L_,Ci,Js,k_,N_,O0,z_,Th,L0;const lc=class lc{constructor(t,i,a,r,o,c,h,d,g,m,y){z(this,wt);z(this,fc,new AbortController);z(this,Ji,null);z(this,Ye,new Map);z(this,ui,new Map);z(this,pc,null);z(this,Za,null);z(this,gc,null);z(this,Bn,new _2);z(this,ar,null);z(this,mc,0);z(this,bo,new Set);z(this,oa,null);z(this,Un,null);z(this,yo,new Set);z(this,Zh,!1);z(this,Jh,!1);z(this,bc,!1);z(this,td,null);z(this,la,null);z(this,sr,null);z(this,yc,null);z(this,rr,!1);z(this,ca,null);z(this,Sg,new w2);z(this,or,!1);z(this,ed,!1);z(this,lr,null);z(this,vo,null);z(this,id,null);z(this,nd,null);z(this,ni,qt.NONE);z(this,se,new Set);z(this,Ja,null);z(this,Ao,null);z(this,ad,null);z(this,sd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});z(this,cr,[0,0]);z(this,ua,null);z(this,ts,null);z(this,rd,null);z(this,xn,null);const v=this._signal=u(this,fc).signal;O(this,ts,t),O(this,rd,i),O(this,pc,a),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),N(this,wt,R_).call(this),N(this,wt,L_).call(this),N(this,wt,R0).call(this),O(this,Za,o.annotationStorage),O(this,td,o.filterFactory),O(this,Ao,c),O(this,yc,h||null),O(this,Zh,d),O(this,Jh,g),O(this,bc,m),O(this,nd,y||null),this.viewParameters={realScale:Dr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=lc.prototype,i=c=>u(c,ts).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),a=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Kt(this,"_keyboardManager",new cf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],t.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:a}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&u(c,ts).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&u(c,ts).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:i}]]))}destroy(){var t,i,a,r;(t=u(this,xn))==null||t.resolve(),O(this,xn,null),(i=u(this,fc))==null||i.abort(),O(this,fc,null),this._signal=null;for(const o of u(this,ui).values())o.destroy();u(this,ui).clear(),u(this,Ye).clear(),u(this,yo).clear(),O(this,Ji,null),u(this,se).clear(),u(this,Bn).destroy(),(a=u(this,pc))==null||a.destroy(),(r=u(this,ca))==null||r.hide(),O(this,ca,null),u(this,la)&&(clearTimeout(u(this,la)),O(this,la,null)),u(this,ua)&&(clearTimeout(u(this,ua)),O(this,ua,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return u(this,nd)}get useNewAltTextFlow(){return u(this,Jh)}get useNewAltTextWhenAddingImage(){return u(this,bc)}get hcmFilter(){return Kt(this,"hcmFilter",u(this,Ao)?u(this,td).addHCMFilter(u(this,Ao).foreground,u(this,Ao).background):"none")}get direction(){return Kt(this,"direction",getComputedStyle(u(this,ts)).direction)}get highlightColors(){return Kt(this,"highlightColors",u(this,yc)?new Map(u(this,yc).split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Kt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){O(this,id,t)}editAltText(t,i=!1){var a;(a=u(this,pc))==null||a.editAltText(this,t,i)}switchToMode(t,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,i){this._eventBus.dispatch("setpreference",{source:this,name:t,value:i})}onSetPreference({name:t,value:i}){switch(t){case"enableNewAltTextWhenAddingImage":O(this,bc,i);break}}onPageChanging({pageNumber:t}){O(this,mc,t-1)}focusMainContainer(){u(this,ts).focus()}findParent(t,i){for(const a of u(this,ui).values()){const{x:r,y:o,width:c,height:h}=a.div.getBoundingClientRect();if(t>=r&&t<=r+c&&i>=o&&i<=o+h)return a}return null}disableUserSelect(t=!1){u(this,rd).classList.toggle("noUserSelect",t)}addShouldRescale(t){u(this,yo).add(t)}removeShouldRescale(t){u(this,yo).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Dr.PDF_TO_CSS_UNITS;for(const i of u(this,yo))i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:a,anchorOffset:r,focusNode:o,focusOffset:c}=i,h=i.toString(),g=N(this,wt,Fp).call(this,i).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;i.empty();const y=N(this,wt,C0).call(this,g),v=u(this,ni)===qt.NONE,S=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:a,anchorOffset:r,focusNode:o,focusOffset:c,text:h}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(qt.HIGHLIGHT,S);return}S()}addToAnnotationStorage(t){!t.isEmpty()&&u(this,Za)&&!u(this,Za).has(t.id)&&u(this,Za).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,u(this,rr)&&(O(this,rr,!1),N(this,wt,Ip).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const i of u(this,se))if(i.div.contains(t)){O(this,vo,[i,t]),i._focusEventsAllowed=!1;break}}focus(){if(!u(this,vo))return;const[t,i]=u(this,vo);O(this,vo,null),i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){N(this,wt,R0).call(this),N(this,wt,D0).call(this)}removeEditListeners(){N(this,wt,O_).call(this),N(this,wt,M0).call(this)}dragOver(t){for(const{type:i}of t.dataTransfer.items)for(const a of u(this,Un))if(a.isHandlingMimeForPasting(i)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const i of t.dataTransfer.items)for(const a of u(this,Un))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer),t.preventDefault();return}}copy(t){var a;if(t.preventDefault(),(a=u(this,Ji))==null||a.commitOrRemove(),!this.hasSelection)return;const i=[];for(const r of u(this,se)){const o=r.serialize(!0);o&&i.push(o)}i.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:i}=t;for(const o of i.items)for(const c of u(this,Un))if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let a=i.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(o){jt(`paste: "${o.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of a){const g=await r.deserialize(d);if(!g)return;o.push(g)}const c=()=>{for(const d of o)N(this,wt,O0).call(this,d);N(this,wt,L0).call(this,o)},h=()=>{for(const d of o)d.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(o){jt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,ni)!==qt.NONE&&!this.isEditorHandlingKeyboard&&lc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,rr)&&(O(this,rr,!1),N(this,wt,Ip).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(N(this,wt,D_).call(this),N(this,wt,D0).call(this),N(this,wt,Ci).call(this,{isEditing:u(this,ni)!==qt.NONE,isEmpty:N(this,wt,Th).call(this),hasSomethingToUndo:u(this,Bn).hasSomethingToUndo(),hasSomethingToRedo:u(this,Bn).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,wt,M_).call(this),N(this,wt,M0).call(this),N(this,wt,Ci).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!u(this,Un)){O(this,Un,t);for(const i of u(this,Un))N(this,wt,Js).call(this,i.defaultPropertiesToUpdate)}}getId(){return u(this,Sg).id}get currentLayer(){return u(this,ui).get(u(this,mc))}getLayer(t){return u(this,ui).get(t)}get currentPageIndex(){return u(this,mc)}addLayer(t){u(this,ui).set(t.pageIndex,t),u(this,or)?t.enable():t.disable()}removeLayer(t){u(this,ui).delete(t.pageIndex)}async updateMode(t,i=null,a=!1){if(u(this,ni)!==t&&!(u(this,xn)&&(await u(this,xn).promise,!u(this,xn)))){if(O(this,xn,Promise.withResolvers()),O(this,ni,t),t===qt.NONE){this.setEditingState(!1),N(this,wt,N_).call(this),u(this,xn).resolve();return}this.setEditingState(!0),await N(this,wt,k_).call(this),this.unselectAll();for(const r of u(this,ui).values())r.updateMode(t);if(!i){a&&this.addNewEditorFromKeyboard(),u(this,xn).resolve();return}for(const r of u(this,Ye).values())r.annotationElementId===i?(this.setSelected(r),r.enterInEditMode()):r.unselect();u(this,xn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==u(this,ni)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){var a;if(u(this,Un)){switch(t){case Nt.CREATE:this.currentLayer.addNewEditor();return;case Nt.HIGHLIGHT_DEFAULT_COLOR:(a=u(this,id))==null||a.updateColor(i);break;case Nt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,ad)||O(this,ad,new Map)).set(t,i),this.showAllEditors("highlight",i);break}for(const r of u(this,se))r.updateParams(t,i);for(const r of u(this,Un))r.updateDefaultParams(t,i)}}showAllEditors(t,i,a=!1){var o;for(const c of u(this,Ye).values())c.editorType===t&&c.show(i);(((o=u(this,ad))==null?void 0:o.get(Nt.HIGHLIGHT_SHOW_ALL))??!0)!==i&&N(this,wt,Js).call(this,[[Nt.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(u(this,ed)!==t){O(this,ed,t);for(const i of u(this,ui).values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}getEditors(t){const i=[];for(const a of u(this,Ye).values())a.pageIndex===t&&i.push(a);return i}getEditor(t){return u(this,Ye).get(t)}addEditor(t){u(this,Ye).set(t.id,t)}removeEditor(t){var i;t.div.contains(document.activeElement)&&(u(this,la)&&clearTimeout(u(this,la)),O(this,la,setTimeout(()=>{this.focusMainContainer(),O(this,la,null)},0))),u(this,Ye).delete(t.id),this.unselect(t),(!t.annotationElementId||!u(this,bo).has(t.annotationElementId))&&((i=u(this,Za))==null||i.remove(t.id))}addDeletedAnnotationElement(t){u(this,bo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return u(this,bo).has(t)}removeDeletedAnnotationElement(t){u(this,bo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){u(this,Ji)!==t&&(O(this,Ji,t),t&&N(this,wt,Js).call(this,t.propertiesToUpdate))}updateUI(t){u(this,wt,z_)===t&&N(this,wt,Js).call(this,t.propertiesToUpdate)}toggleSelected(t){if(u(this,se).has(t)){u(this,se).delete(t),t.unselect(),N(this,wt,Ci).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,se).add(t),t.select(),N(this,wt,Js).call(this,t.propertiesToUpdate),N(this,wt,Ci).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const i of u(this,se))i!==t&&i.unselect();u(this,se).clear(),u(this,se).add(t),t.select(),N(this,wt,Js).call(this,t.propertiesToUpdate),N(this,wt,Ci).call(this,{hasSelectedEditor:!0})}isSelected(t){return u(this,se).has(t)}get firstSelectedEditor(){return u(this,se).values().next().value}unselect(t){t.unselect(),u(this,se).delete(t),N(this,wt,Ci).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,se).size!==0}get isEnterHandled(){return u(this,se).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,Bn).undo(),N(this,wt,Ci).call(this,{hasSomethingToUndo:u(this,Bn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,wt,Th).call(this)})}redo(){u(this,Bn).redo(),N(this,wt,Ci).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Bn).hasSomethingToRedo(),isEmpty:N(this,wt,Th).call(this)})}addCommands(t){u(this,Bn).add(t),N(this,wt,Ci).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,wt,Th).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...u(this,se)],i=()=>{for(const r of t)r.remove()},a=()=>{for(const r of t)N(this,wt,O0).call(this,r)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){var t;(t=u(this,Ji))==null||t.commitOrRemove()}hasSomethingToControl(){return u(this,Ji)||this.hasSelection}selectAll(){for(const t of u(this,se))t.commit();N(this,wt,L0).call(this,u(this,Ye).values())}unselectAll(){if(!(u(this,Ji)&&(u(this,Ji).commitOrRemove(),u(this,ni)!==qt.NONE))&&this.hasSelection){for(const t of u(this,se))t.unselect();u(this,se).clear(),N(this,wt,Ci).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,i,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;u(this,cr)[0]+=t,u(this,cr)[1]+=i;const[r,o]=u(this,cr),c=[...u(this,se)],h=1e3;u(this,ua)&&clearTimeout(u(this,ua)),O(this,ua,setTimeout(()=>{O(this,ua,null),u(this,cr)[0]=u(this,cr)[1]=0,this.addCommands({cmd:()=>{for(const d of c)u(this,Ye).has(d.id)&&d.translateInPage(r,o)},undo:()=>{for(const d of c)u(this,Ye).has(d.id)&&d.translateInPage(-r,-o)},mustExec:!1})},h));for(const d of c)d.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),O(this,oa,new Map);for(const t of u(this,se))u(this,oa).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,oa))return!1;this.disableUserSelect(!1);const t=u(this,oa);O(this,oa,null);let i=!1;for(const[{x:r,y:o,pageIndex:c},h]of t)h.newX=r,h.newY=o,h.newPageIndex=c,i||(i=r!==h.savedX||o!==h.savedY||c!==h.savedPageIndex);if(!i)return!1;const a=(r,o,c,h)=>{if(u(this,Ye).has(r.id)){const d=u(this,ui).get(h);d?r._setParentAndPosition(d,o,c):(r.pageIndex=h,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:h}]of t)a(r,o,c,h)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:h}]of t)a(r,o,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(u(this,oa))for(const a of u(this,oa).keys())a.drag(t,i)}rebuild(t){if(t.parent===null){const i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||u(this,se).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return u(this,Ji)===t}getActive(){return u(this,Ji)}getMode(){return u(this,ni)}get imageManager(){return Kt(this,"imageManager",new x0)}getSelectionBoxes(t){if(!t)return null;const i=document.getSelection();for(let g=0,m=i.rangeCount;g<m;g++)if(!t.contains(i.getRangeAt(g).commonAncestorContainer))return null;const{x:a,y:r,width:o,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(g,m,y,v)=>({x:(m-r)/c,y:1-(g+y-a)/o,width:v/c,height:y/o});break;case"180":h=(g,m,y,v)=>({x:1-(g+y-a)/o,y:1-(m+v-r)/c,width:y/o,height:v/c});break;case"270":h=(g,m,y,v)=>({x:1-(m+v-r)/c,y:(g-a)/o,width:v/c,height:y/o});break;default:h=(g,m,y,v)=>({x:(g-a)/o,y:(m-r)/c,width:y/o,height:v/c});break}const d=[];for(let g=0,m=i.rangeCount;g<m;g++){const y=i.getRangeAt(g);if(!y.collapsed)for(const{x:v,y:S,width:w,height:x}of y.getClientRects())w===0||x===0||d.push(h(v,S,w,x))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:i}){(u(this,gc)||O(this,gc,new Map)).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){var i;(i=u(this,gc))==null||i.delete(t)}renderAnnotationElement(t){var r;const i=(r=u(this,gc))==null?void 0:r.get(t.data.id);if(!i)return;const a=u(this,Za).getRawValue(i);a&&(u(this,ni)===qt.NONE&&!a.hasBeenModified||a.renderAnnotationElement(t))}};fc=new WeakMap,Ji=new WeakMap,Ye=new WeakMap,ui=new WeakMap,pc=new WeakMap,Za=new WeakMap,gc=new WeakMap,Bn=new WeakMap,ar=new WeakMap,mc=new WeakMap,bo=new WeakMap,oa=new WeakMap,Un=new WeakMap,yo=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,bc=new WeakMap,td=new WeakMap,la=new WeakMap,sr=new WeakMap,yc=new WeakMap,rr=new WeakMap,ca=new WeakMap,Sg=new WeakMap,or=new WeakMap,ed=new WeakMap,lr=new WeakMap,vo=new WeakMap,id=new WeakMap,nd=new WeakMap,ni=new WeakMap,se=new WeakMap,Ja=new WeakMap,Ao=new WeakMap,ad=new WeakMap,sd=new WeakMap,cr=new WeakMap,ua=new WeakMap,ts=new WeakMap,rd=new WeakMap,xn=new WeakMap,wt=new WeakSet,Fp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},C0=function(t){const{currentLayer:i}=this;if(i.hasTextLayer(t))return i;for(const a of u(this,ui).values())if(a.hasTextLayer(t))return a;return null},T_=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const a=N(this,wt,Fp).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(a);r&&(u(this,ca)||O(this,ca,new A2(this)),u(this,ca).show(a,r,this.direction==="ltr"))},C_=function(){var o,c,h;const t=document.getSelection();if(!t||t.isCollapsed){u(this,Ja)&&((o=u(this,ca))==null||o.hide(),O(this,Ja,null),N(this,wt,Ci).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=t;if(i===u(this,Ja))return;const r=N(this,wt,Fp).call(this,t).closest(".textLayer");if(!r){u(this,Ja)&&((c=u(this,ca))==null||c.hide(),O(this,Ja,null),N(this,wt,Ci).call(this,{hasSelectedText:!1}));return}if((h=u(this,ca))==null||h.hide(),O(this,Ja,i),N(this,wt,Ci).call(this,{hasSelectedText:!0}),!(u(this,ni)!==qt.HIGHLIGHT&&u(this,ni)!==qt.NONE)&&(u(this,ni)===qt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),O(this,rr,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=u(this,ni)===qt.HIGHLIGHT?N(this,wt,C0).call(this,r):null;d==null||d.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),y=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),d==null||d.toggleDrawing(!0),v.type==="pointerup"&&N(this,wt,Ip).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("blur",y,{signal:m})}},Ip=function(t=""){u(this,ni)===qt.HIGHLIGHT?this.highlightSelection(t):u(this,Zh)&&N(this,wt,T_).call(this)},R_=function(){document.addEventListener("selectionchange",N(this,wt,C_).bind(this),{signal:this._signal})},D_=function(){if(u(this,sr))return;O(this,sr,new AbortController);const t=this.combinedSignal(u(this,sr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},M_=function(){var t;(t=u(this,sr))==null||t.abort(),O(this,sr,null)},R0=function(){if(u(this,lr))return;O(this,lr,new AbortController);const t=this.combinedSignal(u(this,lr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},O_=function(){var t;(t=u(this,lr))==null||t.abort(),O(this,lr,null)},D0=function(){if(u(this,ar))return;O(this,ar,new AbortController);const t=this.combinedSignal(u(this,ar));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},M0=function(){var t;(t=u(this,ar))==null||t.abort(),O(this,ar,null)},L_=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Ci=function(t){Object.entries(t).some(([a,r])=>u(this,sd)[a]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,sd),t)}),u(this,ni)===qt.HIGHLIGHT&&t.hasSelectedEditor===!1&&N(this,wt,Js).call(this,[[Nt.HIGHLIGHT_FREE,!0]]))},Js=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},k_=async function(){if(!u(this,or)){O(this,or,!0);const t=[];for(const i of u(this,ui).values())t.push(i.enable());await Promise.all(t);for(const i of u(this,Ye).values())i.enable()}},N_=function(){if(this.unselectAll(),u(this,or)){O(this,or,!1);for(const t of u(this,ui).values())t.disable();for(const t of u(this,Ye).values())t.disable()}},O0=function(t){const i=u(this,ui).get(t.pageIndex);i?i.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},z_=function(){let t=null;for(t of u(this,se));return t},Th=function(){if(u(this,Ye).size===0)return!0;if(u(this,Ye).size===1)for(const t of u(this,Ye).values())return t.isEmpty();return!1},L0=function(t){for(const i of u(this,se))i.unselect();u(this,se).clear();for(const i of t)i.isEmpty()||(u(this,se).add(i),i.select());N(this,wt,Ci).call(this,{hasSelectedEditor:this.hasSelection})},kt(lc,"TRANSLATE_SMALL",1),kt(lc,"TRANSLATE_BIG",10);let ul=lc;var ai,ha,jn,vc,da,tn,Ac,fa,qi,es,So,pa,ur,Jn,Ch,qp;const Ri=class Ri{constructor(t){z(this,Jn);z(this,ai,null);z(this,ha,!1);z(this,jn,null);z(this,vc,null);z(this,da,null);z(this,tn,null);z(this,Ac,!1);z(this,fa,null);z(this,qi,null);z(this,es,null);z(this,So,null);z(this,pa,!1);O(this,qi,t),O(this,pa,t._uiManager.useNewAltTextFlow),u(Ri,ur)||O(Ri,ur,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ri._l10n??(Ri._l10n=t)}async render(){const t=O(this,jn,document.createElement("button"));t.className="altText",t.tabIndex="0";const i=O(this,vc,document.createElement("span"));t.append(i),u(this,pa)?(t.classList.add("new"),t.setAttribute("data-l10n-id",u(Ri,ur).missing),i.setAttribute("data-l10n-id",u(Ri,ur)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const a=u(this,qi)._uiManager._signal;t.addEventListener("contextmenu",kn,{signal:a}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:a});const r=o=>{o.preventDefault(),u(this,qi)._uiManager.editAltText(u(this,qi)),u(this,pa)&&u(this,qi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Jn,Ch)}})};return t.addEventListener("click",r,{capture:!0,signal:a}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(O(this,Ac,!0),r(o))},{signal:a}),await N(this,Jn,qp).call(this),t}finish(){u(this,jn)&&(u(this,jn).focus({focusVisible:u(this,Ac)}),O(this,Ac,!1))}isEmpty(){return u(this,pa)?u(this,ai)===null:!u(this,ai)&&!u(this,ha)}hasData(){return u(this,pa)?u(this,ai)!==null||!!u(this,es):this.isEmpty()}get guessedText(){return u(this,es)}async setGuessedText(t){u(this,ai)===null&&(O(this,es,t),O(this,So,await Ri._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),N(this,Jn,qp).call(this))}toggleAltTextBadge(t=!1){var i;if(!u(this,pa)||u(this,ai)){(i=u(this,fa))==null||i.remove(),O(this,fa,null);return}if(!u(this,fa)){const a=O(this,fa,document.createElement("div"));a.className="noAltTextBadge",u(this,qi).div.append(a)}u(this,fa).classList.toggle("hidden",!t)}serialize(t){let i=u(this,ai);return!t&&u(this,es)===i&&(i=u(this,So)),{altText:i,decorative:u(this,ha),guessedText:u(this,es),textWithDisclaimer:u(this,So)}}get data(){return{altText:u(this,ai),decorative:u(this,ha)}}set data({altText:t,decorative:i,guessedText:a,textWithDisclaimer:r,cancel:o=!1}){a&&(O(this,es,a),O(this,So,r)),!(u(this,ai)===t&&u(this,ha)===i)&&(o||(O(this,ai,t),O(this,ha,i)),N(this,Jn,qp).call(this))}toggle(t=!1){u(this,jn)&&(!t&&u(this,tn)&&(clearTimeout(u(this,tn)),O(this,tn,null)),u(this,jn).disabled=!t)}shown(){u(this,qi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Jn,Ch)}})}destroy(){var t,i;(t=u(this,jn))==null||t.remove(),O(this,jn,null),O(this,vc,null),O(this,da,null),(i=u(this,fa))==null||i.remove(),O(this,fa,null)}};ai=new WeakMap,ha=new WeakMap,jn=new WeakMap,vc=new WeakMap,da=new WeakMap,tn=new WeakMap,Ac=new WeakMap,fa=new WeakMap,qi=new WeakMap,es=new WeakMap,So=new WeakMap,pa=new WeakMap,ur=new WeakMap,Jn=new WeakSet,Ch=function(){return u(this,ai)&&"added"||u(this,ai)===null&&this.guessedText&&"review"||"missing"},qp=async function(){var r,o,c;const t=u(this,jn);if(!t)return;if(u(this,pa)){if(t.classList.toggle("done",!!u(this,ai)),t.setAttribute("data-l10n-id",u(Ri,ur)[u(this,Jn,Ch)]),(r=u(this,vc))==null||r.setAttribute("data-l10n-id",u(Ri,ur)[`${u(this,Jn,Ch)}-label`]),!u(this,ai)){(o=u(this,da))==null||o.remove();return}}else{if(!u(this,ai)&&!u(this,ha)){t.classList.remove("done"),(c=u(this,da))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=u(this,da);if(!i){O(this,da,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${u(this,qi).id}`;const h=100,d=u(this,qi)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(u(this,tn)),O(this,tn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{O(this,tn,setTimeout(()=>{O(this,tn,null),u(this,da).classList.add("show"),u(this,qi)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:d}),t.addEventListener("mouseleave",()=>{var g;u(this,tn)&&(clearTimeout(u(this,tn)),O(this,tn,null)),(g=u(this,da))==null||g.classList.remove("show")},{signal:d})}u(this,ha)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=u(this,ai)),i.parentNode||t.append(i);const a=u(this,qi).getImageForAltText();a==null||a.setAttribute("aria-describedby",i.id)},z(Ri,ur,null),kt(Ri,"_l10n",null);let fg=Ri;var wo,Gn,Ee,Sc,_o,hi,Eo,hr,od,xo,dr,ld,To,is,ga,wc,_c,Tn,cd,wg,Bt,k0,ud,N0,z0,P_,H_,P0,H0,F0,F_,I0,I_,q_,B_,q0,Rh;const ne=class ne{constructor(t){z(this,Bt);z(this,wo,null);z(this,Gn,null);z(this,Ee,null);z(this,Sc,!1);z(this,_o,!1);z(this,hi,null);z(this,Eo,null);z(this,hr,null);z(this,od,"");z(this,xo,!1);z(this,dr,null);z(this,ld,!1);z(this,To,!1);z(this,is,!1);z(this,ga,null);z(this,wc,0);z(this,_c,0);z(this,Tn,null);kt(this,"_editToolbar",null);kt(this,"_initialOptions",Object.create(null));kt(this,"_initialData",null);kt(this,"_isVisible",!0);kt(this,"_uiManager",null);kt(this,"_focusEventsAllowed",!0);z(this,cd,!1);z(this,wg,ne._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:a,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,r],this.pageTranslation=[o,c];const[h,d]=this.parentDimensions;this.x=t.x/h,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=ne.prototype._resizeWithKeyboard,i=ul.TRANSLATE_SMALL,a=ul.TRANSLATE_BIG;return Kt(this,"_resizerKeyboardManager",new cf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,a]}],[["Escape","mac+Escape"],ne.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Kt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const i=new E2({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});i.annotationElementId=t.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(t,i){if(ne._l10n??(ne._l10n=t),ne._l10nResizer||(ne._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ne._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);ne._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,i){ye("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,cd)}set _isDraggable(t){var i;O(this,cd,t),(i=this.div)==null||i.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(t*2),this.y+=this.width*t/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(t*2),this.y-=this.width*t/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,wg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):N(this,Bt,Rh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(u(this,xo)?O(this,xo,!1):this.parent.setSelected(this))}focusout(t){var a;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=t.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(t.preventDefault(),(a=this.parent)!=null&&a.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,i,a,r){const[o,c]=this.parentDimensions;[a,r]=this.screenToPageTranslation(a,r),this.x=(t+a)/o,this.y=(i+r)/c,this.fixAndSetPosition()}translate(t,i){N(this,Bt,k0).call(this,this.parentDimensions,t,i)}translateInPage(t,i){u(this,dr)||O(this,dr,[this.x,this.y]),N(this,Bt,k0).call(this,this.pageDimensions,t,i),this.div.scrollIntoView({block:"nearest"})}drag(t,i){u(this,dr)||O(this,dr,[this.x,this.y]);const[a,r]=this.parentDimensions;if(this.x+=t/a,this.y+=i/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[h,d]=this.getBaseTranslation();o+=h,c+=d,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,dr)&&(u(this,dr)[0]!==this.x||u(this,dr)[1]!==this.y)}getBaseTranslation(){const[t,i]=this.parentDimensions,{_borderLineWidth:a}=ne,r=a/t,o=a/i;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[i,a]=this.pageDimensions;let{x:r,y:o,width:c,height:h}=this;if(c*=i,h*=a,r*=i,o*=a,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(i-c,r)),o=Math.max(0,Math.min(a-h,o));break;case 90:r=Math.max(0,Math.min(i-h,r)),o=Math.min(a,Math.max(c,o));break;case 180:r=Math.min(i,Math.max(c,r)),o=Math.min(a,Math.max(h,o));break;case 270:r=Math.min(i,Math.max(h,r)),o=Math.max(0,Math.min(a-c,o));break}this.x=r/=i,this.y=o/=a;const[d,g]=this.getBaseTranslation();r+=d,o+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,i){var a;return N(a=ne,ud,N0).call(a,t,i,this.parentRotation)}pageTranslationToScreen(t,i){var a;return N(a=ne,ud,N0).call(a,t,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[i,a]}=this;return[i*t,a*t]}setDims(t,i){const[a,r]=this.parentDimensions;this.div.style.width=`${(100*t/a).toFixed(2)}%`,u(this,_o)||(this.div.style.height=`${(100*i/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:i,width:a}=t,r=a.endsWith("%"),o=!u(this,_o)&&i.endsWith("%");if(r&&o)return;const[c,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(a)/c).toFixed(2)}%`),!u(this,_o)&&!o&&(t.height=`${(100*parseFloat(i)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=u(this,Ee))==null||t.finish()}async addEditToolbar(){return this._editToolbar||u(this,To)?this._editToolbar:(this._editToolbar=new _0(this),this.div.append(this._editToolbar.render()),u(this,Ee)&&await this._editToolbar.addAltText(u(this,Ee)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=u(this,Ee))==null||t.destroy())}addContainer(t){var a;const i=(a=this._editToolbar)==null?void 0:a.div;i?i.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,Ee)||(fg.initialize(ne._l10n),O(this,Ee,new fg(this)),u(this,wo)&&(u(this,Ee).data=u(this,wo),O(this,wo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=u(this,Ee))==null?void 0:t.data}set altTextData(t){u(this,Ee)&&(u(this,Ee).data=t)}get guessedAltText(){var t;return(t=u(this,Ee))==null?void 0:t.guessedText}async setGuessedAltText(t){var i;await((i=u(this,Ee))==null?void 0:i.setGuessedText(t))}serializeAltText(t){var i;return(i=u(this,Ee))==null?void 0:i.serialize(t)}hasAltText(){return!!u(this,Ee)&&!u(this,Ee).isEmpty()}hasAltTextData(){var t;return((t=u(this,Ee))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,Sc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),N(this,Bt,I0).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[a,r]=this.getInitialTranslation();return this.translate(a,r),dg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:i}=Mi.platform;if(t.button!==0||t.ctrlKey&&i){t.preventDefault();return}if(O(this,xo,!0),this._isDraggable){N(this,Bt,F_).call(this,t);return}N(this,Bt,F0).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,ga)&&clearTimeout(u(this,ga)),O(this,ga,setTimeout(()=>{var t;O(this,ga,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,i,a){t.changeParent(this),this.x=i,this.y=a,this.fixAndSetPosition()}getRect(t,i,a=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[h,d]=this.pageTranslation,g=t/r,m=i/r,y=this.x*o,v=this.y*c,S=this.width*o,w=this.height*c;switch(a){case 0:return[y+g+h,c-v-m-w+d,y+g+S+h,c-v-m+d];case 90:return[y+m+h,c-v+g+d,y+m+w+h,c-v+g+S+d];case 180:return[y-g-S+h,c-v+m+d,y-g+h,c-v+m+w+d];case 270:return[y-m-w+h,c-v-g-S+d,y-m+h,c-v-g+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,i){const[a,r,o,c]=t,h=o-a,d=c-r;switch(this.rotation){case 0:return[a,i-c,h,d];case 90:return[a,i-r,d,h];case 180:return[o,i-r,h,d];case 270:return[o,i-c,d,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){O(this,To,!0)}disableEditMode(){O(this,To,!1)}isInEditMode(){return u(this,To)}shouldGetKeyboardEvents(){return u(this,is)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){N(this,Bt,I0).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,i=null){ye("An editor must be serializable")}static async deserialize(t,i,a){const r=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:a});r.rotation=t.rotation,O(r,wo,t.accessibilityData);const[o,c]=r.pageDimensions,[h,d,g,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=h/o,r.y=d/c,r.width=g/o,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=u(this,hr))==null||t.abort(),O(this,hr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,ga)&&(clearTimeout(u(this,ga)),O(this,ga,null)),N(this,Bt,Rh).call(this),this.removeEditToolbar(),u(this,Tn)){for(const i of u(this,Tn).values())clearTimeout(i);O(this,Tn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,Bt,P_).call(this),u(this,hi).classList.remove("hidden"),dg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),O(this,Eo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=u(this,hi).children;if(!u(this,Gn)){O(this,Gn,Array.from(i));const c=N(this,Bt,I_).bind(this),h=N(this,Bt,q_).bind(this),d=this._uiManager._signal;for(const g of u(this,Gn)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",c,{signal:d}),g.addEventListener("blur",h,{signal:d}),g.addEventListener("focus",N(this,Bt,B_).bind(this,m),{signal:d}),g.setAttribute("data-l10n-id",ne._l10nResizer[m])}}const a=u(this,Gn)[0];let r=0;for(const c of i){if(c===a)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(u(this,Gn).length/4);if(o!==r){if(o<r)for(let h=0;h<r-o;h++)u(this,hi).append(u(this,hi).firstChild);else if(o>r)for(let h=0;h<o-r;h++)u(this,hi).firstChild.before(u(this,hi).lastChild);let c=0;for(const h of i){const g=u(this,Gn)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",ne._l10nResizer[g])}}N(this,Bt,q0).call(this,0),O(this,is,!0),u(this,hi).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,i){u(this,is)&&N(this,Bt,H0).call(this,u(this,od),{movementX:t,movementY:i})}_stopResizingWithKeyboard(){N(this,Bt,Rh).call(this),this.div.focus()}select(){var t,i,a;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(i=this._editToolbar)==null||i.show(),(a=u(this,Ee))==null||a.toggleAltTextBadge(!1)}unselect(){var t,i,a,r,o;(t=u(this,hi))==null||t.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(a=this.div)!=null&&a.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=u(this,Ee))==null||o.toggleAltTextBadge(!0)}updateParams(t,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,ld)}set isEditing(t){O(this,ld,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,i){O(this,_o,!0);const a=t/i,{style:r}=this.div;r.aspectRatio=a,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,i=!1){if(i){u(this,Tn)||O(this,Tn,new Map);const{action:a}=t;let r=u(this,Tn).get(a);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),u(this,Tn).delete(a),u(this,Tn).size===0&&O(this,Tn,null)},ne._telemetryTimeout),u(this,Tn).set(a,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),O(this,Sc,!1)}disable(){this.div&&(this.div.tabIndex=-1),O(this,Sc,!0)}renderAnnotationElement(t){let i=t.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),t.container.prepend(i);else if(i.nodeName==="CANVAS"){const a=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),a.before(i)}return i}resetAnnotationElement(t){const{firstChild:i}=t.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};wo=new WeakMap,Gn=new WeakMap,Ee=new WeakMap,Sc=new WeakMap,_o=new WeakMap,hi=new WeakMap,Eo=new WeakMap,hr=new WeakMap,od=new WeakMap,xo=new WeakMap,dr=new WeakMap,ld=new WeakMap,To=new WeakMap,is=new WeakMap,ga=new WeakMap,wc=new WeakMap,_c=new WeakMap,Tn=new WeakMap,cd=new WeakMap,wg=new WeakMap,Bt=new WeakSet,k0=function([t,i],a,r){[a,r]=this.screenToPageTranslation(a,r),this.x+=a/t,this.y+=r/i,this.fixAndSetPosition()},ud=new WeakSet,N0=function(t,i,a){switch(a){case 90:return[i,-t];case 180:return[-t,-i];case 270:return[-i,t];default:return[t,i]}},z0=function(t){switch(t){case 90:{const[i,a]=this.pageDimensions;return[0,-i/a,a/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,a]=this.pageDimensions;return[0,i/a,-a/i,0]}default:return[1,0,0,1]}},P_=function(){if(u(this,hi))return;O(this,hi,document.createElement("div")),u(this,hi).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const a of t){const r=document.createElement("div");u(this,hi).append(r),r.classList.add("resizer",a),r.setAttribute("data-resizer-name",a),r.addEventListener("pointerdown",N(this,Bt,H_).bind(this,a),{signal:i}),r.addEventListener("contextmenu",kn,{signal:i}),r.tabIndex=-1}this.div.prepend(u(this,hi))},H_=function(t,i){var w;i.preventDefault();const{isMac:a}=Mi.platform;if(i.button!==0||i.ctrlKey&&a)return;(w=u(this,Ee))==null||w.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",N(this,Bt,H0).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",kn,{signal:c});const h=this.x,d=this.y,g=this.width,m=this.height,y=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const S=()=>{var x;o.abort(),this.parent.togglePointerEvents(!0),(x=u(this,Ee))==null||x.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=v,N(this,Bt,P0).call(this,h,d,g,m)};window.addEventListener("pointerup",S,{signal:c}),window.addEventListener("blur",S,{signal:c})},P0=function(t,i,a,r){const o=this.x,c=this.y,h=this.width,d=this.height;o===t&&c===i&&h===a&&d===r||this.addCommands({cmd:()=>{this.width=h,this.height=d,this.x=o,this.y=c;const[g,m]=this.parentDimensions;this.setDims(g*h,m*d),this.fixAndSetPosition()},undo:()=>{this.width=a,this.height=r,this.x=t,this.y=i;const[g,m]=this.parentDimensions;this.setDims(g*a,m*r),this.fixAndSetPosition()},mustExec:!0})},H0=function(t,i){const[a,r]=this.parentDimensions,o=this.x,c=this.y,h=this.width,d=this.height,g=ne.MIN_SIZE/a,m=ne.MIN_SIZE/r,y=G=>Math.round(G*1e4)/1e4,v=N(this,Bt,z0).call(this,this.rotation),S=(G,K)=>[v[0]*G+v[2]*K,v[1]*G+v[3]*K],w=N(this,Bt,z0).call(this,360-this.rotation),x=(G,K)=>[w[0]*G+w[2]*K,w[1]*G+w[3]*K];let E,A,_=!1,T=!1;switch(t){case"topLeft":_=!0,E=(G,K)=>[0,0],A=(G,K)=>[G,K];break;case"topMiddle":E=(G,K)=>[G/2,0],A=(G,K)=>[G/2,K];break;case"topRight":_=!0,E=(G,K)=>[G,0],A=(G,K)=>[0,K];break;case"middleRight":T=!0,E=(G,K)=>[G,K/2],A=(G,K)=>[0,K/2];break;case"bottomRight":_=!0,E=(G,K)=>[G,K],A=(G,K)=>[0,0];break;case"bottomMiddle":E=(G,K)=>[G/2,K],A=(G,K)=>[G/2,0];break;case"bottomLeft":_=!0,E=(G,K)=>[0,K],A=(G,K)=>[G,0];break;case"middleLeft":T=!0,E=(G,K)=>[0,K/2],A=(G,K)=>[G,K/2];break}const R=E(h,d),D=A(h,d);let k=S(...D);const M=y(o+k[0]),L=y(c+k[1]);let H=1,Y=1,[$,it]=this.screenToPageTranslation(i.movementX,i.movementY);if([$,it]=x($/a,it/r),_){const G=Math.hypot(h,d);H=Y=Math.max(Math.min(Math.hypot(D[0]-R[0]-$,D[1]-R[1]-it)/G,1/h,1/d),g/h,m/d)}else T?H=Math.max(g,Math.min(1,Math.abs(D[0]-R[0]-$)))/h:Y=Math.max(m,Math.min(1,Math.abs(D[1]-R[1]-it)))/d;const st=y(h*H),tt=y(d*Y);k=S(...A(st,tt));const Z=M-k[0],B=L-k[1];this.width=st,this.height=tt,this.x=Z,this.y=B,this.setDims(a*st,r*tt),this.fixAndSetPosition()},F0=function(t){const{isMac:i}=Mi.platform;t.ctrlKey&&!i||t.shiftKey||t.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},F_=function(t){const{isSelected:i}=this;this._uiManager.setUpDragSession();const a=new AbortController,r=this._uiManager.combinedSignal(a);if(i){this.div.classList.add("moving"),O(this,wc,t.clientX),O(this,_c,t.clientY);const c=h=>{const{clientX:d,clientY:g}=h,[m,y]=this.screenToPageTranslation(d-u(this,wc),g-u(this,_c));O(this,wc,d),O(this,_c,g),this._uiManager.dragSelectedEditors(m,y)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const o=()=>{a.abort(),i&&this.div.classList.remove("moving"),O(this,xo,!1),this._uiManager.endDragSession()||N(this,Bt,F0).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},I0=function(){if(u(this,hr)||!this.div)return;O(this,hr,new AbortController);const t=this._uiManager.combinedSignal(u(this,hr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},I_=function(t){ne._resizerKeyboardManager.exec(this,t)},q_=function(t){var i;u(this,is)&&((i=t.relatedTarget)==null?void 0:i.parentNode)!==u(this,hi)&&N(this,Bt,Rh).call(this)},B_=function(t){O(this,od,u(this,is)?t:"")},q0=function(t){if(u(this,Gn))for(const i of u(this,Gn))i.tabIndex=t},Rh=function(){if(O(this,is,!1),N(this,Bt,q0).call(this,-1),u(this,Eo)){const{savedX:t,savedY:i,savedWidth:a,savedHeight:r}=u(this,Eo);N(this,Bt,P0).call(this,t,i,a,r),O(this,Eo,null)}},z(ne,ud),kt(ne,"_l10n",null),kt(ne,"_l10nResizer",null),kt(ne,"_borderLineWidth",-1),kt(ne,"_colorManager",new T0),kt(ne,"_zIndex",1),kt(ne,"_telemetryTimeout",1e3);let oe=ne;class E2 extends oe{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Nw=3285377520,_n=4294901760,ra=65535;class U_{constructor(t){this.h1=t?t&4294967295:Nw,this.h2=t?t&4294967295:Nw}update(t){let i,a;if(typeof t=="string"){i=new Uint8Array(t.length*2),a=0;for(let x=0,E=t.length;x<E;x++){const A=t.charCodeAt(x);A<=255?i[a++]=A:(i[a++]=A>>>8,i[a++]=A&255)}}else if(ArrayBuffer.isView(t))i=t.slice(),a=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=a>>2,o=a-r*4,c=new Uint32Array(i.buffer,0,r);let h=0,d=0,g=this.h1,m=this.h2;const y=3432918353,v=461845907,S=y&ra,w=v&ra;for(let x=0;x<r;x++)x&1?(h=c[x],h=h*y&_n|h*S&ra,h=h<<15|h>>>17,h=h*v&_n|h*w&ra,g^=h,g=g<<13|g>>>19,g=g*5+3864292196):(d=c[x],d=d*y&_n|d*S&ra,d=d<<15|d>>>17,d=d*v&_n|d*w&ra,m^=d,m=m<<13|m>>>19,m=m*5+3864292196);switch(h=0,o){case 3:h^=i[r*4+2]<<16;case 2:h^=i[r*4+1]<<8;case 1:h^=i[r*4],h=h*y&_n|h*S&ra,h=h<<15|h>>>17,h=h*v&_n|h*w&ra,r&1?g^=h:m^=h}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,i=this.h2;return t^=i>>>1,t=t*3981806797&_n|t*36045&ra,i=i*4283543511&_n|((i<<16|t>>>16)*2950163797&_n)>>>16,t^=i>>>1,t=t*444984403&_n|t*60499&ra,i=i*3301882366&_n|((i<<16|t>>>16)*3120437893&_n)>>>16,t^=i>>>1,(t>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const B0=Object.freeze({map:null,hash:"",transfer:void 0});var Co,Ro,si,_g,j_;class Wy{constructor(){z(this,_g);z(this,Co,!1);z(this,Ro,null);z(this,si,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,i){const a=u(this,si).get(t);return a===void 0?i:Object.assign(i,a)}getRawValue(t){return u(this,si).get(t)}remove(t){if(u(this,si).delete(t),u(this,si).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of u(this,si).values())if(i instanceof oe)return;this.onAnnotationEditor(null)}}setValue(t,i){const a=u(this,si).get(t);let r=!1;if(a!==void 0)for(const[o,c]of Object.entries(i))a[o]!==c&&(r=!0,a[o]=c);else r=!0,u(this,si).set(t,i);r&&N(this,_g,j_).call(this),i instanceof oe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(t){return u(this,si).has(t)}getAll(){return u(this,si).size>0?Uy(u(this,si)):null}setAll(t){for(const[i,a]of Object.entries(t))this.setValue(i,a)}get size(){return u(this,si).size}resetModified(){u(this,Co)&&(O(this,Co,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new G_(this)}get serializable(){if(u(this,si).size===0)return B0;const t=new Map,i=new U_,a=[],r=Object.create(null);let o=!1;for(const[c,h]of u(this,si)){const d=h instanceof oe?h.serialize(!1,r):h;d&&(t.set(c,d),i.update(`${c}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const c of t.values())c.bitmap&&a.push(c.bitmap);return t.size>0?{map:t,hash:i.hexdigest(),transfer:a}:B0}get editorStats(){let t=null;const i=new Map;for(const a of u(this,si).values()){if(!(a instanceof oe))continue;const r=a.telemetryFinalData;if(!r)continue;const{type:o}=r;i.has(o)||i.set(o,Object.getPrototypeOf(a).constructor),t||(t=Object.create(null));const c=t[o]||(t[o]=new Map);for(const[h,d]of Object.entries(r)){if(h==="type")continue;let g=c.get(h);g||(g=new Map,c.set(h,g));const m=g.get(d)??0;g.set(d,m+1)}}for(const[a,r]of i)t[a]=r.computeTelemetryFinalData(t[a]);return t}resetModifiedIds(){O(this,Ro,null)}get modifiedIds(){if(u(this,Ro))return u(this,Ro);const t=[];for(const i of u(this,si).values())!(i instanceof oe)||!i.annotationElementId||!i.serialize()||t.push(i.annotationElementId);return O(this,Ro,{ids:new Set(t),hash:t.join(",")})}}Co=new WeakMap,Ro=new WeakMap,si=new WeakMap,_g=new WeakSet,j_=function(){u(this,Co)||(O(this,Co,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var hd;class G_ extends Wy{constructor(i){super();z(this,hd);const{map:a,hash:r,transfer:o}=i.serializable,c=structuredClone(a,o?{transfer:o}:null);O(this,hd,{map:c,hash:r,transfer:o})}get print(){ye("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,hd)}get modifiedIds(){return Kt(this,"modifiedIds",{ids:new Set,hash:""})}}hd=new WeakMap;var Ec;class x2{constructor({ownerDocument:t=globalThis.document,styleElement:i=null}){z(this,Ec,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(t,i.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),u(this,Ec).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:i}){if(!(!t||u(this,Ec).has(t.loadedName))){if($e(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:r,style:o}=t,c=new FontFace(a,r,o);this.addNativeFontFace(c);try{await c.load(),u(this,Ec).add(a),i==null||i(t)}catch{jt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ye("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const a=t.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(r){throw jt(`Failed to load font '${a.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const i=t.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const r=this._queueLoadingCallback(a);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var i;const t=!!((i=this._document)!=null&&i.fonts);return Kt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(_i||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Kt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function i(){for($e(!r.done,"completeRequest() cannot be called twice."),r.done=!0;a.length>0&&a[0].done;){const o=a.shift();setTimeout(o.callback,0)}}const{loadingRequests:a}=this,r={done:!1,complete:i,callback:t};return a.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Kt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,i){function a(R,D){return R.charCodeAt(D)<<24|R.charCodeAt(D+1)<<16|R.charCodeAt(D+2)<<8|R.charCodeAt(D+3)&255}function r(R,D,k,M){const L=R.substring(0,D),H=R.substring(D+k);return L+M+H}let o,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let g=0;function m(R,D){if(++g>30){jt("Load test font never loaded."),D();return}if(d.font="30px "+R,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(m.bind(null,R,D))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,y.length,y);const w=16,x=1482184792;let E=a(v,w);for(o=0,c=y.length-3;o<c;o+=4)E=E-x+a(y,o)|0;o<y.length&&(E=E-x+a(y+"XXX",o)|0),v=r(v,w,4,c2(E));const A=`url(data:font/opentype;base64,${btoa(v)});`,_=`@font-face {font-family:"${y}";src:${A}}`;this.insertRule(_);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[t.loadedName,y]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=R,T.append(D)}this._document.body.append(T),m(y,()=>{T.remove(),i.complete()})}}Ec=new WeakMap;class T2{constructor(t,{disableFontFace:i=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=i===!0,this._inspectFont=a}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return(i=this._inspectFont)==null||i.call(this,this),t}createFontFaceRule(){var a;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${g2(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(a=this._inspectFont)==null||a.call(this,this,t),i}getPathGenerator(t,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let a;try{a=t.get(this.loadedName+"_path_"+i)}catch(o){jt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(a)||a.length===0)return this.compiledGlyphs[i]=function(o,c){};const r=[];for(let o=0,c=a.length;o<c;)switch(a[o++]){case Ya.BEZIER_CURVE_TO:{const[h,d,g,m,y,v]=a.slice(o,o+6);r.push(S=>S.bezierCurveTo(h,d,g,m,y,v)),o+=6}break;case Ya.MOVE_TO:{const[h,d]=a.slice(o,o+2);r.push(g=>g.moveTo(h,d)),o+=2}break;case Ya.LINE_TO:{const[h,d]=a.slice(o,o+2);r.push(g=>g.lineTo(h,d)),o+=2}break;case Ya.QUADRATIC_CURVE_TO:{const[h,d,g,m]=a.slice(o,o+4);r.push(y=>y.quadraticCurveTo(h,d,g,m)),o+=4}break;case Ya.RESTORE:r.push(h=>h.restore());break;case Ya.SAVE:r.push(h=>h.save());break;case Ya.SCALE:$e(r.length===2,"Scale command is only valid at the third position.");break;case Ya.TRANSFORM:{const[h,d,g,m,y,v]=a.slice(o,o+6);r.push(S=>S.transform(h,d,g,m,y,v)),o+=6}break;case Ya.TRANSLATE:{const[h,d]=a.slice(o,o+2);r.push(g=>g.translate(h,d)),o+=2}break}return this.compiledGlyphs[i]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let d=2,g=r.length;d<g;d++)r[d](c)}}}var dd;class X_{constructor({enableHWA:t=!1}){z(this,dd,!1);O(this,dd,t)}create(t,i){if(t<=0||i<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(t,i);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!u(this,dd)})}}reset(t,i,a){if(!t.canvas)throw new Error("Canvas is not specified");if(i<=0||a<=0)throw new Error("Invalid canvas size");t.canvas.width=i,t.canvas.height=a}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,i){ye("Abstract method `_createCanvas` called.")}}dd=new WeakMap;class C2 extends X_{constructor({ownerDocument:t=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=t}_createCanvas(t,i){const a=this._document.createElement("canvas");return a.width=t,a.height=i,a}}class Y_{constructor({baseUrl:t=null,isCompressed:i=!0}){this.baseUrl=t,this.isCompressed=i}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const i=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(i).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(t){ye("Abstract method `_fetch` called.")}}class V_ extends Y_{async _fetch(t){const i=await Ug(t,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):Bg(i)}}class W_{addFilter(t){return"none"}addHCMFilter(t,i){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,i,a,r,o){return"none"}destroy(t=!1){}}var Do,Mo,ma,ns,Ai,Eg,Oo,xt,yi,tc,ec,Bp,ic,$_,U0,nc,Dh,Mh,j0,Oh;class R2 extends W_{constructor({docId:i,ownerDocument:a=globalThis.document}){super();z(this,xt);z(this,Do);z(this,Mo);z(this,ma);z(this,ns);z(this,Ai);z(this,Eg);z(this,Oo,0);O(this,ns,i),O(this,Ai,a)}addFilter(i){if(!i)return"none";let a=u(this,xt,yi).get(i);if(a)return a;const[r,o,c]=N(this,xt,Bp).call(this,i),h=i.length===1?r:`${r}${o}${c}`;if(a=u(this,xt,yi).get(h),a)return u(this,xt,yi).set(i,a),a;const d=`g_${u(this,ns)}_transfer_map_${Ti(this,Oo)._++}`,g=N(this,xt,ic).call(this,d);u(this,xt,yi).set(i,g),u(this,xt,yi).set(h,g);const m=N(this,xt,nc).call(this,d);return N(this,xt,Mh).call(this,r,o,c,m),g}addHCMFilter(i,a){var w;const r=`${i}-${a}`,o="base";let c=u(this,xt,tc).get(o);if((c==null?void 0:c.key)===r||(c?((w=c.filter)==null||w.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},u(this,xt,tc).set(o,c)),!i||!a))return c.url;const h=N(this,xt,Oh).call(this,i);i=Dt.makeHexColor(...h);const d=N(this,xt,Oh).call(this,a);if(a=Dt.makeHexColor(...d),u(this,xt,ec).style.color="",i==="#000000"&&a==="#ffffff"||i===a)return c.url;const g=new Array(256);for(let x=0;x<=255;x++){const E=x/255;g[x]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const m=g.join(","),y=`g_${u(this,ns)}_hcm_filter`,v=c.filter=N(this,xt,nc).call(this,y);N(this,xt,Mh).call(this,m,m,m,v),N(this,xt,U0).call(this,v);const S=(x,E)=>{const A=h[x]/255,_=d[x]/255,T=new Array(E+1);for(let R=0;R<=E;R++)T[R]=A+R/E*(_-A);return T.join(",")};return N(this,xt,Mh).call(this,S(0,5),S(1,5),S(2,5),v),c.url=N(this,xt,ic).call(this,y),c.url}addAlphaFilter(i){let a=u(this,xt,yi).get(i);if(a)return a;const[r]=N(this,xt,Bp).call(this,[i]),o=`alpha_${r}`;if(a=u(this,xt,yi).get(o),a)return u(this,xt,yi).set(i,a),a;const c=`g_${u(this,ns)}_alpha_map_${Ti(this,Oo)._++}`,h=N(this,xt,ic).call(this,c);u(this,xt,yi).set(i,h),u(this,xt,yi).set(o,h);const d=N(this,xt,nc).call(this,c);return N(this,xt,j0).call(this,r,d),h}addLuminosityFilter(i){let a=u(this,xt,yi).get(i||"luminosity");if(a)return a;let r,o;if(i?([r]=N(this,xt,Bp).call(this,[i]),o=`luminosity_${r}`):o="luminosity",a=u(this,xt,yi).get(o),a)return u(this,xt,yi).set(i,a),a;const c=`g_${u(this,ns)}_luminosity_map_${Ti(this,Oo)._++}`,h=N(this,xt,ic).call(this,c);u(this,xt,yi).set(i,h),u(this,xt,yi).set(o,h);const d=N(this,xt,nc).call(this,c);return N(this,xt,$_).call(this,d),i&&N(this,xt,j0).call(this,r,d),h}addHighlightHCMFilter(i,a,r,o,c){var _;const h=`${a}-${r}-${o}-${c}`;let d=u(this,xt,tc).get(i);if((d==null?void 0:d.key)===h||(d?((_=d.filter)==null||_.remove(),d.key=h,d.url="none",d.filter=null):(d={key:h,url:"none",filter:null},u(this,xt,tc).set(i,d)),!a||!r))return d.url;const[g,m]=[a,r].map(N(this,xt,Oh).bind(this));let y=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[S,w]=[o,c].map(N(this,xt,Oh).bind(this));v<y&&([y,v,S,w]=[v,y,w,S]),u(this,xt,ec).style.color="";const x=(T,R,D)=>{const k=new Array(256),M=(v-y)/D,L=T/255,H=(R-T)/(255*D);let Y=0;for(let $=0;$<=D;$++){const it=Math.round(y+$*M),st=L+$*H;for(let tt=Y;tt<=it;tt++)k[tt]=st;Y=it+1}for(let $=Y;$<256;$++)k[$]=k[Y-1];return k.join(",")},E=`g_${u(this,ns)}_hcm_${i}_filter`,A=d.filter=N(this,xt,nc).call(this,E);return N(this,xt,U0).call(this,A),N(this,xt,Mh).call(this,x(S[0],w[0],5),x(S[1],w[1],5),x(S[2],w[2],5),A),d.url=N(this,xt,ic).call(this,E),d.url}destroy(i=!1){i&&u(this,xt,tc).size!==0||(u(this,ma)&&(u(this,ma).parentNode.parentNode.remove(),O(this,ma,null)),u(this,Mo)&&(u(this,Mo).clear(),O(this,Mo,null)),O(this,Oo,0))}}Do=new WeakMap,Mo=new WeakMap,ma=new WeakMap,ns=new WeakMap,Ai=new WeakMap,Eg=new WeakMap,Oo=new WeakMap,xt=new WeakSet,yi=function(){return u(this,Mo)||O(this,Mo,new Map)},tc=function(){return u(this,Eg)||O(this,Eg,new Map)},ec=function(){if(!u(this,ma)){const i=u(this,Ai).createElement("div"),{style:a}=i;a.visibility="hidden",a.contain="strict",a.width=a.height=0,a.position="absolute",a.top=a.left=0,a.zIndex=-1;const r=u(this,Ai).createElementNS($a,"svg");r.setAttribute("width",0),r.setAttribute("height",0),O(this,ma,u(this,Ai).createElementNS($a,"defs")),i.append(r),r.append(u(this,ma)),u(this,Ai).body.append(i)}return u(this,ma)},Bp=function(i){if(i.length===1){const g=i[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=g[v]/255;const y=m.join(",");return[y,y,y]}const[a,r,o]=i,c=new Array(256),h=new Array(256),d=new Array(256);for(let g=0;g<256;g++)c[g]=a[g]/255,h[g]=r[g]/255,d[g]=o[g]/255;return[c.join(","),h.join(","),d.join(",")]},ic=function(i){if(u(this,Do)===void 0){O(this,Do,"");const a=u(this,Ai).URL;a!==u(this,Ai).baseURI&&(jg(a)?jt('#createUrl: ignore "data:"-URL for performance reasons.'):O(this,Do,a.split("#",1)[0]))}return`url(${u(this,Do)}#${i})`},$_=function(i){const a=u(this,Ai).createElementNS($a,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(a)},U0=function(i){const a=u(this,Ai).createElementNS($a,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(a)},nc=function(i){const a=u(this,Ai).createElementNS($a,"filter");return a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("id",i),u(this,xt,ec).append(a),a},Dh=function(i,a,r){const o=u(this,Ai).createElementNS($a,a);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),i.append(o)},Mh=function(i,a,r,o){const c=u(this,Ai).createElementNS($a,"feComponentTransfer");o.append(c),N(this,xt,Dh).call(this,c,"feFuncR",i),N(this,xt,Dh).call(this,c,"feFuncG",a),N(this,xt,Dh).call(this,c,"feFuncB",r)},j0=function(i,a){const r=u(this,Ai).createElementNS($a,"feComponentTransfer");a.append(r),N(this,xt,Dh).call(this,r,"feFuncA",i)},Oh=function(i){return u(this,xt,ec).style.color=i,Vy(getComputedStyle(u(this,xt,ec)).getPropertyValue("color"))};class K_{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${t}`;return this._fetch(i).catch(a=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(t){ye("Abstract method `_fetch` called.")}}class Q_ extends K_{async _fetch(t){const i=await Ug(t,"arraybuffer");return new Uint8Array(i)}}if(_i){var G0=Promise.withResolvers(),Uh=null;(async()=>{const t=await Tp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Tp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await Tp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Tp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:t,http:i,https:a,url:r,canvas:o,path2d:c}))})().then(t=>{Uh=t,G0.resolve()},t=>{jt(`loadPackages: ${t}`),Uh=new Map,G0.resolve()})}class Mr{static get promise(){return G0.promise}static get(t){return Uh==null?void 0:Uh.get(t)}}async function Z_(f){const i=await Mr.get("fs").promises.readFile(f);return new Uint8Array(i)}class D2 extends W_{}class M2 extends X_{_createCanvas(t,i){return Mr.get("canvas").createCanvas(t,i)}}class O2 extends Y_{async _fetch(t){return Z_(t)}}class L2 extends K_{async _fetch(t){return Z_(t)}}const Di={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function X0(f,t){if(!t)return;const i=t[2]-t[0],a=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],i,a),f.clip(r)}class $y{getPattern(){ye("Abstract method `getPattern` called.")}}class k2 extends $y{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let i;this._type==="axial"?i=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)i.addColorStop(a[0],a[1]);return i}getPattern(t,i,a,r){let o;if(r===Di.STROKE||r===Di.FILL){const c=i.current.getClippedPathBoundingBox(r,Te(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,g=i.cachedCanvases.getCanvas("pattern",h,d),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),a=Dt.transform(a,[1,0,0,1,c[0],c[1]]),m.transform(...i.baseTransform),this.matrix&&m.transform(...this.matrix),X0(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(g.canvas,"no-repeat");const y=new DOMMatrix(a);o.setTransform(y)}else X0(t,this._bbox),o=this._createGradient(t);return o}}function p0(f,t,i,a,r,o,c,h){const d=t.coords,g=t.colors,m=f.data,y=f.width*4;let v;d[i+1]>d[a+1]&&(v=i,i=a,a=v,v=o,o=c,c=v),d[a+1]>d[r+1]&&(v=a,a=r,r=v,v=c,c=h,h=v),d[i+1]>d[a+1]&&(v=i,i=a,a=v,v=o,o=c,c=v);const S=(d[i]+t.offsetX)*t.scaleX,w=(d[i+1]+t.offsetY)*t.scaleY,x=(d[a]+t.offsetX)*t.scaleX,E=(d[a+1]+t.offsetY)*t.scaleY,A=(d[r]+t.offsetX)*t.scaleX,_=(d[r+1]+t.offsetY)*t.scaleY;if(w>=_)return;const T=g[o],R=g[o+1],D=g[o+2],k=g[c],M=g[c+1],L=g[c+2],H=g[h],Y=g[h+1],$=g[h+2],it=Math.round(w),st=Math.round(_);let tt,Z,B,G,K,ot,F,I;for(let at=it;at<=st;at++){if(at<E){const At=at<w?0:(w-at)/(w-E);tt=S-(S-x)*At,Z=T-(T-k)*At,B=R-(R-M)*At,G=D-(D-L)*At}else{let At;at>_?At=1:E===_?At=0:At=(E-at)/(E-_),tt=x-(x-A)*At,Z=k-(k-H)*At,B=M-(M-Y)*At,G=L-(L-$)*At}let ht;at<w?ht=0:at>_?ht=1:ht=(w-at)/(w-_),K=S-(S-A)*ht,ot=T-(T-H)*ht,F=R-(R-Y)*ht,I=D-(D-$)*ht;const lt=Math.round(Math.min(tt,K)),yt=Math.round(Math.max(tt,K));let vt=y*at+lt*4;for(let At=lt;At<=yt;At++)ht=(tt-At)/(tt-K),ht<0?ht=0:ht>1&&(ht=1),m[vt++]=Z-(Z-ot)*ht|0,m[vt++]=B-(B-F)*ht|0,m[vt++]=G-(G-I)*ht|0,m[vt++]=255}}function N2(f,t,i){const a=t.coords,r=t.colors;let o,c;switch(t.type){case"lattice":const h=t.verticesPerRow,d=Math.floor(a.length/h)-1,g=h-1;for(o=0;o<d;o++){let m=o*h;for(let y=0;y<g;y++,m++)p0(f,i,a[m],a[m+1],a[m+h],r[m],r[m+1],r[m+h]),p0(f,i,a[m+h+1],a[m+1],a[m+h],r[m+h+1],r[m+1],r[m+h])}break;case"triangles":for(o=0,c=a.length;o<c;o+=3)p0(f,i,a[o],a[o+1],a[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class z2 extends $y{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,i,a){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-h,m=Math.ceil(this._bounds[3])-d,y=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),S=g/y,w=m/v,x={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/S,scaleY:1/w},E=y+2*2,A=v+2*2,_=a.getCanvas("mesh",E,A),T=_.context,R=T.createImageData(y,v);if(i){const k=R.data;for(let M=0,L=k.length;M<L;M+=4)k[M]=i[0],k[M+1]=i[1],k[M+2]=i[2],k[M+3]=255}for(const k of this._figures)N2(R,k,x);return T.putImageData(R,2,2),{canvas:_.canvas,offsetX:h-2*S,offsetY:d-2*w,scaleX:S,scaleY:w}}getPattern(t,i,a,r){X0(t,this._bbox);let o;if(r===Di.SHADING)o=Dt.singularValueDecompose2dScale(Te(t));else if(o=Dt.singularValueDecompose2dScale(i.baseTransform),this.matrix){const h=Dt.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const c=this._createMeshCanvas(o,r===Di.SHADING?null:this._background,i.cachedCanvases);return r!==Di.SHADING&&(t.setTransform(...i.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class P2 extends $y{getPattern(){return"hotpink"}}function H2(f){switch(f[0]){case"RadialAxial":return new k2(f);case"Mesh":return new z2(f);case"Dummy":return new P2}throw new Error(`Unknown IR type: ${f[0]}`)}const zw={COLORED:1,UNCOLORED:2},xg=class xg{constructor(t,i,a,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=a,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:i,operatorList:a,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:g}=this;d=Math.abs(d),g=Math.abs(g),Ig("TilingType: "+o);const m=i[0],y=i[1],v=i[2],S=i[3],w=v-m,x=S-y,E=Dt.singularValueDecompose2dScale(this.matrix),A=Dt.singularValueDecompose2dScale(this.baseTransform),_=E[0]*A[0],T=E[1]*A[1];let R=w,D=x,k=!1,M=!1;const L=Math.ceil(d*_),H=Math.ceil(g*T),Y=Math.ceil(w*_),$=Math.ceil(x*T);L>=Y?R=d:k=!0,H>=$?D=g:M=!0;const it=this.getSizeAndScale(R,this.ctx.canvas.width,_),st=this.getSizeAndScale(D,this.ctx.canvas.height,T),tt=t.cachedCanvases.getCanvas("pattern",it.size,st.size),Z=tt.context,B=h.createCanvasGraphics(Z);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,r,c),Z.translate(-it.scale*m,-st.scale*y),B.transform(it.scale,0,0,st.scale,0,0),Z.save(),this.clipBbox(B,m,y,v,S),B.baseTransform=Te(B.ctx),B.executeOperatorList(a),B.endDrawing(),Z.restore(),k||M){const G=tt.canvas;k&&(R=d),M&&(D=g);const K=this.getSizeAndScale(R,this.ctx.canvas.width,_),ot=this.getSizeAndScale(D,this.ctx.canvas.height,T),F=K.size,I=ot.size,at=t.cachedCanvases.getCanvas("pattern-workaround",F,I),ht=at.context,lt=k?Math.floor(w/d):0,yt=M?Math.floor(x/g):0;for(let vt=0;vt<=lt;vt++)for(let At=0;At<=yt;At++)ht.drawImage(G,F*vt,I*At,F,I,0,0,F,I);return{canvas:at.canvas,scaleX:K.scale,scaleY:ot.scale,offsetX:m,offsetY:y}}return{canvas:tt.canvas,scaleX:it.scale,scaleY:st.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,i,a){const r=Math.max(xg.MAX_PATTERN_SIZE,i);let o=Math.ceil(t*a);return o>=r?o=r:a=o/t,{scale:a,size:o}}clipBbox(t,i,a,r,o){const c=r-i,h=o-a;t.ctx.rect(i,a,c,h),t.current.updateRectMinMax(Te(t.ctx),[i,a,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,a){const r=t.ctx,o=t.current;switch(i){case zw.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case zw.UNCOLORED:const h=Dt.makeHexColor(a[0],a[1],a[2]);r.fillStyle=h,r.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new l2(`Unsupported paint type: ${i}`)}}getPattern(t,i,a,r){let o=a;r!==Di.SHADING&&(o=Dt.transform(o,i.baseTransform),this.matrix&&(o=Dt.transform(o,this.matrix)));const c=this.createPatternCanvas(i);let h=new DOMMatrix(o);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(h),d}};kt(xg,"MAX_PATTERN_SIZE",3e3);let Y0=xg;function F2({src:f,srcPos:t=0,dest:i,width:a,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const h=Mi.isLittleEndian?4278190080:255,[d,g]=c?[o,h]:[h,o],m=a>>3,y=a&7,v=f.length;i=new Uint32Array(i.buffer);let S=0;for(let w=0;w<r;w++){for(const E=t+m;t<E;t++){const A=t<v?f[t]:255;i[S++]=A&128?g:d,i[S++]=A&64?g:d,i[S++]=A&32?g:d,i[S++]=A&16?g:d,i[S++]=A&8?g:d,i[S++]=A&4?g:d,i[S++]=A&2?g:d,i[S++]=A&1?g:d}if(y===0)continue;const x=t<v?f[t++]:255;for(let E=0;E<y;E++)i[S++]=x&1<<7-E?g:d}return{srcPos:t,destPos:S}}const Pw=16,Hw=100,I2=15,Fw=10,Iw=1e3,ji=16;function q2(f,t){if(f._removeMirroring)throw new Error("Context is already forwarding operations.");f.__originalSave=f.save,f.__originalRestore=f.restore,f.__originalRotate=f.rotate,f.__originalScale=f.scale,f.__originalTranslate=f.translate,f.__originalTransform=f.transform,f.__originalSetTransform=f.setTransform,f.__originalResetTransform=f.resetTransform,f.__originalClip=f.clip,f.__originalMoveTo=f.moveTo,f.__originalLineTo=f.lineTo,f.__originalBezierCurveTo=f.bezierCurveTo,f.__originalRect=f.rect,f.__originalClosePath=f.closePath,f.__originalBeginPath=f.beginPath,f._removeMirroring=()=>{f.save=f.__originalSave,f.restore=f.__originalRestore,f.rotate=f.__originalRotate,f.scale=f.__originalScale,f.translate=f.__originalTranslate,f.transform=f.__originalTransform,f.setTransform=f.__originalSetTransform,f.resetTransform=f.__originalResetTransform,f.clip=f.__originalClip,f.moveTo=f.__originalMoveTo,f.lineTo=f.__originalLineTo,f.bezierCurveTo=f.__originalBezierCurveTo,f.rect=f.__originalRect,f.closePath=f.__originalClosePath,f.beginPath=f.__originalBeginPath,delete f._removeMirroring},f.save=function(){t.save(),this.__originalSave()},f.restore=function(){t.restore(),this.__originalRestore()},f.translate=function(a,r){t.translate(a,r),this.__originalTranslate(a,r)},f.scale=function(a,r){t.scale(a,r),this.__originalScale(a,r)},f.transform=function(a,r,o,c,h,d){t.transform(a,r,o,c,h,d),this.__originalTransform(a,r,o,c,h,d)},f.setTransform=function(a,r,o,c,h,d){t.setTransform(a,r,o,c,h,d),this.__originalSetTransform(a,r,o,c,h,d)},f.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},f.rotate=function(a){t.rotate(a),this.__originalRotate(a)},f.clip=function(a){t.clip(a),this.__originalClip(a)},f.moveTo=function(i,a){t.moveTo(i,a),this.__originalMoveTo(i,a)},f.lineTo=function(i,a){t.lineTo(i,a),this.__originalLineTo(i,a)},f.bezierCurveTo=function(i,a,r,o,c,h){t.bezierCurveTo(i,a,r,o,c,h),this.__originalBezierCurveTo(i,a,r,o,c,h)},f.rect=function(i,a,r,o){t.rect(i,a,r,o),this.__originalRect(i,a,r,o)},f.closePath=function(){t.closePath(),this.__originalClosePath()},f.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class B2{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,i,a){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,i,a)):(r=this.canvasFactory.create(i,a),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const i=this.cache[t];this.canvasFactory.destroy(i),delete this.cache[t]}}}function Cp(f,t,i,a,r,o,c,h,d,g){const[m,y,v,S,w,x]=Te(f);if(y===0&&v===0){const _=c*m+w,T=Math.round(_),R=h*S+x,D=Math.round(R),k=(c+d)*m+w,M=Math.abs(Math.round(k)-T)||1,L=(h+g)*S+x,H=Math.abs(Math.round(L)-D)||1;return f.setTransform(Math.sign(m),0,0,Math.sign(S),T,D),f.drawImage(t,i,a,r,o,0,0,M,H),f.setTransform(m,y,v,S,w,x),[M,H]}if(m===0&&S===0){const _=h*v+w,T=Math.round(_),R=c*y+x,D=Math.round(R),k=(h+g)*v+w,M=Math.abs(Math.round(k)-T)||1,L=(c+d)*y+x,H=Math.abs(Math.round(L)-D)||1;return f.setTransform(0,Math.sign(y),Math.sign(v),0,T,D),f.drawImage(t,i,a,r,o,0,0,H,M),f.setTransform(m,y,v,S,w,x),[H,M]}f.drawImage(t,i,a,r,o,c,h,d,g);const E=Math.hypot(m,y),A=Math.hypot(v,S);return[E*d,A*g]}function U2(f){const{width:t,height:i}=f;if(t>Iw||i>Iw)return null;const a=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let c=new Uint8Array(o*(i+1)),h,d,g;const m=t+7&-8;let y=new Uint8Array(m*i),v=0;for(const A of f.data){let _=128;for(;_>0;)y[v++]=A&_?0:255,_>>=1}let S=0;for(v=0,y[v]!==0&&(c[0]=1,++S),d=1;d<t;d++)y[v]!==y[v+1]&&(c[d]=y[v]?2:1,++S),v++;for(y[v]!==0&&(c[d]=2,++S),h=1;h<i;h++){v=h*m,g=h*o,y[v-m]!==y[v]&&(c[g]=y[v]?1:8,++S);let A=(y[v]?4:0)+(y[v-m]?8:0);for(d=1;d<t;d++)A=(A>>2)+(y[v+1]?4:0)+(y[v-m+1]?8:0),r[A]&&(c[g+d]=r[A],++S),v++;if(y[v-m]!==y[v]&&(c[g+d]=y[v]?2:4,++S),S>a)return null}for(v=m*(i-1),g=h*o,y[v]!==0&&(c[g]=8,++S),d=1;d<t;d++)y[v]!==y[v+1]&&(c[g+d]=y[v]?4:8,++S),v++;if(y[v]!==0&&(c[g+d]=4,++S),S>a)return null;const w=new Int32Array([0,o,-1,0,-o,0,0,0,1]),x=new Path2D;for(h=0;S&&h<=i;h++){let A=h*o;const _=A+t;for(;A<_&&!c[A];)A++;if(A===_)continue;x.moveTo(A%o,h);const T=A;let R=c[A];do{const D=w[R];do A+=D;while(!c[A]);const k=c[A];k!==5&&k!==10?(R=k,c[A]=0):(R=k&51*R>>4,c[A]&=R>>2|R<<2),x.lineTo(A%o,A/o|0),c[A]||--S}while(T!==A);--h}return y=null,c=null,function(A){A.save(),A.scale(1/t,-1/i),A.translate(0,-i),A.fill(x),A.beginPath(),A.restore()}}class qw{constructor(t,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=g_,this.textMatrixScale=1,this.fontMatrix=y0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=bi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,i])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,i){this.x=t,this.y=i}updatePathMinMax(t,i,a){[i,a]=Dt.applyTransform([i,a],t),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(t,i){const a=Dt.applyTransform(i,t),r=Dt.applyTransform(i.slice(2),t),o=Dt.applyTransform([i[0],i[3]],t),c=Dt.applyTransform([i[2],i[1]],t);this.minX=Math.min(this.minX,a[0],r[0],o[0],c[0]),this.minY=Math.min(this.minY,a[1],r[1],o[1],c[1]),this.maxX=Math.max(this.maxX,a[0],r[0],o[0],c[0]),this.maxY=Math.max(this.maxY,a[1],r[1],o[1],c[1])}updateScalingPathMinMax(t,i){Dt.scaleMinMax(t,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(t,i,a,r,o,c,h,d,g,m){const y=Dt.bezierBoundingBox(i,a,r,o,c,h,d,g,m);m||this.updateRectMinMax(t,y)}getPathBoundingBox(t=Di.FILL,i=null){const a=[this.minX,this.minY,this.maxX,this.maxY];if(t===Di.STROKE){i||ye("Stroke bounding box must include transform.");const r=Dt.singularValueDecompose2dScale(i),o=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;a[0]-=o,a[1]-=c,a[2]+=o,a[3]+=c}return a}updateClipFromPath(){const t=Dt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Di.FILL,i=null){return Dt.intersect(this.clipBox,this.getPathBoundingBox(t,i))}}function Bw(f,t){if(typeof ImageData<"u"&&t instanceof ImageData){f.putImageData(t,0,0);return}const i=t.height,a=t.width,r=i%ji,o=(i-r)/ji,c=r===0?o:o+1,h=f.createImageData(a,ji);let d=0,g;const m=t.data,y=h.data;let v,S,w,x;if(t.kind===Np.GRAYSCALE_1BPP){const E=m.byteLength,A=new Uint32Array(y.buffer,0,y.byteLength>>2),_=A.length,T=a+7>>3,R=4294967295,D=Mi.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(w=v<o?ji:r,g=0,S=0;S<w;S++){const k=E-d;let M=0;const L=k>T?a:k*8-7,H=L&-8;let Y=0,$=0;for(;M<H;M+=8)$=m[d++],A[g++]=$&128?R:D,A[g++]=$&64?R:D,A[g++]=$&32?R:D,A[g++]=$&16?R:D,A[g++]=$&8?R:D,A[g++]=$&4?R:D,A[g++]=$&2?R:D,A[g++]=$&1?R:D;for(;M<L;M++)Y===0&&($=m[d++],Y=128),A[g++]=$&Y?R:D,Y>>=1}for(;g<_;)A[g++]=0;f.putImageData(h,0,v*ji)}}else if(t.kind===Np.RGBA_32BPP){for(S=0,x=a*ji*4,v=0;v<o;v++)y.set(m.subarray(d,d+x)),d+=x,f.putImageData(h,0,S),S+=ji;v<c&&(x=a*r*4,y.set(m.subarray(d,d+x)),f.putImageData(h,0,S))}else if(t.kind===Np.RGB_24BPP)for(w=ji,x=a*w,v=0;v<c;v++){for(v>=o&&(w=r,x=a*w),g=0,S=x;S--;)y[g++]=m[d++],y[g++]=m[d++],y[g++]=m[d++],y[g++]=255;f.putImageData(h,0,v*ji)}else throw new Error(`bad image kind: ${t.kind}`)}function Uw(f,t){if(t.bitmap){f.drawImage(t.bitmap,0,0);return}const i=t.height,a=t.width,r=i%ji,o=(i-r)/ji,c=r===0?o:o+1,h=f.createImageData(a,ji);let d=0;const g=t.data,m=h.data;for(let y=0;y<c;y++){const v=y<o?ji:r;({srcPos:d}=F2({src:g,srcPos:d,dest:m,width:a,height:v,nonBlackColor:0})),f.putImageData(h,0,y*ji)}}function Ah(f,t){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of i)f[a]!==void 0&&(t[a]=f[a]);f.setLineDash!==void 0&&(t.setLineDash(f.getLineDash()),t.lineDashOffset=f.lineDashOffset)}function Rp(f){if(f.strokeStyle=f.fillStyle="#000000",f.fillRule="nonzero",f.globalAlpha=1,f.lineWidth=1,f.lineCap="butt",f.lineJoin="miter",f.miterLimit=10,f.globalCompositeOperation="source-over",f.font="10px sans-serif",f.setLineDash!==void 0&&(f.setLineDash([]),f.lineDashOffset=0),!_i){const{filter:t}=f;t!=="none"&&t!==""&&(f.filter="none")}}function jw(f,t){if(t)return!0;const i=Dt.singularValueDecompose2dScale(f);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*Dr.PDF_TO_CSS_UNITS);return i[0]<=a&&i[1]<=a}const j2=["butt","round","square"],G2=["miter","round","bevel"],X2={},Gw={};var Lr,V0,W0;const iv=class iv{constructor(t,i,a,r,o,{optionalContentConfig:c,markedContentStack:h=null},d,g){z(this,Lr);this.ctx=t,this.current=new qw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=a,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new B2(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,i=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):i}beginDrawing({transform:t,viewport:i,transparency:a=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=h,a){const d=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Te(this.compositeCtx))}this.ctx.save(),Rp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=Te(this.ctx)}executeOperatorList(t,i,a,r){const o=t.argsArray,c=t.fnArray;let h=i||0;const d=o.length;if(d===h)return h;const g=d-h>Fw&&typeof a=="function",m=g?Date.now()+I2:0;let y=0;const v=this.commonObjs,S=this.objs;let w;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,a),h;if(w=c[h],w!==In.dependency)this[w].apply(this,o[h]);else for(const x of o[h]){const E=x.startsWith("g_")?v:S;if(!E.has(x))return E.get(x,a),h}if(h++,h===d)return h;if(g&&++y>Fw){if(Date.now()>m)return a(),h;y=0}}}endDrawing(){N(this,Lr,V0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const i of t.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);t.clear()}this._cachedBitmapsMap.clear(),N(this,Lr,W0).call(this)}_scaleImage(t,i){const a=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(i[0],i[1]),1),c=Math.max(Math.hypot(i[2],i[3]),1),h=a,d=r,g="prescale1",m,y;for(;o>2&&h>1||c>2&&d>1;){let v=h,S=d;o>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/v),c>2&&d>1&&(S=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/S),m=this.cachedCanvases.getCanvas(g,v,S),y=m.context,y.clearRect(0,0,v,S),y.drawImage(t,0,0,h,d,0,0,v,S),t=m.canvas,h=v,d=S,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t){const i=this.ctx,{width:a,height:r}=t,o=this.current.fillColor,c=this.current.patternFill,h=Te(i);let d,g,m,y;if((t.bitmap||t.data)&&t.count>1){const L=t.bitmap||t.data.buffer;g=JSON.stringify(c?h:[h.slice(0,4),o]),d=this._cachedBitmapsMap.get(L),d||(d=new Map,this._cachedBitmapsMap.set(L,d));const H=d.get(g);if(H&&!c){const Y=Math.round(Math.min(h[0],h[2])+h[4]),$=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:H,offsetX:Y,offsetY:$}}m=H}m||(y=this.cachedCanvases.getCanvas("maskCanvas",a,r),Uw(y.context,t));let v=Dt.transform(h,[1/a,0,0,-1/r,0,0]);v=Dt.transform(v,[1,0,0,1,0,-r]);const[S,w,x,E]=Dt.getAxialAlignedBoundingBox([0,0,a,r],v),A=Math.round(x-S)||1,_=Math.round(E-w)||1,T=this.cachedCanvases.getCanvas("fillCanvas",A,_),R=T.context,D=S,k=w;R.translate(-D,-k),R.transform(...v),m||(m=this._scaleImage(y.canvas,Va(R)),m=m.img,d&&c&&d.set(g,m)),R.imageSmoothingEnabled=jw(Te(R),t.interpolate),Cp(R,m,0,0,m.width,m.height,0,0,a,r),R.globalCompositeOperation="source-in";const M=Dt.transform(Va(R),[1,0,0,1,-D,-k]);return R.fillStyle=c?o.getPattern(i,this,M,Di.FILL):o,R.fillRect(0,0,a,r),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(g,T.canvas)),{canvas:T.canvas,offsetX:Math.round(D),offsetY:Math.round(k)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=j2[t]}setLineJoin(t){this.ctx.lineJoin=G2[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,i){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(t),a.lineDashOffset=i)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[i,a]of t)switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(a,t,i);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...Te(this.suspendedCtx)),Ah(this.suspendedCtx,o),q2(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ah(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,i,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,i,a,r){const o=r[0],c=r[1],h=r[2]-o,d=r[3]-c;h===0||d===0||(this.genericComposeSMask(i.context,a,h,d,i.subtype,i.backdrop,i.transferMap,o,c,i.offsetX,i.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(a.canvas,0,0),t.restore())}genericComposeSMask(t,i,a,r,o,c,h,d,g,m,y){let v=t.canvas,S=d-m,w=g-y;if(c){const E=Dt.makeHexColor(...c);if(S<0||w<0||S+a>v.width||w+r>v.height){const A=this.cachedCanvases.getCanvas("maskExtension",a,r),_=A.context;_.drawImage(v,-S,-w),_.globalCompositeOperation="destination-atop",_.fillStyle=E,_.fillRect(0,0,a,r),_.globalCompositeOperation="source-over",v=A.canvas,S=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(S,w,a,r),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=E,t.fillRect(S,w,a,r),t.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?i.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(h));const x=new Path2D;x.rect(d,g,a,r),i.clip(x),i.globalCompositeOperation="destination-in",i.drawImage(v,S,w,a,r,d,g,a,r),i.restore()}save(){this.inSMaskMode?(Ah(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ah(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,i,a,r,o,c){this.ctx.transform(t,i,a,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,i,a){const r=this.ctx,o=this.current;let c=o.x,h=o.y,d,g;const m=Te(r),y=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=y?a.slice(0):null;for(let S=0,w=0,x=t.length;S<x;S++)switch(t[S]|0){case In.rectangle:c=i[w++],h=i[w++];const E=i[w++],A=i[w++],_=c+E,T=h+A;r.moveTo(c,h),E===0||A===0?r.lineTo(_,T):(r.lineTo(_,h),r.lineTo(_,T),r.lineTo(c,T)),y||o.updateRectMinMax(m,[c,h,_,T]),r.closePath();break;case In.moveTo:c=i[w++],h=i[w++],r.moveTo(c,h),y||o.updatePathMinMax(m,c,h);break;case In.lineTo:c=i[w++],h=i[w++],r.lineTo(c,h),y||o.updatePathMinMax(m,c,h);break;case In.curveTo:d=c,g=h,c=i[w+4],h=i[w+5],r.bezierCurveTo(i[w],i[w+1],i[w+2],i[w+3],c,h),o.updateCurvePathMinMax(m,d,g,i[w],i[w+1],i[w+2],i[w+3],c,h,v),w+=6;break;case In.curveTo2:d=c,g=h,r.bezierCurveTo(c,h,i[w],i[w+1],i[w+2],i[w+3]),o.updateCurvePathMinMax(m,d,g,c,h,i[w],i[w+1],i[w+2],i[w+3],v),c=i[w+2],h=i[w+3],w+=4;break;case In.curveTo3:d=c,g=h,c=i[w+2],h=i[w+3],r.bezierCurveTo(i[w],i[w+1],c,h,c,h),o.updateCurvePathMinMax(m,d,g,i[w],i[w+1],c,h,c,h,v),w+=4;break;case In.closePath:r.closePath();break}y&&o.updateScalingPathMinMax(m,v),o.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const i=this.ctx,a=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof a=="object"&&(a!=null&&a.getPattern)?(i.save(),i.strokeStyle=a.getPattern(i,this,Va(i),Di.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(i.save(),i.fillStyle=a.getPattern(i,this,Va(i),Di.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),o&&i.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=X2}eoClip(){this.pendingClip=Gw}beginText(){this.current.textMatrix=g_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,i=this.ctx;if(t===void 0){i.beginPath();return}i.save(),i.beginPath();for(const a of t)i.setTransform(...a.transform),i.translate(a.x,a.y),a.addToPath(i,a.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,i){var m;const a=this.commonObjs.get(t),r=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=a.fontMatrix||y0,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&jt("Invalid font matrix for font "+t),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=a,this.current.fontSize=i,a.isType3Font)return;const o=a.loadedName||"sans-serif",c=((m=a.systemFontInfo)==null?void 0:m.css)||`"${o}", ${a.fallbackName}`;let h="normal";a.black?h="900":a.bold&&(h="bold");const d=a.italic?"italic":"normal";let g=i;i<Pw?g=Pw:i>Hw&&(g=Hw),this.current.fontSizeScale=i/g,this.ctx.font=`${d} ${h} ${g}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,i){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,i){this.setLeading(-i),this.moveText(t,i)}setTextMatrix(t,i,a,r,o,c){this.current.textMatrix=[t,i,a,r,o,c],this.current.textMatrixScale=Math.hypot(t,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,i,a,r){const o=this.ctx,c=this.current,h=c.font,d=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,m=d&bi.FILL_STROKE_MASK,y=!!(d&bi.ADD_TO_PATH_FLAG),v=c.patternFill&&!h.missingFile;let S;(h.disableFontFace||y||v)&&(S=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||v?(o.save(),o.translate(i,a),o.beginPath(),S(o,g),r&&o.setTransform(...r),(m===bi.FILL||m===bi.FILL_STROKE)&&o.fill(),(m===bi.STROKE||m===bi.FILL_STROKE)&&o.stroke(),o.restore()):((m===bi.FILL||m===bi.FILL_STROKE)&&o.fillText(t,i,a),(m===bi.STROKE||m===bi.FILL_STROKE)&&o.strokeText(t,i,a)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Te(o),x:i,y:a,fontSize:g,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const i=t.getImageData(0,0,10,10).data;let a=!1;for(let r=3;r<i.length;r+=4)if(i[r]>0&&i[r]<255){a=!0;break}return Kt(this,"isFontSubpixelAAEnabled",a)}showText(t){const i=this.current,a=i.font;if(a.isType3Font)return this.showType3Text(t);const r=i.fontSize;if(r===0)return;const o=this.ctx,c=i.fontSizeScale,h=i.charSpacing,d=i.wordSpacing,g=i.fontDirection,m=i.textHScale*g,y=t.length,v=a.vertical,S=v?1:-1,w=a.defaultVMetrics,x=r*i.fontMatrix[0],E=i.textRenderingMode===bi.FILL&&!a.disableFontFace&&!i.patternFill;o.save(),o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),g>0?o.scale(m,-1):o.scale(m,1);let A;if(i.patternFill){o.save();const k=i.fillColor.getPattern(o,this,Va(o),Di.FILL);A=Te(o),o.restore(),o.fillStyle=k}let _=i.lineWidth;const T=i.textMatrixScale;if(T===0||_===0){const k=i.textRenderingMode&bi.FILL_STROKE_MASK;(k===bi.STROKE||k===bi.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=T;if(c!==1&&(o.scale(c,c),_/=c),o.lineWidth=_,a.isInvalidPDFjsFont){const k=[];let M=0;for(const L of t)k.push(L.unicode),M+=L.width;o.fillText(k.join(""),0,0),i.x+=M*x*m,o.restore(),this.compose();return}let R=0,D;for(D=0;D<y;++D){const k=t[D];if(typeof k=="number"){R+=S*k*r/1e3;continue}let M=!1;const L=(k.isSpace?d:0)+h,H=k.fontChar,Y=k.accent;let $,it,st=k.width;if(v){const Z=k.vmetric||w,B=-(k.vmetric?Z[1]:st*.5)*x,G=Z[2]*x;st=Z?-Z[0]:st,$=B/c,it=(R+G)/c}else $=R/c,it=0;if(a.remeasure&&st>0){const Z=o.measureText(H).width*1e3/r*c;if(st<Z&&this.isFontSubpixelAAEnabled){const B=st/Z;M=!0,o.save(),o.scale(B,1),$/=B}else st!==Z&&($+=(st-Z)/2e3*r/c)}if(this.contentVisible&&(k.isInFont||a.missingFile)){if(E&&!Y)o.fillText(H,$,it);else if(this.paintChar(H,$,it,A),Y){const Z=$+r*Y.offset.x/c,B=it-r*Y.offset.y/c;this.paintChar(Y.fontChar,Z,B,A)}}const tt=v?st*x-L*g:st*x+L*g;R+=tt,M&&o.restore()}v?i.y-=R:i.x+=R*m,o.restore(),this.compose()}showType3Text(t){const i=this.ctx,a=this.current,r=a.font,o=a.fontSize,c=a.fontDirection,h=r.vertical?1:-1,d=a.charSpacing,g=a.wordSpacing,m=a.textHScale*c,y=a.fontMatrix||y0,v=t.length,S=a.textRenderingMode===bi.INVISIBLE;let w,x,E,A;if(!(S||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...a.textMatrix),i.translate(a.x,a.y),i.scale(m,c),w=0;w<v;++w){if(x=t[w],typeof x=="number"){A=h*x*o/1e3,this.ctx.translate(A,0),a.x+=A*m;continue}const _=(x.isSpace?g:0)+d,T=r.charProcOperatorList[x.operatorListId];if(!T){jt(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),i.scale(o,o),i.transform(...y),this.executeOperatorList(T),this.restore()),E=Dt.applyTransform([x.width,0],y)[0]*o+_,i.translate(E,0),a.x+=E*m}i.restore(),this.processingType3=null}}setCharWidth(t,i){}setCharWidthAndBounds(t,i,a,r,o,c){this.ctx.rect(a,r,o-a,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let i;if(t[0]==="TilingPattern"){const a=t[1],r=this.baseTransform||Te(this.ctx),o={createCanvasGraphics:c=>new iv(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new Y0(t,a,this.ctx,o,r)}else i=this._getPattern(t[1],t[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,i,a){this.ctx.strokeStyle=this.current.strokeColor=Dt.makeHexColor(t,i,a)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,i,a){this.ctx.fillStyle=this.current.fillColor=Dt.makeHexColor(t,i,a),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,i=null){let a;return this.cachedPatterns.has(t)?a=this.cachedPatterns.get(t):(a=H2(this.getObject(t)),this.cachedPatterns.set(t,a)),i&&(a.matrix=i),a}shadingFill(t){if(!this.contentVisible)return;const i=this.ctx;this.save();const a=this._getPattern(t);i.fillStyle=a.getPattern(i,this,Va(i),Di.SHADING);const r=Va(i);if(r){const{width:o,height:c}=i.canvas,[h,d,g,m]=Dt.getAxialAlignedBoundingBox([0,0,o,c],r);this.ctx.fillRect(h,d,g-h,m-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ye("Should not call beginInlineImage")}beginImageData(){ye("Should not call beginImageData")}paintFormXObjectBegin(t,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Te(this.ctx),i)){const a=i[2]-i[0],r=i[3]-i[1];this.ctx.rect(i[0],i[1],a,r),this.current.updateRectMinMax(Te(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||Ig("TODO: Support non-isolated groups."),t.knockout&&jt("Knockout groups not supported.");const a=Te(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Dt.getAxialAlignedBoundingBox(t.bbox,Te(i));const o=[0,0,i.canvas.width,i.canvas.height];r=Dt.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-c,1),g=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,d,g),v=y.context;v.translate(-c,-h),v.transform(...a),t.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(c,h),i.save()),Ah(i,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Te(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=Dt.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],r);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,i,a,r,o){if(N(this,Lr,V0).call(this),Rp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],h=i[3]-i[1];if(o&&this.annotationCanvasMap){a=a.slice(),a[4]-=i[0],a[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=h;const[d,g]=Dt.singularValueDecompose2dScale(Te(this.ctx)),{viewportScale:m}=this,y=Math.ceil(c*this.outputScaleX*m),v=Math.ceil(h*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(y,v);const{canvas:S,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(d,0,0,-g,0,h*g),Rp(this.ctx)}else Rp(this.ctx),this.endPath(),this.ctx.rect(i[0],i[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new qw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),N(this,Lr,W0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const i=t.count;t=this.getObject(t.data,t),t.count=i;const a=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=U2(t)),r.compiled)){r.compiled(a);return}const o=this._createMaskCanvas(t),c=o.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(c,o.offsetX,o.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,i,a=0,r=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const d=Te(h);h.transform(i,a,r,o,0,0);const g=this._createMaskCanvas(t);h.setTransform(1,0,0,1,g.offsetX-d[4],g.offsetY-d[5]);for(let m=0,y=c.length;m<y;m+=2){const v=Dt.transform(d,[i,a,r,o,c[m],c[m+1]]),[S,w]=Dt.applyTransform([0,0],v);h.drawImage(g.canvas,S,w)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:c,width:h,height:d,transform:g}=o,m=this.cachedCanvases.getCanvas("maskCanvas",h,d),y=m.context;y.save();const v=this.getObject(c,o);Uw(y,v),y.globalCompositeOperation="source-in",y.fillStyle=r?a.getPattern(y,this,Va(i),Di.FILL):a,y.fillRect(0,0,h,d),y.restore(),i.save(),i.transform(...g),i.scale(1,-1),Cp(i,m.canvas,0,0,h,d,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const i=this.getObject(t);if(!i){jt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(t,i,a,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){jt("Dependent image isn't ready yet");return}const c=o.width,h=o.height,d=[];for(let g=0,m=r.length;g<m;g+=2)d.push({transform:[i,0,0,a,r[g],r[g+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:i,width:a,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",a,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(i,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const i=t.width,a=t.height,r=this.ctx;if(this.save(),!_i){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/i,-1/a);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",i,a).context;Bw(d,t),o=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(o,Va(r));r.imageSmoothingEnabled=jw(Te(r),t.interpolate),Cp(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-a,i,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,i){if(!this.contentVisible)return;const a=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,c=t.height,d=this.cachedCanvases.getCanvas("inlineImage",o,c).context;Bw(d,t),r=this.applyTransferMapsToCanvas(d)}for(const o of i)a.save(),a.transform(...o.transform),a.scale(1,-1),Cp(a,r,o.x,o.y,o.w,o.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,i){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,i){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===Gw?a.clip("evenodd"):a.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Te(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const i=Math.abs(t[0]*t[3]-t[2]*t[1]),a=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(a,r)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:i,b:a,c:r,d:o}=this.ctx.getTransform();let c,h;if(a===0&&r===0){const d=Math.abs(i),g=Math.abs(o);if(d===g)if(t===0)c=h=1/d;else{const m=d*t;c=h=m<1?1/m:1}else if(t===0)c=1/d,h=1/g;else{const m=d*t,y=g*t;c=m<1?1/m:1,h=y<1?1/y:1}}else{const d=Math.abs(i*o-a*r),g=Math.hypot(i,a),m=Math.hypot(r,o);if(t===0)c=m/d,h=g/d;else{const y=t*d;c=m>y?m/y:1,h=g>y?g/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:i}=this,{lineWidth:a}=this.current,[r,o]=this.getScaleForStroking();if(i.lineWidth=a||1,r===1&&o===1){i.stroke();return}const c=i.getLineDash();if(t&&i.save(),i.scale(r,o),c.length>0){const h=Math.max(r,o);i.setLineDash(c.map(d=>d/h)),i.lineDashOffset/=h}i.stroke(),t&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Lr=new WeakSet,V0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},W0=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const i=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}};let cc=iv;for(const f in In)cc.prototype[f]!==void 0&&(cc.prototype[In[f]]=cc.prototype[f]);var fd,pd;class ws{static get workerPort(){return u(this,fd)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");O(this,fd,t)}static get workerSrc(){return u(this,pd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");O(this,pd,t)}}fd=new WeakMap,pd=new WeakMap,z(ws,fd,null),z(ws,pd,"");const Dp={DATA:1,ERROR:2},Fe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Zi(f){switch(f instanceof Error||typeof f=="object"&&f!==null||ye('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),f.name){case"AbortException":return new gl(f.message);case"MissingPDFException":return new pl(f.message);case"PasswordException":return new v0(f.message,f.code);case"UnexpectedResponseException":return new qg(f.message,f.status);case"UnknownErrorException":return new A0(f.message,f.details);default:return new A0(f.message,f.toString())}}var xc,Ln,J_,tE,eE,Up;class Lh{constructor(t,i,a){z(this,Ln);z(this,xc,new AbortController);this.sourceName=t,this.targetName=i,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),a.addEventListener("message",N(this,Ln,J_).bind(this),{signal:u(this,xc).signal})}on(t,i){const a=this.actionHandler;if(a[t])throw new Error(`There is already an actionName called "${t}"`);a[t]=i}send(t,i,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:i},a)}sendWithPromise(t,i,a){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:i},a)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,i,a,r){const o=this.streamId++,c=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:h,action:t,streamId:o,data:i,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,d.postMessage({sourceName:c,targetName:h,stream:Fe.PULL,streamId:o,desiredSize:g.desiredSize}),m.promise},cancel:g=>{$e(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:c,targetName:h,stream:Fe.CANCEL,streamId:o,reason:Zi(g)}),m.promise}},a)}destroy(){var t;(t=u(this,xc))==null||t.abort(),O(this,xc,null)}}xc=new WeakMap,Ln=new WeakSet,J_=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){N(this,Ln,eE).call(this,t);return}if(t.callback){const a=t.callbackId,r=this.callbackCapabilities[a];if(!r)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],t.callback===Dp.DATA)r.resolve(t.data);else if(t.callback===Dp.ERROR)r.reject(Zi(t.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[t.action];if(!i)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const a=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(c){c(i(t.data))}).then(function(c){o.postMessage({sourceName:a,targetName:r,callback:Dp.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:a,targetName:r,callback:Dp.ERROR,callbackId:t.callbackId,reason:Zi(c)})});return}if(t.streamId){N(this,Ln,tE).call(this,t);return}i(t.data)},tE=function(t){const i=t.streamId,a=this.sourceName,r=t.sourceName,o=this.comObj,c=this,h=this.actionHandler[t.action],d={enqueue(g,m=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:a,targetName:r,stream:Fe.ENQUEUE,streamId:i,chunk:g},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:a,targetName:r,stream:Fe.CLOSE,streamId:i}),delete c.streamSinks[i])},error(g){$e(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:a,targetName:r,stream:Fe.ERROR,streamId:i,reason:Zi(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[i]=d,new Promise(function(g){g(h(t.data,d))}).then(function(){o.postMessage({sourceName:a,targetName:r,stream:Fe.START_COMPLETE,streamId:i,success:!0})},function(g){o.postMessage({sourceName:a,targetName:r,stream:Fe.START_COMPLETE,streamId:i,reason:Zi(g)})})},eE=function(t){const i=t.streamId,a=this.sourceName,r=t.sourceName,o=this.comObj,c=this.streamControllers[i],h=this.streamSinks[i];switch(t.stream){case Fe.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Zi(t.reason));break;case Fe.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Zi(t.reason));break;case Fe.PULL:if(!h){o.postMessage({sourceName:a,targetName:r,stream:Fe.PULL_COMPLETE,streamId:i,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(d){var g;d((g=h.onPull)==null?void 0:g.call(h))}).then(function(){o.postMessage({sourceName:a,targetName:r,stream:Fe.PULL_COMPLETE,streamId:i,success:!0})},function(d){o.postMessage({sourceName:a,targetName:r,stream:Fe.PULL_COMPLETE,streamId:i,reason:Zi(d)})});break;case Fe.ENQUEUE:if($e(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Fe.CLOSE:if($e(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),N(this,Ln,Up).call(this,c,i);break;case Fe.ERROR:$e(c,"error should have stream controller"),c.controller.error(Zi(t.reason)),N(this,Ln,Up).call(this,c,i);break;case Fe.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Zi(t.reason)),N(this,Ln,Up).call(this,c,i);break;case Fe.CANCEL:if(!h)break;new Promise(function(d){var g;d((g=h.onCancel)==null?void 0:g.call(h,Zi(t.reason)))}).then(function(){o.postMessage({sourceName:a,targetName:r,stream:Fe.CANCEL_COMPLETE,streamId:i,success:!0})},function(d){o.postMessage({sourceName:a,targetName:r,stream:Fe.CANCEL_COMPLETE,streamId:i,reason:Zi(d)})}),h.sinkCapability.reject(Zi(t.reason)),h.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},Up=async function(t,i){var a,r,o;await Promise.allSettled([(a=t.startCall)==null?void 0:a.promise,(r=t.pullCall)==null?void 0:r.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[i]};var Lo,gd;class Y2{constructor({parsedData:t,rawData:i}){z(this,Lo);z(this,gd);O(this,Lo,t),O(this,gd,i)}getRaw(){return u(this,gd)}get(t){return u(this,Lo).get(t)??null}getAll(){return Uy(u(this,Lo))}has(t){return u(this,Lo).has(t)}}Lo=new WeakMap,gd=new WeakMap;const ac=Symbol("INTERNAL");var md,bd,yd,Tc;class V2{constructor(t,{name:i,intent:a,usage:r,rbGroups:o}){z(this,md,!1);z(this,bd,!1);z(this,yd,!1);z(this,Tc,!0);O(this,md,!!(t&ln.DISPLAY)),O(this,bd,!!(t&ln.PRINT)),this.name=i,this.intent=a,this.usage=r,this.rbGroups=o}get visible(){if(u(this,yd))return u(this,Tc);if(!u(this,Tc))return!1;const{print:t,view:i}=this.usage;return u(this,md)?(i==null?void 0:i.viewState)!=="OFF":u(this,bd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,i,a=!1){t!==ac&&ye("Internal method `_setVisible` called."),O(this,yd,a),O(this,Tc,i)}}md=new WeakMap,bd=new WeakMap,yd=new WeakMap,Tc=new WeakMap;var fr,re,Cc,Rc,vd,$0;class W2{constructor(t,i=ln.DISPLAY){z(this,vd);z(this,fr,null);z(this,re,new Map);z(this,Cc,null);z(this,Rc,null);if(this.renderingIntent=i,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,O(this,Rc,t.order);for(const a of t.groups)u(this,re).set(a.id,new V2(i,a));if(t.baseState==="OFF")for(const a of u(this,re).values())a._setVisible(ac,!1);for(const a of t.on)u(this,re).get(a)._setVisible(ac,!0);for(const a of t.off)u(this,re).get(a)._setVisible(ac,!1);O(this,Cc,this.getHash())}}isVisible(t){if(u(this,re).size===0)return!0;if(!t)return Ig("Optional content group not defined."),!0;if(t.type==="OCG")return u(this,re).has(t.id)?u(this,re).get(t.id).visible:(jt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return N(this,vd,$0).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const i of t.ids){if(!u(this,re).has(i))return jt(`Optional content group not found: ${i}`),!0;if(u(this,re).get(i).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const i of t.ids){if(!u(this,re).has(i))return jt(`Optional content group not found: ${i}`),!0;if(!u(this,re).get(i).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const i of t.ids){if(!u(this,re).has(i))return jt(`Optional content group not found: ${i}`),!0;if(!u(this,re).get(i).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const i of t.ids){if(!u(this,re).has(i))return jt(`Optional content group not found: ${i}`),!0;if(u(this,re).get(i).visible)return!1}return!0}return jt(`Unknown optional content policy ${t.policy}.`),!0}return jt(`Unknown group type ${t.type}.`),!0}setVisibility(t,i=!0,a=!0){var o;const r=u(this,re).get(t);if(!r){jt(`Optional content group not found: ${t}`);return}if(a&&i&&r.rbGroups.length)for(const c of r.rbGroups)for(const h of c)h!==t&&((o=u(this,re).get(h))==null||o._setVisible(ac,!1,!0));r._setVisible(ac,!!i,!0),O(this,fr,null)}setOCGState({state:t,preserveRB:i}){let a;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":a=r;continue}const o=u(this,re).get(r);if(o)switch(a){case"ON":this.setVisibility(r,!0,i);break;case"OFF":this.setVisibility(r,!1,i);break;case"Toggle":this.setVisibility(r,!o.visible,i);break}}O(this,fr,null)}get hasInitialVisibility(){return u(this,Cc)===null||this.getHash()===u(this,Cc)}getOrder(){return u(this,re).size?u(this,Rc)?u(this,Rc).slice():[...u(this,re).keys()]:null}getGroups(){return u(this,re).size>0?Uy(u(this,re)):null}getGroup(t){return u(this,re).get(t)||null}getHash(){if(u(this,fr)!==null)return u(this,fr);const t=new U_;for(const[i,a]of u(this,re))t.update(`${i}:${a.visible}`);return O(this,fr,t.hexdigest())}}fr=new WeakMap,re=new WeakMap,Cc=new WeakMap,Rc=new WeakMap,vd=new WeakSet,$0=function(t){const i=t.length;if(i<2)return!0;const a=t[0];for(let r=1;r<i;r++){const o=t[r];let c;if(Array.isArray(o))c=N(this,vd,$0).call(this,o);else if(u(this,re).has(o))c=u(this,re).get(o).visible;else return jt(`Optional content group not found: ${o}`),!0;switch(a){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return a==="And"};class $2{constructor(t,{disableRange:i=!1,disableStream:a=!1}){$e(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!a,this._isRangeSupported=!i,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,g)=>{this._onReceiveData({begin:d,chunk:g})}),t.addProgressListener((d,g)=>{this._onProgress({loaded:d,total:g})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:i}){const a=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(a),!0)});$e(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var i,a,r,o;t.total===void 0?(a=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||a.call(i,{loaded:t.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const i=this._rangeReaders.indexOf(t);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){$e(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new K2(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const a=new Q2(this,t,i);return this._pdfDataRangeTransport.requestDataRange(t,i),this._rangeReaders.push(a),a}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const a of this._rangeReaders.slice(0))a.cancel(t);this._pdfDataRangeTransport.abort()}}class K2{constructor(t,i,a=!1,r=null){this._stream=t,this._done=a||!1,this._filename=Xy(r)?r:null,this._queuedChunks=i||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Q2{constructor(t,i,a){this._stream=t,this._begin=i,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Z2(f){let t=!0,i=a("filename\\*","i").exec(f);if(i){i=i[1];let m=h(i);return m=unescape(m),m=d(m),m=g(m),o(m)}if(i=c(f),i){const m=g(i);return o(m)}if(i=a("filename","i").exec(f),i){i=i[1];let m=h(i);return m=g(m),o(m)}function a(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(m,{fatal:!0}),S=Bg(y);y=v.decode(S),t=!1}catch{}}return y}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const y=[];let v;const S=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=S.exec(m))!==null;){let[,x,E,A]=v;if(x=parseInt(x,10),x in y){if(x===0)break;continue}y[x]=[E,A]}const w=[];for(let x=0;x<y.length&&x in y;++x){let[E,A]=y[x];A=h(A),E&&(A=unescape(A),x===0&&(A=d(A))),w.push(A)}return w.join("")}function h(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let v=0;v<y.length;++v){const S=y[v].indexOf('"');S!==-1&&(y[v]=y[v].slice(0,S),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function d(m){const y=m.indexOf("'");if(y===-1)return m;const v=m.slice(0,y),w=m.slice(y+1).replace(/^[^']*'/,"");return r(v,w)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,S,w){if(S==="q"||S==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,E){return String.fromCharCode(parseInt(E,16))}),r(v,w);try{w=atob(w)}catch{}return r(v,w)})}return""}function Ky(f,t){const i=new Headers;if(!f||!t||typeof t!="object")return i;for(const a in t){const r=t[a];r!==void 0&&i.append(a,r)}return i}function Qy({responseHeaders:f,isHttp:t,rangeChunkSize:i,disableRange:a}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(f.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*i)||a||!t||f.get("Accept-Ranges")!=="bytes"||(f.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Zy(f){const t=f.get("Content-Disposition");if(t){let i=Z2(t);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(Xy(i))return i}return null}function Gg(f,t){return f===404||f===0&&t.startsWith("file:")?new pl('Missing PDF "'+t+'".'):new qg(`Unexpected server response (${f}) while retrieving PDF "${t}".`,f)}function iE(f){return f===200||f===206}function nE(f,t,i){return{method:"GET",headers:f,signal:i.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function aE(f){return f instanceof Uint8Array?f.buffer:f instanceof ArrayBuffer?f:(jt(`getArrayBuffer - unexpected data format: ${f}`),new Uint8Array(f).buffer)}class Xw{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Ky(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return $e(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new J2(this),this._fullRequestReader}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const a=new tD(this,t,i);return this._rangeRequestReaders.push(a),a}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const a of this._rangeRequestReaders.slice(0))a.cancel(t)}}class J2{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const i=t.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const a=new Headers(t.headers),r=i.url;fetch(r,nE(a,this._withCredentials,this._abortController)).then(o=>{if(!iE(o.status))throw Gg(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:h,suggestedLength:d}=Qy({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=Zy(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new gl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._headersCapability.promise;const{value:t,done:i}=await this._reader.read();return i?{value:t,done:i}:(this._loaded+=t.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:aE(t),done:!1})}cancel(t){var i;(i=this._reader)==null||i.cancel(t),this._abortController.abort()}}class tD{constructor(t,i,a){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${i}-${a-1}`);const c=r.url;fetch(c,nE(o,this._withCredentials,this._abortController)).then(h=>{if(!iE(h.status))throw Gg(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._readCapability.promise;const{value:t,done:i}=await this._reader.read();return i?{value:t,done:i}:(this._loaded+=t.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:aE(t),done:!1})}cancel(t){var i;(i=this._reader)==null||i.cancel(t),this._abortController.abort()}}const g0=200,m0=206;function eD(f){const t=f.response;return typeof t!="string"?t:Bg(t).buffer}class iD{constructor({url:t,httpHeaders:i,withCredentials:a}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Ky(this.isHttp,i),this.withCredentials=a||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,i,a){const r={begin:t,end:i};for(const o in a)r[o]=a[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const i=new XMLHttpRequest,a=this.currXhrId++,r=this.pendingRequests[a]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[o,c]of this.headers)i.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(i.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=m0):r.expectedStatus=g0,i.responseType="arraybuffer",t.onError&&(i.onerror=function(o){t.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,a),i.onprogress=this.onProgress.bind(this,a),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,i.send(null),a}onProgress(t,i){var r;const a=this.pendingRequests[t];a&&((r=a.onProgress)==null||r.call(a,i))}onStateChange(t,i){var d,g,m;const a=this.pendingRequests[t];if(!a)return;const r=a.xhr;if(r.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(d=a.onError)==null||d.call(a,r.status);return}const o=r.status||g0;if(!(o===g0&&a.expectedStatus===m0)&&o!==a.expectedStatus){(g=a.onError)==null||g.call(a,r.status);return}const h=eD(r);if(o===m0){const y=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);a.onDone({begin:parseInt(v[1],10),chunk:h})}else h?a.onDone({begin:0,chunk:h}):(m=a.onError)==null||m.call(a,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const i=this.pendingRequests[t].xhr;delete this.pendingRequests[t],i.abort()}}class nD{constructor(t){this._source=t,this._manager=new iD(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const i=this._rangeRequestReaders.indexOf(t);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return $e(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new aD(this._manager,this._source),this._fullRequestReader}getRangeReader(t,i){const a=new sD(this._manager,t,i);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const a of this._rangeRequestReaders.slice(0))a.cancel(t)}}class aD{constructor(t,i){this._manager=t;const a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=t.requestFull(a),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,i=this._manager.getRequestXhr(t),a=new Headers(i.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...d]=c.split(": ");return[h,d.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=Qy({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Zy(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Gg(t,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var i;(i=this.onProgress)==null||i.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class sD{constructor(t,i,a){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(i,a,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const i=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Gg(t,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rD=/^[a-z][a-z0-9\-+.]+:/i;function oD(f){if(rD.test(f))return new URL(f);const t=Mr.get("url");return new URL(t.pathToFileURL(f))}function sE(f,t,i){return f.protocol==="http:"?Mr.get("http").request(f,{headers:t},i):Mr.get("https").request(f,{headers:t},i)}class lD{constructor(t){this.source=t,this.url=oD(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Ky(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return $e(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new hD(this):new cD(this),this._fullRequestReader}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const a=this.isFsUrl?new dD(this,t,i):new uD(this,t,i);return this._rangeRequestReaders.push(a),a}cancelAllRequests(t){var i;(i=this._fullRequestReader)==null||i.cancel(t);for(const a of this._rangeRequestReaders.slice(0))a.cancel(t)}}class rE{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=t.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new gl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class oE{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class cD extends rE{constructor(t){super(t);const i=Object.fromEntries(t.headers),a=r=>{if(r.statusCode===404){const d=new pl(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=Qy({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=Zy(o)};this._request=sE(this._url,i,a),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class uD extends oE{constructor(t,i,a){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${i}-${a-1}`;const o=c=>{if(c.statusCode===404){const h=new pl(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=sE(this._url,r,o),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class hD extends rE{constructor(t){super(t);const i=Mr.get("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=new pl(`Missing PDF "${this._url}".`)),this._storedError=a,this._headersCapability.reject(a)})}}class dD extends oE{constructor(t,i,a){super(t);const r=Mr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:i,end:a-1}))}}const fD=1e5,Fi=30,pD=.8;var Kw,pr,Bi,Ad,Sd,ko,as,wd,_d,No,Dc,Mc,gr,Oc,Ed,Lc,zo,xd,Td,Po,Ho,Cd,mr,kc,Ts,lE,cE,K0,un,jp,Q0,uE,hE;const Xe=class Xe{constructor({textContentSource:t,container:i,viewport:a}){z(this,Ts);z(this,pr,Promise.withResolvers());z(this,Bi,null);z(this,Ad,!1);z(this,Sd,!!((Kw=globalThis.FontInspector)!=null&&Kw.enabled));z(this,ko,null);z(this,as,null);z(this,wd,0);z(this,_d,0);z(this,No,null);z(this,Dc,null);z(this,Mc,0);z(this,gr,0);z(this,Oc,Object.create(null));z(this,Ed,[]);z(this,Lc,null);z(this,zo,[]);z(this,xd,new WeakMap);z(this,Td,null);var d;if(t instanceof ReadableStream)O(this,Lc,t);else if(typeof t=="object")O(this,Lc,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');O(this,Bi,O(this,Dc,i)),O(this,gr,a.scale*(globalThis.devicePixelRatio||1)),O(this,Mc,a.rotation),O(this,as,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:c,pageY:h}=a.rawDims;O(this,Td,[1,0,0,-1,-c,h+o]),O(this,_d,r),O(this,wd,o),N(d=Xe,un,uE).call(d),cl(i,a),u(this,pr).promise.finally(()=>{u(Xe,kc).delete(this),O(this,as,null),O(this,Oc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:i}=Mi.platform;return Kt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&i?"Calibri, ":""}sans-serif`],["monospace",`${t&&i?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{u(this,No).read().then(({value:i,done:a})=>{if(a){u(this,pr).resolve();return}u(this,ko)??O(this,ko,i.lang),Object.assign(u(this,Oc),i.styles),N(this,Ts,lE).call(this,i.items),t()},u(this,pr).reject)};return O(this,No,u(this,Lc).getReader()),u(Xe,kc).add(this),t(),u(this,pr).promise}update({viewport:t,onBefore:i=null}){var o;const a=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==u(this,Mc)&&(i==null||i(),O(this,Mc,r),cl(u(this,Dc),{rotation:r})),a!==u(this,gr)){i==null||i(),O(this,gr,a);const c={div:null,properties:null,ctx:N(o=Xe,un,jp).call(o,u(this,ko))};for(const h of u(this,zo))c.properties=u(this,xd).get(h),c.div=h,N(this,Ts,K0).call(this,c)}}cancel(){var i;const t=new gl("TextLayer task cancelled.");(i=u(this,No))==null||i.cancel(t).catch(()=>{}),O(this,No,null),u(this,pr).reject(t)}get textDivs(){return u(this,zo)}get textContentItemsStr(){return u(this,Ed)}static cleanup(){if(!(u(this,kc).size>0)){u(this,Po).clear();for(const{canvas:t}of u(this,Ho).values())t.remove();u(this,Ho).clear()}}};pr=new WeakMap,Bi=new WeakMap,Ad=new WeakMap,Sd=new WeakMap,ko=new WeakMap,as=new WeakMap,wd=new WeakMap,_d=new WeakMap,No=new WeakMap,Dc=new WeakMap,Mc=new WeakMap,gr=new WeakMap,Oc=new WeakMap,Ed=new WeakMap,Lc=new WeakMap,zo=new WeakMap,xd=new WeakMap,Td=new WeakMap,Po=new WeakMap,Ho=new WeakMap,Cd=new WeakMap,mr=new WeakMap,kc=new WeakMap,Ts=new WeakSet,lE=function(t){var r,o;if(u(this,Ad))return;(o=u(this,as)).ctx??(o.ctx=N(r=Xe,un,jp).call(r,u(this,ko)));const i=u(this,zo),a=u(this,Ed);for(const c of t){if(i.length>fD){jt("Ignoring additional textDivs for performance reasons."),O(this,Ad,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=u(this,Bi);O(this,Bi,document.createElement("span")),u(this,Bi).classList.add("markedContent"),c.id!==null&&u(this,Bi).setAttribute("id",`${c.id}`),h.append(u(this,Bi))}else c.type==="endMarkedContent"&&O(this,Bi,u(this,Bi).parentNode);continue}a.push(c.str),N(this,Ts,cE).call(this,c)}},cE=function(t){var x;const i=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};u(this,zo).push(i);const r=Dt.transform(u(this,Td),t.transform);let o=Math.atan2(r[1],r[0]);const c=u(this,Oc)[t.fontName];c.vertical&&(o+=Math.PI/2);let h=u(this,Sd)&&c.fontSubstitution||c.fontFamily;h=Xe.fontFamilyMap.get(h)||h;const d=Math.hypot(r[2],r[3]),g=d*N(x=Xe,un,hE).call(x,h,u(this,ko));let m,y;o===0?(m=r[4],y=r[5]-g):(m=r[4]+g*Math.sin(o),y=r[5]-g*Math.cos(o));const v="calc(var(--scale-factor)*",S=i.style;u(this,Bi)===u(this,Dc)?(S.left=`${(100*m/u(this,_d)).toFixed(2)}%`,S.top=`${(100*y/u(this,wd)).toFixed(2)}%`):(S.left=`${v}${m.toFixed(2)}px)`,S.top=`${v}${y.toFixed(2)}px)`),S.fontSize=`${v}${(u(Xe,mr)*d).toFixed(2)}px)`,S.fontFamily=h,a.fontSize=d,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,u(this,Sd)&&(i.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(a.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const E=Math.abs(t.transform[0]),A=Math.abs(t.transform[3]);E!==A&&Math.max(E,A)/Math.min(E,A)>1.5&&(w=!0)}if(w&&(a.canvasWidth=c.vertical?t.height:t.width),u(this,xd).set(i,a),u(this,as).div=i,u(this,as).properties=a,N(this,Ts,K0).call(this,u(this,as)),a.hasText&&u(this,Bi).append(i),a.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),u(this,Bi).append(E)}},K0=function(t){var h;const{div:i,properties:a,ctx:r}=t,{style:o}=i;let c="";if(u(Xe,mr)>1&&(c=`scale(${1/u(Xe,mr)})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:d}=o,{canvasWidth:g,fontSize:m}=a;N(h=Xe,un,Q0).call(h,r,m*u(this,gr),d);const{width:y}=r.measureText(i.textContent);y>0&&(c=`scaleX(${g*u(this,gr)/y}) ${c}`)}a.angle!==0&&(c=`rotate(${a.angle}deg) ${c}`),c.length>0&&(o.transform=c)},un=new WeakSet,jp=function(t=null){let i=u(this,Ho).get(t||(t=""));if(!i){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=t,document.body.append(a),i=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Ho).set(t,i),u(this,Cd).set(i,{size:0,family:""})}return i},Q0=function(t,i,a){const r=u(this,Cd).get(t);i===r.size&&a===r.family||(t.font=`${i}px ${a}`,r.size=i,r.family=a)},uE=function(){if(u(this,mr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),O(this,mr,t.getBoundingClientRect().height),t.remove()},hE=function(t,i){const a=u(this,Po).get(t);if(a)return a;const r=N(this,un,jp).call(this,i);r.canvas.width=r.canvas.height=Fi,N(this,un,Q0).call(this,r,Fi,t);const o=r.measureText("");let c=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);if(c){const m=c/(c+h);return u(this,Po).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,Fi,Fi),r.strokeText("g",0,0);let d=r.getImageData(0,0,Fi,Fi).data;h=0;for(let m=d.length-1-3;m>=0;m-=4)if(d[m]>0){h=Math.ceil(m/4/Fi);break}r.clearRect(0,0,Fi,Fi),r.strokeText("A",0,Fi),d=r.getImageData(0,0,Fi,Fi).data,c=0;for(let m=0,y=d.length;m<y;m+=4)if(d[m]>0){c=Fi-Math.floor(m/4/Fi);break}r.canvas.width=r.canvas.height=0;const g=c?c/(c+h):pD;return u(this,Po).set(t,g),g},z(Xe,un),z(Xe,Po,new Map),z(Xe,Ho,new Map),z(Xe,Cd,new WeakMap),z(Xe,mr,null),z(Xe,kc,new Set);let Gh=Xe;class Xh{static textContent(t){const i=[],a={items:i,styles:Object.create(null)};function r(o){var d;if(!o)return;let c=null;const h=o.name;if(h==="#text")c=o.value;else if(Xh.shouldBuildText(h))(d=o==null?void 0:o.attributes)!=null&&d.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&i.push({str:c}),!!o.children)for(const g of o.children)r(g)}return r(t),a}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const gD=65536,mD=100,bD=5e3,yD=_i?M2:C2,vD=_i?O2:V_,AD=_i?D2:R2,SD=_i?L2:Q_;function wD(f={}){typeof f=="string"||f instanceof URL?f={url:f}:(f instanceof ArrayBuffer||ArrayBuffer.isView(f))&&(f={data:f});const t=new Z0,{docId:i}=t,a=f.url?_D(f.url):null,r=f.data?ED(f.data):null,o=f.httpHeaders||null,c=f.withCredentials===!0,h=f.password??null,d=f.range instanceof dE?f.range:null,g=Number.isInteger(f.rangeChunkSize)&&f.rangeChunkSize>0?f.rangeChunkSize:gD;let m=f.worker instanceof uc?f.worker:null;const y=f.verbosity,v=typeof f.docBaseUrl=="string"&&!jg(f.docBaseUrl)?f.docBaseUrl:null,S=typeof f.cMapUrl=="string"?f.cMapUrl:null,w=f.cMapPacked!==!1,x=f.CMapReaderFactory||vD,E=typeof f.standardFontDataUrl=="string"?f.standardFontDataUrl:null,A=f.StandardFontDataFactory||SD,_=f.stopAtErrors!==!0,T=Number.isInteger(f.maxImageSize)&&f.maxImageSize>-1?f.maxImageSize:-1,R=f.isEvalSupported!==!1,D=typeof f.isOffscreenCanvasSupported=="boolean"?f.isOffscreenCanvasSupported:!_i,k=typeof f.isChrome=="boolean"?f.isChrome:!Mi.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),M=Number.isInteger(f.canvasMaxAreaInBytes)?f.canvasMaxAreaInBytes:-1,L=typeof f.disableFontFace=="boolean"?f.disableFontFace:_i,H=f.fontExtraProperties===!0,Y=f.enableXfa===!0,$=f.ownerDocument||globalThis.document,it=f.disableRange===!0,st=f.disableStream===!0,tt=f.disableAutoFetch===!0,Z=f.pdfBug===!0,B=f.CanvasFactory||yD,G=f.FilterFactory||AD,K=f.enableHWA===!0,ot=d?d.length:f.length??NaN,F=typeof f.useSystemFonts=="boolean"?f.useSystemFonts:!_i&&!L,I=typeof f.useWorkerFetch=="boolean"?f.useWorkerFetch:x===V_&&A===Q_&&S&&E&&xh(S,document.baseURI)&&xh(E,document.baseURI);f.canvasFactory&&kw("`canvasFactory`-instance option, please use `CanvasFactory` instead."),f.filterFactory&&kw("`filterFactory`-instance option, please use `FilterFactory` instead.");const at=null;a2(y);const ht={canvasFactory:new B({ownerDocument:$,enableHWA:K}),filterFactory:new G({docId:i,ownerDocument:$}),cMapReaderFactory:I?null:new x({baseUrl:S,isCompressed:w}),standardFontDataFactory:I?null:new A({baseUrl:E})};if(!m){const vt={verbosity:y,port:ws.workerPort};m=vt.port?uc.fromPort(vt):new uc(vt),t._worker=m}const lt={docId:i,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:tt,rangeChunkSize:g,length:ot,docBaseUrl:v,enableXfa:Y,evaluatorOptions:{maxImageSize:T,disableFontFace:L,ignoreErrors:_,isEvalSupported:R,isOffscreenCanvasSupported:D,isChrome:k,canvasMaxAreaInBytes:M,fontExtraProperties:H,useSystemFonts:F,cMapUrl:I?S:null,standardFontDataUrl:I?E:null}},yt={disableFontFace:L,fontExtraProperties:H,ownerDocument:$,pdfBug:Z,styleElement:at,loadingParams:{disableAutoFetch:tt,enableXfa:Y}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const vt=m.messageHandler.sendWithPromise("GetDocRequest",lt,r?[r.buffer]:null);let At;if(d)At=new $2(d,{disableRange:it,disableStream:st});else if(!r){if(!a)throw new Error("getDocument - no `url` parameter provided.");let nt;_i?nt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&xh(a)?Xw:lD:nt=xh(a)?Xw:nD,At=new nt({url:a,length:ot,httpHeaders:o,withCredentials:c,rangeChunkSize:g,disableRange:it,disableStream:st})}return vt.then(nt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const dt=new Lh(i,nt,m.port),bt=new RD(dt,t,At,yt,ht);t._transport=bt,dt.send("Ready",null)})}).catch(t._capability.reject),t}function _D(f){if(f instanceof URL)return f.href;try{return new URL(f,window.location).href}catch{if(_i&&typeof f=="string")return f}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ED(f){if(_i&&typeof Buffer<"u"&&f instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(f instanceof Uint8Array&&f.byteLength===f.buffer.byteLength)return f;if(typeof f=="string")return Bg(f);if(f instanceof ArrayBuffer||ArrayBuffer.isView(f)||typeof f=="object"&&!isNaN(f==null?void 0:f.length))return new Uint8Array(f);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Yw(f){return typeof f=="object"&&Number.isInteger(f==null?void 0:f.num)&&f.num>=0&&Number.isInteger(f==null?void 0:f.gen)&&f.gen>=0}var Tg;const Cg=class Cg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ti(Cg,Tg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,i,a;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(r){throw(a=this._worker)!=null&&a.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Tg=new WeakMap,z(Cg,Tg,0);let Z0=Cg;class dE{constructor(t,i,a=!1,r=null){this.length=t,this.initialData=i,this.progressiveDone=a,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,i){for(const a of this._rangeListeners)a(t,i)}onDataProgress(t,i){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(t,i)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,i){ye("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xD{constructor(t,i){this._pdfInfo=t,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Kt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var br,ss,Mn,sc,Gp;class TD{constructor(t,i,a,r=!1){z(this,Mn);z(this,br,null);z(this,ss,!1);this._pageIndex=t,this._pageInfo=i,this._transport=a,this._stats=r?new Lw:null,this._pdfBug=r,this.commonObjs=a.commonObjs,this.objs=new fE,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:i=this.rotate,offsetX:a=0,offsetY:r=0,dontFlip:o=!1}={}){return new lf({viewBox:this.view,scale:t,rotation:i,offsetX:a,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Kt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:i,intent:a="display",annotationMode:r=er.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:y=!1}){var R,D;(R=this._stats)==null||R.time("Overall");const v=this._transport.getRenderingIntent(a,r,m,y),{renderingIntent:S,cacheKey:w}=v;O(this,ss,!1),N(this,Mn,Gp).call(this),h||(h=this._transport.getOptionalContentConfig(S));let x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const E=!!(S&ln.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(v));const A=k=>{var M;x.renderTasks.delete(_),(this._maybeCleanupAfterRender||E)&&O(this,ss,!0),N(this,Mn,sc).call(this,!E),k?(_.capability.reject(k),this._abortOperatorList({intentState:x,reason:k instanceof Error?k:new Error(k)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(M=globalThis.Stats)!=null&&M.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new ty({callback:A,params:{canvasContext:t,viewport:i,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:g});(x.renderTasks||(x.renderTasks=new Set)).add(_);const T=_.task;return Promise.all([x.displayReadyCapability.promise,h]).then(([k,M])=>{var L;if(this.destroyed){A();return}if((L=this._stats)==null||L.time("Rendering"),!(M.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:k,optionalContentConfig:M}),_.operatorListChanged()}).catch(A),T}getOperatorList({intent:t="display",annotationMode:i=er.ENABLE,printAnnotationStorage:a=null,isEditing:r=!1}={}){var g;function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(t,i,a,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:i===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>Xh.textContent(a));const i=this.streamTextContent(t);return new Promise(function(a,r){function o(){c.read().then(function({value:d,done:g}){if(g){a(h);return}h.lang??(h.lang=d.lang),Object.assign(h.styles,d.styles),h.items.push(...d.items),o()},r)}const c=i.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const a of i.renderTasks)t.push(a.completed),a.cancel();return this.objs.clear(),O(this,ss,!1),N(this,Mn,Gp).call(this),Promise.all(t)}cleanup(t=!1){O(this,ss,!0);const i=N(this,Mn,sc).call(this,!1);return t&&i&&this._stats&&(this._stats=new Lw),i}_startRenderPage(t,i){var r,o;const a=this._intentStates.get(i);a&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=a.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,i){for(let a=0,r=t.length;a<r;a++)i.operatorList.fnArray.push(t.fnArray[a]),i.operatorList.argsArray.push(t.argsArray[a]);i.operatorList.lastChunk=t.lastChunk,i.operatorList.separateAnnots=t.separateAnnots;for(const a of i.renderTasks)a.operatorListChanged();t.lastChunk&&N(this,Mn,sc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:i,annotationStorageSerializable:a,modifiedIds:r}){const{map:o,transfer:c}=a,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:i,annotationStorage:o,modifiedIds:r},c).getReader(),g=this._intentStates.get(i);g.streamReader=d;const m=()=>{d.read().then(({value:y,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,g),m())},y=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();N(this,Mn,sc).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(y);else if(g.opListReadCapability)g.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:t,reason:i,force:a=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!a){if(t.renderTasks.size>0)return;if(i instanceof Gy){let r=mD;i.extraDelay>0&&i.extraDelay<1e3&&(r+=i.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:i,force:!0})},r);return}}if(t.streamReader.cancel(new gl(i.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}br=new WeakMap,ss=new WeakMap,Mn=new WeakSet,sc=function(t=!1){if(N(this,Mn,Gp).call(this),!u(this,ss)||this.destroyed)return!1;if(t)return O(this,br,setTimeout(()=>{O(this,br,null),N(this,Mn,sc).call(this,!1)},bD)),!1;for(const{renderTasks:i,operatorList:a}of this._intentStates.values())if(i.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),O(this,ss,!1),!0},Gp=function(){u(this,br)&&(clearTimeout(u(this,br)),O(this,br,null))};var rs,Rg;class CD{constructor(){z(this,rs,new Map);z(this,Rg,Promise.resolve())}postMessage(t,i){const a={data:structuredClone(t,i?{transfer:i}:null)};u(this,Rg).then(()=>{for(const[r]of u(this,rs))r.call(this,a)})}addEventListener(t,i,a=null){let r=null;if((a==null?void 0:a.signal)instanceof AbortSignal){const{signal:o}=a;if(o.aborted){jt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,i);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}u(this,rs).set(i,r)}removeEventListener(t,i){const a=u(this,rs).get(i);a==null||a(),u(this,rs).delete(i)}terminate(){for(const[,t]of u(this,rs))t==null||t();u(this,rs).clear()}}rs=new WeakMap,Rg=new WeakMap;var Dg,Fo,Io,Nc,Xp,zc,Yp;const Ae=class Ae{constructor({name:t=null,port:i=null,verbosity:a=s2()}={}){z(this,Nc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=a,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((r=u(Ae,Io))!=null&&r.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(u(Ae,Io)||O(Ae,Io,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return _i?Promise.all([Mr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Lh("main","worker",t),this._messageHandler.on("ready",function(){}),N(this,Nc,Xp).call(this)}_initialize(){if(u(Ae,Fo)||u(Ae,zc,Yp)){this._setupFakeWorker();return}let{workerSrc:t}=Ae;try{Ae._isSameOrigin(window.location.href,t)||(t=Ae._createCDNWrapper(new URL(t,window.location).href));const i=new Worker(t,{type:"module"}),a=new Lh("main","worker",i),r=()=>{o.abort(),a.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;i.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),a.on("test",h=>{if(o.abort(),this.destroyed||!h){r();return}this._messageHandler=a,this._port=i,this._webWorker=i,N(this,Nc,Xp).call(this)}),a.on("ready",h=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;a.send("test",h,[h.buffer])};c();return}catch{Ig("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(Ae,Fo)||(jt("Setting up fake worker."),O(Ae,Fo,!0)),Ae._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new CD;this._port=i;const a=`fake${Ti(Ae,Dg)._++}`,r=new Lh(a+"_worker",a,i);t.setup(r,i),this._messageHandler=new Lh(a,a+"_worker",i),N(this,Nc,Xp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=u(Ae,Io))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var a;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(a=u(this,Io))==null?void 0:a.get(t.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new Ae(t)}static get workerSrc(){if(ws.workerSrc)return ws.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Kt(this,"_setupFakeWorkerGlobal",(async()=>u(this,zc,Yp)?u(this,zc,Yp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Dg=new WeakMap,Fo=new WeakMap,Io=new WeakMap,Nc=new WeakSet,Xp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},zc=new WeakSet,Yp=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},z(Ae,zc),z(Ae,Dg,0),z(Ae,Fo,!1),z(Ae,Io),_i&&(O(Ae,Fo,!0),ws.workerSrc||(ws.workerSrc="./pdf.worker.mjs")),Ae._isSameOrigin=(t,i)=>{let a;try{if(a=new URL(t),!a.origin||a.origin==="null")return!1}catch{return!1}const r=new URL(i,a);return a.origin===r.origin},Ae._createCDNWrapper=t=>{const i=`await import("${t}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let uc=Ae;var os,ba,Pc,Hc,ya,qo,kh;class RD{constructor(t,i,a,r,o){z(this,qo);z(this,os,new Map);z(this,ba,new Map);z(this,Pc,new Map);z(this,Hc,new Map);z(this,ya,null);this.messageHandler=t,this.loadingTask=i,this.commonObjs=new fE,this.fontLoader=new x2({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Kt(this,"annotationStorage",new Wy)}getRenderingIntent(t,i=er.ENABLE,a=null,r=!1,o=!1){let c=ln.DISPLAY,h=B0;switch(t){case"any":c=ln.ANY;break;case"display":break;case"print":c=ln.PRINT;break;default:jt(`getRenderingIntent - invalid intent: ${t}`)}const d=c&ln.PRINT&&a instanceof G_?a:this.annotationStorage;switch(i){case er.DISABLE:c+=ln.ANNOTATIONS_DISABLE;break;case er.ENABLE:break;case er.ENABLE_FORMS:c+=ln.ANNOTATIONS_FORMS;break;case er.ENABLE_STORAGE:c+=ln.ANNOTATIONS_STORAGE,h=d.serializable;break;default:jt(`getRenderingIntent - invalid annotationMode: ${i}`)}r&&(c+=ln.IS_EDITING),o&&(c+=ln.OPLIST);const{ids:g,hash:m}=d.modifiedIds,y=[c,h.hash,m];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:g}}destroy(){var a;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(a=u(this,ya))==null||a.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of u(this,ba).values())t.push(r._destroy());u(this,ba).clear(),u(this,Pc).clear(),u(this,Hc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return t.push(i),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),u(this,os).clear(),this.filterFactory.destroy(),Gh.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new gl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:i}=this;t.on("GetReader",(a,r)=>{$e(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}$e(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async a=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((h=i.onProgress)==null||h.call(i,this._lastProgress)),this._fullReader.onProgress=d=>{var g;(g=i.onProgress)==null||g.call(i,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(a,r)=>{$e(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(a.begin,a.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:h}){if(h){r.close();return}$e(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,i._capability.resolve(new xD(a,this))}),t.on("DocException",function(a){let r;switch(a.name){case"PasswordException":r=new v0(a.message,a.code);break;case"InvalidPDFException":r=new m_(a.message);break;case"MissingPDFException":r=new pl(a.message);break;case"UnexpectedResponseException":r=new qg(a.message,a.status);break;case"UnknownErrorException":r=new A0(a.message,a.details);break;default:ye("DocException - expected a valid Error.")}i._capability.reject(r)}),t.on("PasswordRequest",a=>{if(O(this,ya,Promise.withResolvers()),i.onPassword){const r=o=>{o instanceof Error?u(this,ya).reject(o):u(this,ya).resolve({password:o})};try{i.onPassword(r,a.code)}catch(o){u(this,ya).reject(o)}}else u(this,ya).reject(new v0(a.message,a.code));return u(this,ya).promise}),t.on("DataLoaded",a=>{var r;(r=i.onProgress)==null||r.call(i,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),t.on("StartRenderPage",a=>{if(this.destroyed)return;u(this,ba).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),t.on("commonobj",([a,r,o])=>{var c;if(this.destroyed||this.commonObjs.has(a))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:d,pdfBug:g}=this._params;if("error"in o){const S=o.error;jt(`Error during font loading: ${S}`),this.commonObjs.resolve(a,S);break}const m=g&&((c=globalThis.FontInspector)!=null&&c.enabled)?(S,w)=>globalThis.FontInspector.fontAdded(S,w):null,y=new T2(o,{disableFontFace:h,inspectFont:m});this.fontLoader.bind(y).catch(()=>t.sendWithPromise("FontFallback",{id:a})).finally(()=>{!d&&y.data&&(y.data=null),this.commonObjs.resolve(a,y)});break;case"CopyLocalImage":const{imageRef:v}=o;$e(v,"The imageRef must be defined.");for(const S of u(this,ba).values())for(const[,w]of S.objs)if((w==null?void 0:w.ref)===v)return w.dataLen?(this.commonObjs.resolve(a,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([a,r,o,c])=>{var d;if(this.destroyed)return;const h=u(this,ba).get(r);if(!h.objs.has(a)){if(h._intentStates.size===0){(d=c==null?void 0:c.bitmap)==null||d.close();return}switch(o){case"Image":h.objs.resolve(a,c),(c==null?void 0:c.dataLen)>t2&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(a,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",a=>{var r;this.destroyed||(r=i.onProgress)==null||r.call(i,{loaded:a.loaded,total:a.total})}),t.on("FetchBuiltInCMap",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(a)}),t.on("FetchStandardFontData",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var a;this.annotationStorage.size<=0&&jt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((a=this._fullReader)==null?void 0:a.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=t-1,a=u(this,Pc).get(i);if(a)return a;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&u(this,Hc).set(o.refStr,t);const c=new TD(i,o,this,this._params.pdfBug);return u(this,ba).set(i,c),c});return u(this,Pc).set(i,r),r}getPageIndex(t){return Yw(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:i})}getFieldObjects(){return N(this,qo,kh).call(this,"GetFieldObjects")}hasJSActions(){return N(this,qo,kh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return N(this,qo,kh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return N(this,qo,kh).call(this,"GetOptionalContentConfig").then(i=>new W2(i,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",i=u(this,os).get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,null).then(r=>{var o,c;return{info:r[0],metadata:r[1]?new Y2(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return u(this,os).set(t,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of u(this,ba).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),u(this,os).clear(),this.filterFactory.destroy(!0),Gh.cleanup()}}cachedPageNumber(t){if(!Yw(t))return null;const i=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return u(this,Hc).get(i)??null}}os=new WeakMap,ba=new WeakMap,Pc=new WeakMap,Hc=new WeakMap,ya=new WeakMap,qo=new WeakSet,kh=function(t,i=null){const a=u(this,os).get(t);if(a)return a;const r=this.messageHandler.sendWithPromise(t,i);return u(this,os).set(t,r),r};const Mp=Symbol("INITIAL_DATA");var Xn,Rd,J0;class fE{constructor(){z(this,Rd);z(this,Xn,Object.create(null))}get(t,i=null){if(i){const r=N(this,Rd,J0).call(this,t);return r.promise.then(()=>i(r.data)),null}const a=u(this,Xn)[t];if(!a||a.data===Mp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return a.data}has(t){const i=u(this,Xn)[t];return!!i&&i.data!==Mp}resolve(t,i=null){const a=N(this,Rd,J0).call(this,t);a.data=i,a.resolve()}clear(){var t;for(const i in u(this,Xn)){const{data:a}=u(this,Xn)[i];(t=a==null?void 0:a.bitmap)==null||t.close()}O(this,Xn,Object.create(null))}*[Symbol.iterator](){for(const t in u(this,Xn)){const{data:i}=u(this,Xn)[t];i!==Mp&&(yield[t,i])}}}Xn=new WeakMap,Rd=new WeakSet,J0=function(t){var i;return(i=u(this,Xn))[t]||(i[t]={...Promise.withResolvers(),data:Mp})};var yr;class DD{constructor(t){z(this,yr,null);O(this,yr,t),this.onContinue=null}get promise(){return u(this,yr).capability.promise}cancel(t=0){u(this,yr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=u(this,yr).operatorList;if(!t)return!1;const{annotationCanvasMap:i}=u(this,yr);return t.form||t.canvas&&(i==null?void 0:i.size)>0}}yr=new WeakMap;var vr,Bo;const ho=class ho{constructor({callback:t,params:i,objs:a,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:h,canvasFactory:d,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:v=null}){z(this,vr,null);this.callback=t,this.params=i,this.objs=a,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=g,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new DD(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:i}){var h,d;if(this.cancelled)return;if(this._canvas){if(u(ho,Bo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(ho,Bo).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:r,transform:o,background:c}=this.params;this.gfx=new cc(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(t=null,i=0){var a;this.running=!1,this.cancelled=!0,(a=this.gfx)==null||a.endDrawing(),u(this,vr)&&(window.cancelAnimationFrame(u(this,vr)),O(this,vr,null)),u(ho,Bo).delete(this._canvas),this.callback(t||new Gy(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?O(this,vr,window.requestAnimationFrame(()=>{O(this,vr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(ho,Bo).delete(this._canvas),this.callback())))}};vr=new WeakMap,Bo=new WeakMap,z(ho,Bo,new WeakSet);let ty=ho;const MD="4.8.69",OD="3634dab10";function Vw(f){return Math.floor(Math.max(0,Math.min(1,f))*255).toString(16).padStart(2,"0")}function Sh(f){return Math.max(0,Math.min(255,255*f))}class Ww{static CMYK_G([t,i,a,r]){return["G",1-Math.min(1,.3*t+.59*a+.11*i+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Sh(t),[t,t,t]}static G_HTML([t]){const i=Vw(t);return`#${i}${i}${i}`}static RGB_G([t,i,a]){return["G",.3*t+.59*i+.11*a]}static RGB_rgb(t){return t.map(Sh)}static RGB_HTML(t){return`#${t.map(Vw).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,i,a,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,a+r),1-Math.min(1,i+r)]}static CMYK_rgb([t,i,a,r]){return[Sh(1-Math.min(1,t+r)),Sh(1-Math.min(1,a+r)),Sh(1-Math.min(1,i+r))]}static CMYK_HTML(t){const i=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([t,i,a]){const r=1-t,o=1-i,c=1-a,h=Math.min(r,o,c);return["CMYK",r,o,c,h]}}class LD{create(t,i,a=!1){if(t<=0||i<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),a||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${i}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${i}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ye("Abstract method `_createSVG` called.")}}class Jy extends LD{_createSVG(t){return document.createElementNS($a,t)}}class pE{static setupStorage(t,i,a,r,o){const c=r.getValue(i,{value:null});switch(a.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(c.value===a.attributes.xfaOn?t.setAttribute("checked",!0):c.value===a.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",h=>{r.setValue(i,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of a.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const d=h.target.options,g=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(i,{value:g})});break}}static setAttributes({html:t,element:i,storage:a=null,intent:r,linkService:o}){const{attributes:c}=i,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[d,g]of Object.entries(c))if(g!=null)switch(d){case"class":g.length&&t.setAttribute(d,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!h||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,g)}h&&o.addLinkAttributes(t,c.href,c.newWindow),a&&c.dataId&&this.setupStorage(t,c.dataId,i,a)}static render(t){var y,v;const i=t.annotationStorage,a=t.linkService,r=t.xfaHtml,o=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:a});const h=o!=="richText",d=t.div;if(d.append(c),t.viewport){const S=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=S}h&&d.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const S=document.createTextNode(r.value);c.append(S),h&&Xh.shouldBuildText(r.name)&&g.push(S)}return{textDivs:g}}const m=[[r,-1,c]];for(;m.length>0;){const[S,w,x]=m.at(-1);if(w+1===S.children.length){m.pop();continue}const E=S.children[++m.at(-1)[1]];if(E===null)continue;const{name:A}=E;if(A==="#text"){const T=document.createTextNode(E.value);g.push(T),x.append(T);continue}const _=(y=E==null?void 0:E.attributes)!=null&&y.xmlns?document.createElementNS(E.attributes.xmlns,A):document.createElement(A);if(x.append(_),E.attributes&&this.setAttributes({html:_,element:E,storage:i,intent:o,linkService:a}),((v=E.children)==null?void 0:v.length)>0)m.push([E,-1,_]);else if(E.value){const T=document.createTextNode(E.value);h&&Xh.shouldBuildText(A)&&g.push(T),_.append(T)}}for(const S of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const i=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=i,t.div.hidden=!1}}const uf=1e3,kD=9,hl=new WeakSet;function _s(f){return{width:f[2]-f[0],height:f[3]-f[1]}}class ND{static create(t){switch(t.data.annotationType){case Ge.LINK:return new gE(t);case Ge.TEXT:return new zD(t);case Ge.WIDGET:switch(t.data.fieldType){case"Tx":return new PD(t);case"Btn":return t.data.radioButton?new yE(t):t.data.checkBox?new FD(t):new ID(t);case"Ch":return new qD(t);case"Sig":return new HD(t)}return new ml(t);case Ge.POPUP:return new iy(t);case Ge.FREETEXT:return new _E(t);case Ge.LINE:return new UD(t);case Ge.SQUARE:return new jD(t);case Ge.CIRCLE:return new GD(t);case Ge.POLYLINE:return new EE(t);case Ge.CARET:return new YD(t);case Ge.INK:return new tv(t);case Ge.POLYGON:return new XD(t);case Ge.HIGHLIGHT:return new xE(t);case Ge.UNDERLINE:return new VD(t);case Ge.SQUIGGLY:return new WD(t);case Ge.STRIKEOUT:return new $D(t);case Ge.STAMP:return new TE(t);case Ge.FILEATTACHMENT:return new KD(t);default:return new Ne(t)}}}var Uo,Fc,Ic,Dd,ey;const nv=class nv{constructor(t,{isRenderable:i=!1,ignoreBorder:a=!1,createQuadrilaterals:r=!1}={}){z(this,Dd);z(this,Uo,null);z(this,Fc,!1);z(this,Ic,null);this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,i&&(this.container=this._createContainer(a)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:i,richText:a}){return!!(t!=null&&t.str||i!=null&&i.str||a!=null&&a.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return nv._hasPopupData(this.data)}updateEdited(t){var a;if(!this.container)return;u(this,Uo)||O(this,Uo,{rect:this.data.rect.slice(0)});const{rect:i}=t;i&&N(this,Dd,ey).call(this,i),(a=u(this,Ic))==null||a.popup.updateEdited(t)}resetEdited(){var t;u(this,Uo)&&(N(this,Dd,ey).call(this,u(this,Uo).rect),(t=u(this,Ic))==null||t.popup.resetEdited(),O(this,Uo,null))}_createContainer(t){const{data:i,parent:{page:a,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",i.id),this instanceof ml||(o.tabIndex=uf);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,i.alternativeText&&(o.title=i.alternativeText),i.noRotate&&o.classList.add("norotate"),!i.rect||this instanceof iy){const{rotation:x}=i;return!i.hasOwnCanvas&&x!==0&&this.setRotation(x,o),o}const{width:h,height:d}=_s(i.rect);if(!t&&i.borderStyle.width>0){c.borderWidth=`${i.borderStyle.width}px`;const x=i.borderStyle.horizontalCornerRadius,E=i.borderStyle.verticalCornerRadius;if(x>0||E>0){const _=`calc(${x}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;c.borderRadius=_}else if(this instanceof yE){const _=`calc(${h}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;c.borderRadius=_}switch(i.borderStyle.style){case vh.SOLID:c.borderStyle="solid";break;case vh.DASHED:c.borderStyle="dashed";break;case vh.BEVELED:jt("Unimplemented border style: beveled");break;case vh.INSET:jt("Unimplemented border style: inset");break;case vh.UNDERLINE:c.borderBottomStyle="solid";break}const A=i.borderColor||null;A?(O(this,Fc,!0),c.borderColor=Dt.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):c.borderWidth=0}const g=Dt.normalizeRect([i.rect[0],a.view[3]-i.rect[1]+a.view[1],i.rect[2],a.view[3]-i.rect[3]+a.view[1]]),{pageWidth:m,pageHeight:y,pageX:v,pageY:S}=r.rawDims;c.left=`${100*(g[0]-v)/m}%`,c.top=`${100*(g[1]-S)/y}%`;const{rotation:w}=i;return i.hasOwnCanvas||w===0?(c.width=`${100*h/m}%`,c.height=`${100*d/y}%`):this.setRotation(w,o),o}setRotation(t,i=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:c}=_s(this.data.rect);let h,d;t%180===0?(h=100*o/a,d=100*c/r):(h=100*c/a,d=100*o/r),i.style.width=`${h}%`,i.style.height=`${d}%`,i.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(i,a,r)=>{const o=r.detail[i],c=o[0],h=o.slice(1);r.target.style[a]=Ww[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[a]:Ww[`${c}_rgb`](h)})};return Kt(this,"_commonActions",{display:i=>{const{display:a}=i.detail,r=a%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:a===1||a===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:a}=i.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{t("bgColor","backgroundColor",i)},fillColor:i=>{t("fillColor","backgroundColor",i)},fgColor:i=>{t("fgColor","color",i)},textColor:i=>{t("textColor","color",i)},borderColor:i=>{t("borderColor","borderColor",i)},strokeColor:i=>{t("strokeColor","borderColor",i)},rotation:i=>{const a=i.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(t,i){const a=this._commonActions;for(const r of Object.keys(i.detail)){const o=t[r]||a[r];o==null||o(i)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const a=this._commonActions;for(const[r,o]of Object.entries(i)){const c=a[r];if(c){const h={detail:{[r]:o},target:t};c(h),delete i[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[i,a,r,o]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){const[x,E,A,_]=t.subarray(2,6);if(r===x&&o===E&&i===A&&a===_)return}const{style:c}=this.container;let h;if(u(this,Fc)){const{borderColor:x,borderWidth:E}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=r-i,g=o-a,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=m.createElement("defs");y.append(v);const S=m.createElement("clipPath"),w=`clippath_${this.data.id}`;S.setAttribute("id",w),S.setAttribute("clipPathUnits","objectBoundingBox"),v.append(S);for(let x=2,E=t.length;x<E;x+=8){const A=t[x],_=t[x+1],T=t[x+2],R=t[x+3],D=m.createElement("rect"),k=(T-i)/d,M=(o-_)/g,L=(A-T)/d,H=(_-R)/g;D.setAttribute("x",k),D.setAttribute("y",M),D.setAttribute("width",L),D.setAttribute("height",H),S.append(D),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${M}" width="${L}" height="${H}"/>`)}u(this,Fc)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:t}=this,i=O(this,Ic,new iy({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){ye("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,i=null){const a=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:c,exportValues:h}of r){if(o===-1||c===i)continue;const d=typeof h=="string"?h:null,g=document.querySelector(`[data-element-id="${c}"]`);if(g&&!hl.has(g)){jt(`_getElementsByName - element not allowed: ${c}`);continue}a.push({id:c,exportValue:d,domElement:g})}return a}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==i&&hl.has(r)&&a.push({id:c,exportValue:o,domElement:r})}return a}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const i of t)i.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("switchannotationeditormode",{source:this,mode:t,editId:i})})}};Uo=new WeakMap,Fc=new WeakMap,Ic=new WeakMap,Dd=new WeakSet,ey=function(t){const{container:{style:i},data:{rect:a,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:h,pageY:d}}}}=this;a==null||a.splice(0,4,...t);const{width:g,height:m}=_s(t);i.left=`${100*(t[0]-h)/o}%`,i.top=`${100*(c-t[3]+d)/c}%`,r===0?(i.width=`${100*g/o}%`,i.height=`${100*m/c}%`):this.setRotation(r)};let Ne=nv;var cn,ro,mE,bE;class gE extends Ne{constructor(i,a=null){super(i,{isRenderable:!0,ignoreBorder:!!(a!=null&&a.ignoreBorder),createQuadrilaterals:!0});z(this,cn);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:a}=this,r=document.createElement("a");r.setAttribute("data-element-id",i.id);let o=!1;return i.url?(a.addLinkAttributes(r,i.url,i.newWindow),o=!0):i.action?(this._bindNamedAction(r,i.action),o=!0):i.attachment?(N(this,cn,mE).call(this,r,i.attachment,i.attachmentDest),o=!0):i.setOCGState?(N(this,cn,bE).call(this,r,i.setOCGState),o=!0):i.dest?(this._bindLink(r,i.dest),o=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,i),o=!0),i.resetForm?(this._bindResetFormAction(r,i.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(i,a){i.href=this.linkService.getDestinationHash(a),i.onclick=()=>(a&&this.linkService.goToDestination(a),!1),(a||a==="")&&N(this,cn,ro).call(this)}_bindNamedAction(i,a){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(a),!1),N(this,cn,ro).call(this)}_bindJSAction(i,a){i.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(a.actions)){const c=r.get(o);c&&(i[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a.id,name:o}}),!1})}i.onclick||(i.onclick=()=>!1),N(this,cn,ro).call(this)}_bindResetFormAction(i,a){const r=i.onclick;if(r||(i.href=this.linkService.getAnchorUrl("")),N(this,cn,ro).call(this),!this._fieldObjects){jt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(i.onclick=()=>!1);return}i.onclick=()=>{var y;r==null||r();const{fields:o,refs:c,include:h}=a,d=[];if(o.length!==0||c.length!==0){const v=new Set(c);for(const S of o){const w=this._fieldObjects[S]||[];for(const{id:x}of w)v.add(x)}for(const S of Object.values(this._fieldObjects))for(const w of S)v.has(w.id)===h&&d.push(w)}else for(const v of Object.values(this._fieldObjects))d.push(...v);const g=this.annotationStorage,m=[];for(const v of d){const{id:S}=v;switch(m.push(S),v.type){case"text":{const x=v.defaultValue||"";g.setValue(S,{value:x});break}case"checkbox":case"radiobutton":{const x=v.defaultValue===v.exportValues;g.setValue(S,{value:x});break}case"combobox":case"listbox":{const x=v.defaultValue||"";g.setValue(S,{value:x});break}default:continue}const w=document.querySelector(`[data-element-id="${S}"]`);if(w){if(!hl.has(w)){jt(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}cn=new WeakSet,ro=function(){this.container.setAttribute("data-internal-link","")},mE=function(i,a,r=null){i.href=this.linkService.getAnchorUrl(""),a.description&&(i.title=a.description),i.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(a.content,a.filename,r),!1},N(this,cn,ro).call(this)},bE=function(i,a){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(a),!1),N(this,cn,ro).call(this)};class zD extends Ne{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ml extends Ne{render(){return this.container}showElementAndHideCanvas(t){var i;this.data.hasOwnCanvas&&(((i=t.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Mi.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,i,a,r,o){a.includes("mouse")?t.addEventListener(a,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(a,c=>{var h;if(a==="blur"){if(!i.focused||!c.relatedTarget)return;i.focused=!1}else if(a==="focus"){if(i.focused)return;i.focused=!0}o&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}}))})}_setEventListeners(t,i,a,r){var o,c,h;for(const[d,g]of a)(g==="Action"||(o=this.data.actions)!=null&&o[g])&&((g==="Focus"||g==="Blur")&&(i||(i={focused:!1})),this._setEventListener(t,i,d,g,r),g==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,i,"blur","Blur",null):g==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(t,i,"focus","Focus",null))}_setBackgroundColor(t){const i=this.data.backgroundColor||null;t.style.backgroundColor=i===null?"transparent":Dt.makeHexColor(i[0],i[1],i[2])}_setTextStyle(t){const i=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||kD,o=t.style;let c;const h=2,d=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h),m=Math.round(g/(h0*r))||1,y=g/m;c=Math.min(r,d(y/h0))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,d(g/h0))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=Dt.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(o.textAlign=i[this.data.textAlignment])}_setRequired(t,i){i?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",i)}}class PD extends ml{constructor(t){const i=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:i})}setPropertyOnSiblings(t,i,a,r){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[i]=a),o.setValue(c.id,{[r]:a})}render(){var r,o;const t=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const c=t.getValue(i,{value:this.data.fieldValue});let h=c.value||"";const d=t.getValue(i,{charLimit:this.data.maxLen}).charLimit;d&&h.length>d&&(h=h.slice(0,d));let g=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:h,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=g??h,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type="text",a.setAttribute("value",g??h),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),hl.add(a),a.setAttribute("data-element-id",i),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=uf,this._setRequired(a,this.data.required),d&&(a.maxLength=d),a.addEventListener("input",v=>{t.setValue(i,{value:v.target.value}),this.setPropertyOnSiblings(a,"value",v.target.value,"value"),m.formattedValue=null}),a.addEventListener("resetform",v=>{const S=this.data.defaultFieldValue??"";a.value=m.userValue=S,m.formattedValue=null});let y=v=>{const{formattedValue:S}=m;S!=null&&(v.target.value=S),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",S=>{var x;if(m.focused)return;const{target:w}=S;m.userValue&&(w.value=m.userValue),m.lastCommittedValue=w.value,m.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(m.focused=!0)}),a.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const w={value(x){m.userValue=x.detail.value??"",t.setValue(i,{value:m.userValue.toString()}),x.target.value=m.userValue},formattedValue(x){const{formattedValue:E}=x.detail;m.formattedValue=E,E!=null&&x.target!==document.activeElement&&(x.target.value=E),t.setValue(i,{formattedValue:E})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var T;const{charLimit:E}=x.detail,{target:A}=x;if(E===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",E);let _=m.userValue;!_||_.length<=E||(_=_.slice(0,E),A.value=m.userValue=_,t.setValue(i,{value:_}),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(w,S)}),a.addEventListener("keydown",S=>{var E;m.commitKey=1;let w=-1;if(S.key==="Escape"?w=0:S.key==="Enter"&&!this.data.multiLine?w=2:S.key==="Tab"&&(m.commitKey=3),w===-1)return;const{value:x}=S.target;m.lastCommittedValue!==x&&(m.lastCommittedValue=x,m.userValue=x,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const v=y;y=null,a.addEventListener("blur",S=>{var x,E;if(!m.focused||!S.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(m.focused=!1);const{value:w}=S.target;m.userValue=w,m.lastCommittedValue!==w&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:w,willCommit:!0,commitKey:m.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),v(S)}),(o=this.data.actions)!=null&&o.Keystroke&&a.addEventListener("beforeinput",S=>{var D;m.lastCommittedValue=null;const{data:w,target:x}=S,{value:E,selectionStart:A,selectionEnd:_}=x;let T=A,R=_;switch(S.inputType){case"deleteWordBackward":{const k=E.substring(0,A).match(/\w*[^\w]*$/);k&&(T-=k[0].length);break}case"deleteWordForward":{const k=E.substring(A).match(/^[^\w]*\w*/);k&&(R+=k[0].length);break}case"deleteContentBackward":A===_&&(T-=1);break;case"deleteContentForward":A===_&&(R+=1);break}S.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:E,change:w||"",willCommit:!1,selStart:T,selEnd:R}})}),this._setEventListeners(a,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(y&&a.addEventListener("blur",y),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/d;a.classList.add("comb"),a.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class HD extends ml{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class FD extends ml{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,i=this.data,a=i.id;let r=t.getValue(a,{value:i.exportValue===i.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(a,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return hl.add(o),o.setAttribute("data-element-id",a),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=i.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",i.exportValue),o.tabIndex=uf,o.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const g of this._getElementsByName(h,a)){const m=d&&g.exportValue===i.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(a,{value:d})}),o.addEventListener("resetform",c=>{const h=i.defaultFieldValue||"Off";c.target.checked=h===i.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const h={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(a,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class yE extends ml{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,i=this.data,a=i.id;let r=t.getValue(a,{value:i.fieldValue===i.buttonValue}).value;if(typeof r=="string"&&(r=r!==i.buttonValue,t.setValue(a,{value:r})),r)for(const c of this._getElementsByName(i.fieldName,a))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(hl.add(o),o.setAttribute("data-element-id",a),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=i.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=uf,o.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const g of this._getElementsByName(h,a))t.setValue(g.id,{value:!1});t.setValue(a,{value:d})}),o.addEventListener("resetform",c=>{const h=i.defaultFieldValue;c.target.checked=h!=null&&h===i.buttonValue}),this.enableScripting&&this.hasJSActions){const c=i.buttonValue;o.addEventListener("updatefromsandbox",h=>{const d={value:g=>{const m=c===g.detail.value;for(const y of this._getElementsByName(g.target.name)){const v=m&&y.id===a;y.domElement&&(y.domElement.checked=v),t.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class ID extends gE{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const i=t.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),t}}class qD extends ml{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,i=this.data.id,a=t.getValue(i,{value:this.data.fieldValue}),r=document.createElement("select");hl.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=uf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,a.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=m=>{const y=m?"value":"textContent",{options:v,multiple:S}=r;return S?Array.prototype.filter.call(v,w=>w.selected).map(w=>w[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let d=h(!1);const g=m=>{const y=m.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const y={value(v){c==null||c();const S=v.detail.value,w=new Set(Array.isArray(S)?S:[S]);for(const x of r.options)x.selected=w.has(x.value);t.setValue(i,{value:h(!0)}),d=h(!1)},multipleSelection(v){r.multiple=!0},remove(v){const S=r.options,w=v.detail.remove;S[w].selected=!1,r.remove(w),S.length>0&&Array.prototype.findIndex.call(S,E=>E.selected)===-1&&(S[0].selected=!0),t.setValue(i,{value:h(!0),items:g(v)}),d=h(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(i,{value:null,items:[]}),d=h(!1)},insert(v){const{index:S,displayValue:w,exportValue:x}=v.detail.insert,E=r.children[S],A=document.createElement("option");A.textContent=w,A.value=x,E?E.before(A):r.append(A),t.setValue(i,{value:h(!0),items:g(v)}),d=h(!1)},items(v){const{items:S}=v.detail;for(;r.length!==0;)r.remove(0);for(const w of S){const{displayValue:x,exportValue:E}=w,A=document.createElement("option");A.textContent=x,A.value=E,r.append(A)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(i,{value:h(!0),items:g(v)}),d=h(!1)},indices(v){const S=new Set(v.detail.indices);for(const w of v.target.options)w.selected=S.has(w.index);t.setValue(i,{value:h(!0)}),d=h(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,m)}),r.addEventListener("input",m=>{var S;const y=h(!0),v=h(!1);t.setValue(i,{value:y}),m.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:d,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(i,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class iy extends Ne{constructor(t){const{data:i,elements:a}=t;super(t,{isRenderable:Ne._hasPopupData(i)}),this.elements=a,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new BD({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const a of this.elements)a.popup=t,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${jy}${a}`).join(",")),this.container}}var qc,Mg,Og,Bc,jo,Me,ls,Uc,Md,Od,jc,cs,Yn,us,Ld,hs,kd,Go,Xo,de,Vp,ny,vE,AE,SE,wE,Wp,$p,ay;class BD{constructor({container:t,color:i,elements:a,titleObj:r,modificationDate:o,contentsObj:c,richText:h,parent:d,rect:g,parentRect:m,open:y}){z(this,de);z(this,qc,N(this,de,SE).bind(this));z(this,Mg,N(this,de,ay).bind(this));z(this,Og,N(this,de,$p).bind(this));z(this,Bc,N(this,de,Wp).bind(this));z(this,jo,null);z(this,Me,null);z(this,ls,null);z(this,Uc,null);z(this,Md,null);z(this,Od,null);z(this,jc,null);z(this,cs,!1);z(this,Yn,null);z(this,us,null);z(this,Ld,null);z(this,hs,null);z(this,kd,null);z(this,Go,null);z(this,Xo,!1);var v;O(this,Me,t),O(this,kd,r),O(this,ls,c),O(this,hs,h),O(this,Od,d),O(this,jo,i),O(this,Ld,g),O(this,jc,m),O(this,Md,a),O(this,Uc,Yy.toDateObject(o)),this.trigger=a.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",u(this,Bc)),S.addEventListener("mouseenter",u(this,Og)),S.addEventListener("mouseleave",u(this,Mg)),S.classList.add("popupTriggerArea");for(const S of a)(v=S.container)==null||v.addEventListener("keydown",u(this,qc));u(this,Me).hidden=!0,y&&N(this,de,Wp).call(this)}render(){if(u(this,Yn))return;const t=O(this,Yn,document.createElement("div"));if(t.className="popup",u(this,jo)){const o=t.style.outlineColor=Dt.makeHexColor(...u(this,jo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=Dt.makeHexColor(...u(this,jo).map(h=>Math.floor(.7*(255-h)+h)))}const i=document.createElement("span");i.className="header";const a=document.createElement("h1");if(i.append(a),{dir:a.dir,str:a.textContent}=u(this,kd),t.append(i),u(this,Uc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Uc).valueOf()})),i.append(o)}const r=u(this,de,Vp);if(r)pE.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(u(this,ls));t.append(o)}u(this,Me).append(t)}_formatContents({str:t,dir:i}){const a=document.createElement("p");a.classList.add("popupContent"),a.dir=i;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const h=r[o];a.append(document.createTextNode(h)),o<c-1&&a.append(document.createElement("br"))}return a}updateEdited({rect:t,popupContent:i}){var a;u(this,Go)||O(this,Go,{contentsObj:u(this,ls),richText:u(this,hs)}),t&&O(this,us,null),i&&(O(this,hs,N(this,de,AE).call(this,i)),O(this,ls,null)),(a=u(this,Yn))==null||a.remove(),O(this,Yn,null)}resetEdited(){var t;u(this,Go)&&({contentsObj:Ti(this,ls)._,richText:Ti(this,hs)._}=u(this,Go),O(this,Go,null),(t=u(this,Yn))==null||t.remove(),O(this,Yn,null),O(this,us,null))}forceHide(){O(this,Xo,this.isVisible),u(this,Xo)&&(u(this,Me).hidden=!0)}maybeShow(){u(this,Xo)&&(u(this,Yn)||N(this,de,$p).call(this),O(this,Xo,!1),u(this,Me).hidden=!1)}get isVisible(){return u(this,Me).hidden===!1}}qc=new WeakMap,Mg=new WeakMap,Og=new WeakMap,Bc=new WeakMap,jo=new WeakMap,Me=new WeakMap,ls=new WeakMap,Uc=new WeakMap,Md=new WeakMap,Od=new WeakMap,jc=new WeakMap,cs=new WeakMap,Yn=new WeakMap,us=new WeakMap,Ld=new WeakMap,hs=new WeakMap,kd=new WeakMap,Go=new WeakMap,Xo=new WeakMap,de=new WeakSet,Vp=function(){const t=u(this,hs),i=u(this,ls);return t!=null&&t.str&&(!(i!=null&&i.str)||i.str===t.str)&&u(this,hs).html||null},ny=function(){var t,i,a;return((a=(i=(t=u(this,de,Vp))==null?void 0:t.attributes)==null?void 0:i.style)==null?void 0:a.fontSize)||0},vE=function(){var t,i,a;return((a=(i=(t=u(this,de,Vp))==null?void 0:t.attributes)==null?void 0:i.style)==null?void 0:a.color)||null},AE=function(t){const i=[],a={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},r={style:{color:u(this,de,vE),fontSize:u(this,de,ny)?`calc(${u(this,de,ny)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))i.push({name:"span",value:o,attributes:r});return a},SE=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&u(this,cs))&&N(this,de,Wp).call(this)},wE=function(){if(u(this,us)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:o}}}=u(this,Od);let c=!!u(this,jc),h=c?u(this,jc):u(this,Ld);for(const w of u(this,Md))if(!h||Dt.intersect(w.data.rect,h)!==null){h=w.data.rect,c=!0;break}const d=Dt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),m=c?h[2]-h[0]+5:0,y=d[0]+m,v=d[1];O(this,us,[100*(y-r)/i,100*(v-o)/a]);const{style:S}=u(this,Me);S.left=`${u(this,us)[0]}%`,S.top=`${u(this,us)[1]}%`},Wp=function(){O(this,cs,!u(this,cs)),u(this,cs)?(N(this,de,$p).call(this),u(this,Me).addEventListener("click",u(this,Bc)),u(this,Me).addEventListener("keydown",u(this,qc))):(N(this,de,ay).call(this),u(this,Me).removeEventListener("click",u(this,Bc)),u(this,Me).removeEventListener("keydown",u(this,qc)))},$p=function(){u(this,Yn)||this.render(),this.isVisible?u(this,cs)&&u(this,Me).classList.add("focused"):(N(this,de,wE).call(this),u(this,Me).hidden=!1,u(this,Me).style.zIndex=parseInt(u(this,Me).style.zIndex)+1e3)},ay=function(){u(this,Me).classList.remove("focused"),!(u(this,cs)||!this.isVisible)&&(u(this,Me).hidden=!0,u(this,Me).style.zIndex=parseInt(u(this,Me).style.zIndex)-1e3)};class _E extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=qt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const i of this.textContent){const a=document.createElement("span");a.textContent=i,t.append(a)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Nd;class UD extends Ne{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});z(this,Nd,null)}render(){this.container.classList.add("lineAnnotation");const i=this.data,{width:a,height:r}=_s(i.rect),o=this.svgFactory.create(a,r,!0),c=O(this,Nd,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),c.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),c.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),c.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),c.setAttribute("stroke-width",i.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nd=new WeakMap;var zd;class jD extends Ne{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});z(this,zd,null)}render(){this.container.classList.add("squareAnnotation");const i=this.data,{width:a,height:r}=_s(i.rect),o=this.svgFactory.create(a,r,!0),c=i.borderStyle.width,h=O(this,zd,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",a-c),h.setAttribute("height",r-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,zd)}addHighlightArea(){this.container.classList.add("highlightArea")}}zd=new WeakMap;var Pd;class GD extends Ne{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});z(this,Pd,null)}render(){this.container.classList.add("circleAnnotation");const i=this.data,{width:a,height:r}=_s(i.rect),o=this.svgFactory.create(a,r,!0),c=i.borderStyle.width,h=O(this,Pd,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",a/2),h.setAttribute("cy",r/2),h.setAttribute("rx",a/2-c/2),h.setAttribute("ry",r/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Pd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pd=new WeakMap;var Hd;class EE extends Ne{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});z(this,Hd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:a,borderStyle:r,popupRef:o}}=this;if(!a)return this.container;const{width:c,height:h}=_s(i),d=this.svgFactory.create(c,h,!0);let g=[];for(let y=0,v=a.length;y<v;y+=2){const S=a[y]-i[0],w=i[3]-a[y+1];g.push(`${S},${w}`)}g=g.join(" ");const m=O(this,Hd,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),d.append(m),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Hd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hd=new WeakMap;class XD extends EE{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class YD extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Fd;class tv extends Ne{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});z(this,Fd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?qt.HIGHLIGHT:qt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,inkLists:a,borderStyle:r,popupRef:o}}=this,{width:c,height:h}=_s(i),d=this.svgFactory.create(c,h,!0);for(const g of a){let m=[];for(let v=0,S=g.length;v<S;v+=2){const w=g[v]-i[0],x=i[3]-g[v+1];m.push(`${w},${x}`)}m=m.join(" ");const y=this.svgFactory.createElement(this.svgElementName);u(this,Fd).push(y),y.setAttribute("points",m),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),d.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,Fd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fd=new WeakMap;class xE extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=qt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class VD extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class WD extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class $D extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class TE extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=qt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Id,qd,sy;class KD extends Ne{constructor(i){var r;super(i,{isRenderable:!0});z(this,qd);z(this,Id,null);const{file:a}=this.data;this.filename=a.filename,this.content=a.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...a})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:a}=this;let r;a.hasAppearance||a.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(a.name)?"paperclip":"pushpin"}.svg`,a.fillAlpha&&a.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(a.fillAlpha*100)}%);`)),r.addEventListener("dblclick",N(this,qd,sy).bind(this)),O(this,Id,r);const{isMac:o}=Mi.platform;return i.addEventListener("keydown",c=>{c.key==="Enter"&&(o?c.metaKey:c.ctrlKey)&&N(this,qd,sy).call(this)}),!a.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),i.append(r),i}getElementsToTriggerPopup(){return u(this,Id)}addHighlightArea(){this.container.classList.add("highlightArea")}}Id=new WeakMap,qd=new WeakSet,sy=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var Bd,Yo,Vo,Ud,dl,CE,ry;class QD{constructor({div:t,accessibilityManager:i,annotationCanvasMap:a,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:h}){z(this,dl);z(this,Bd,null);z(this,Yo,null);z(this,Vo,new Map);z(this,Ud,null);this.div=t,O(this,Bd,i),O(this,Yo,a),O(this,Ud,h||null),this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,Vo).size>0}async render(t){var c;const{annotations:i}=t,a=this.div;cl(a,this.viewport);const r=new Map,o={data:null,layer:a,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Jy,annotationStorage:t.annotationStorage||new Wy,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of i){if(h.noHTML)continue;const d=h.annotationType===Ge.POPUP;if(d){const y=r.get(h.id);if(!y)continue;o.elements=y}else{const{width:y,height:v}=_s(h.rect);if(y<=0||v<=0)continue}o.data=h;const g=ND.create(o);if(!g.isRenderable)continue;if(!d&&h.popupRef){const y=r.get(h.popupRef);y?y.push(g):r.set(h.popupRef,[g])}const m=g.render();h.hidden&&(m.style.visibility="hidden"),await N(this,dl,CE).call(this,m,h.id),g._isEditable&&(u(this,Vo).set(g.data.id,g),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(g))}N(this,dl,ry).call(this)}update({viewport:t}){const i=this.div;this.viewport=t,cl(i,{rotation:t.rotation}),N(this,dl,ry).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Vo).values())}getEditableAnnotation(t){return u(this,Vo).get(t)}}Bd=new WeakMap,Yo=new WeakMap,Vo=new WeakMap,Ud=new WeakMap,dl=new WeakSet,CE=async function(t,i){var c,h;const a=t.firstChild||t,r=a.id=`${jy}${i}`,o=await((c=u(this,Ud))==null?void 0:c.getAriaAttributes(r));if(o)for(const[d,g]of o)a.setAttribute(d,g);this.div.append(t),(h=u(this,Bd))==null||h.moveElementInDOM(this.div,t,a,!1)},ry=function(){if(!u(this,Yo))return;const t=this.div;for(const[i,a]of u(this,Yo)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;a.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(a):o.classList.contains("annotationContent")?o.after(a):o.before(a):r.append(a)}u(this,Yo).clear()};const Op=/\r\n?|\n/g;var Vn,en,jd,Wo,nn,qe,RE,DE,ME,Kp,xs,Qp,Zp,OE,ly,LE;const be=class be extends oe{constructor(i){super({...i,name:"freeTextEditor"});z(this,qe);z(this,Vn);z(this,en,"");z(this,jd,`${this.id}-editor`);z(this,Wo,null);z(this,nn);O(this,Vn,i.color||be._defaultColor||oe._defaultLineColor),O(this,nn,i.fontSize||be._defaultFontSize)}static get _keyboardManager(){const i=be.prototype,a=c=>c.isEmpty(),r=ul.TRANSLATE_SMALL,o=ul.TRANSLATE_BIG;return Kt(this,"_keyboardManager",new cf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-r,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-o,0],checker:a}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[r,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[o,0],checker:a}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-r],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-o],checker:a}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,r],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,o],checker:a}]]))}static initialize(i,a){oe.initialize(i,a);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,a){switch(i){case Nt.FREETEXT_SIZE:be._defaultFontSize=a;break;case Nt.FREETEXT_COLOR:be._defaultColor=a;break}}updateParams(i,a){switch(i){case Nt.FREETEXT_SIZE:N(this,qe,RE).call(this,a);break;case Nt.FREETEXT_COLOR:N(this,qe,DE).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[Nt.FREETEXT_SIZE,be._defaultFontSize],[Nt.FREETEXT_COLOR,be._defaultColor||oe._defaultLineColor]]}get propertiesToUpdate(){return[[Nt.FREETEXT_SIZE,u(this,nn)],[Nt.FREETEXT_COLOR,u(this,Vn)]]}_translateEmpty(i,a){this._uiManager.translateSelectedEditors(i,a,!0)}getInitialTranslation(){const i=this.parentScale;return[-be._internalPadding*i,-(be._internalPadding+u(this,nn))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(qt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),O(this,Wo,new AbortController);const i=this._uiManager.combinedSignal(u(this,Wo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,jd)),this._isDraggable=!0,(i=u(this,Wo))==null||i.abort(),O(this,Wo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var i;this.width||(this.enableEditMode(),this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=u(this,en),a=O(this,en,N(this,qe,ME).call(this).trimEnd());if(i===a)return;const r=o=>{if(O(this,en,o),!o){this.remove();return}N(this,qe,Zp).call(this),this._uiManager.rebuild(this),N(this,qe,Kp).call(this)};this.addCommands({cmd:()=>{r(a)},undo:()=>{r(i)},mustExec:!1}),N(this,qe,Kp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){be._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,a;this.width&&(i=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,jd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,nn)}px * var(--scale-factor))`,r.color=u(this,Vn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),dg(this,this.div,["dblclick","keydown"]),this.width){const[o,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[d,g]=this.getInitialTranslation();[d,g]=this.pageTranslationToScreen(d,g);const[m,y]=this.pageDimensions,[v,S]=this.pageTranslation;let w,x;switch(this.rotation){case 0:w=i+(h[0]-v)/m,x=a+this.height-(h[1]-S)/y;break;case 90:w=i+(h[0]-v)/m,x=a-(h[1]-S)/y,[d,g]=[g,-d];break;case 180:w=i-this.width+(h[0]-v)/m,x=a-(h[1]-S)/y,[d,g]=[-d,-g];break;case 270:w=i+(h[0]-v-this.height*y)/m,x=a+(h[1]-S-this.width*m)/y,[d,g]=[-g,d];break}this.setAt(w*o,x*c,d,g)}else this.setAt(i*o,a*c,this.width*o,this.height*c);N(this,qe,Zp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var w,x,E;const a=i.clipboardData||window.clipboardData,{types:r}=a;if(r.length===1&&r[0]==="text/plain")return;i.preventDefault();const o=N(w=be,xs,ly).call(w,a.getData("text")||"").replaceAll(Op,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!o.includes(`
`)){h.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:d,startOffset:g}=h,m=[],y=[];if(d.nodeType===Node.TEXT_NODE){const A=d.parentElement;if(y.push(d.nodeValue.slice(g).replaceAll(Op,"")),A!==this.editorDiv){let _=m;for(const T of this.editorDiv.childNodes){if(T===A){_=y;continue}_.push(N(x=be,xs,Qp).call(x,T))}}m.push(d.nodeValue.slice(0,g).replaceAll(Op,""))}else if(d===this.editorDiv){let A=m,_=0;for(const T of this.editorDiv.childNodes)_++===g&&(A=y),A.push(N(E=be,xs,Qp).call(E,T))}O(this,en,`${m.join(`
`)}${o}${y.join(`
`)}`),N(this,qe,Zp).call(this);const v=new Range;let S=m.reduce((A,_)=>A+_.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const _=A.nodeValue.length;if(S<=_){v.setStart(A,S),v.setEnd(A,S);break}S-=_}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(i,a,r){var h;let o=null;if(i instanceof _E){const{data:{defaultAppearanceData:{fontSize:d,fontColor:g},rect:m,rotation:y,id:v,popupRef:S},textContent:w,textPosition:x,parent:{page:{pageNumber:E}}}=i;if(!w||w.length===0)return null;o=i={annotationType:qt.FREETEXT,color:Array.from(g),fontSize:d,value:w.join(`
`),position:x,pageIndex:E-1,rect:m.slice(0),rotation:y,id:v,deleted:!1,popupRef:S}}const c=await super.deserialize(i,a,r);return O(c,nn,i.fontSize),O(c,Vn,Dt.makeHexColor(...i.color)),O(c,en,N(h=be,xs,ly).call(h,i.value)),c.annotationElementId=i.id||null,c._initialData=o,c}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=be._internalPadding*this.parentScale,r=this.getRect(a,a),o=oe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Vn)),c={annotationType:qt.FREETEXT,color:o,fontSize:u(this,nn),value:N(this,qe,OE).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?c:this.annotationElementId&&!N(this,qe,LE).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(i){const a=super.renderAnnotationElement(i);if(this.deleted)return a;const{style:r}=a;r.fontSize=`calc(${u(this,nn)}px * var(--scale-factor))`,r.color=u(this,Vn),a.replaceChildren();for(const c of u(this,en).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),a.append(h)}const o=be._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(o,o),popupContent:u(this,en)}),a}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};Vn=new WeakMap,en=new WeakMap,jd=new WeakMap,Wo=new WeakMap,nn=new WeakMap,qe=new WeakSet,RE=function(i){const a=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-u(this,nn))*this.parentScale),O(this,nn,o),N(this,qe,Kp).call(this)},r=u(this,nn);this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},DE=function(i){const a=o=>{O(this,Vn,this.editorDiv.style.color=o)},r=u(this,Vn);this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ME=function(){var r;const i=[];this.editorDiv.normalize();let a=null;for(const o of this.editorDiv.childNodes)(a==null?void 0:a.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(i.push(N(r=be,xs,Qp).call(r,o)),a=o);return i.join(`
`)},Kp=function(){const[i,a]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:c}=this,h=c.style.display,d=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",o.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=r.width/i,this.height=r.height/a):(this.width=r.height/i,this.height=r.width/a),this.fixAndSetPosition()},xs=new WeakSet,Qp=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(Op,"")},Zp=function(){if(this.editorDiv.replaceChildren(),!!u(this,en))for(const i of u(this,en).split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(a)}},OE=function(){return u(this,en).replaceAll(" "," ")},ly=function(i){return i.replaceAll(" "," ")},LE=function(i){const{value:a,fontSize:r,color:o,pageIndex:c}=this._initialData;return this._hasBeenMoved||i.value!==a||i.fontSize!==r||i.color.some((h,d)=>h!==o[d])||i.pageIndex!==c},z(be,xs),kt(be,"_freeTextDefaultContent",""),kt(be,"_internalPadding",0),kt(be,"_defaultColor",null),kt(be,"_defaultFontSize",10),kt(be,"_type","freetext"),kt(be,"_editorType",qt.FREETEXT);let oy=be;class kE{toSVGPath(){ye("Abstract method `toSVGPath` must be implemented.")}get box(){ye("Abstract getter `box` must be implemented.")}serialize(t,i){ye("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ye("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ye("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var an,Wn,Gc,Xc,va,Xt,$o,Ko,Gd,Xd,Yc,Vc,Ar,Yd,Lg,kg,Ke,Nh,NE,zE,PE,HE,FE,IE;const Qa=class Qa{constructor({x:t,y:i},a,r,o,c,h=0){z(this,Ke);z(this,an);z(this,Wn,[]);z(this,Gc);z(this,Xc);z(this,va,[]);z(this,Xt,new Float64Array(18));z(this,$o);z(this,Ko);z(this,Gd);z(this,Xd);z(this,Yc);z(this,Vc);z(this,Ar,[]);O(this,an,a),O(this,Vc,o*r),O(this,Xc,c),u(this,Xt).set([NaN,NaN,NaN,NaN,t,i],6),O(this,Gc,h),O(this,Xd,u(Qa,Yd)*r),O(this,Gd,u(Qa,kg)*r),O(this,Yc,r),u(this,Ar).push(t,i)}isEmpty(){return isNaN(u(this,Xt)[8])}add({x:t,y:i}){var H;O(this,$o,t),O(this,Ko,i);const[a,r,o,c]=u(this,an);let[h,d,g,m]=u(this,Xt).subarray(8,12);const y=t-g,v=i-m,S=Math.hypot(y,v);if(S<u(this,Gd))return!1;const w=S-u(this,Xd),x=w/S,E=x*y,A=x*v;let _=h,T=d;h=g,d=m,g+=E,m+=A,(H=u(this,Ar))==null||H.push(t,i);const R=-A/w,D=E/w,k=R*u(this,Vc),M=D*u(this,Vc);return u(this,Xt).set(u(this,Xt).subarray(2,8),0),u(this,Xt).set([g+k,m+M],4),u(this,Xt).set(u(this,Xt).subarray(14,18),12),u(this,Xt).set([g-k,m-M],16),isNaN(u(this,Xt)[6])?(u(this,va).length===0&&(u(this,Xt).set([h+k,d+M],2),u(this,va).push(NaN,NaN,NaN,NaN,(h+k-a)/o,(d+M-r)/c),u(this,Xt).set([h-k,d-M],14),u(this,Wn).push(NaN,NaN,NaN,NaN,(h-k-a)/o,(d-M-r)/c)),u(this,Xt).set([_,T,h,d,g,m],6),!this.isEmpty()):(u(this,Xt).set([_,T,h,d,g,m],6),Math.abs(Math.atan2(T-d,_-h)-Math.atan2(A,E))<Math.PI/2?([h,d,g,m]=u(this,Xt).subarray(2,6),u(this,va).push(NaN,NaN,NaN,NaN,((h+g)/2-a)/o,((d+m)/2-r)/c),[h,d,_,T]=u(this,Xt).subarray(14,18),u(this,Wn).push(NaN,NaN,NaN,NaN,((_+h)/2-a)/o,((T+d)/2-r)/c),!0):([_,T,h,d,g,m]=u(this,Xt).subarray(0,6),u(this,va).push(((_+5*h)/6-a)/o,((T+5*d)/6-r)/c,((5*h+g)/6-a)/o,((5*d+m)/6-r)/c,((h+g)/2-a)/o,((d+m)/2-r)/c),[g,m,h,d,_,T]=u(this,Xt).subarray(12,18),u(this,Wn).push(((_+5*h)/6-a)/o,((T+5*d)/6-r)/c,((5*h+g)/6-a)/o,((5*d+m)/6-r)/c,((h+g)/2-a)/o,((d+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=u(this,va),i=u(this,Wn);if(isNaN(u(this,Xt)[6])&&!this.isEmpty())return N(this,Ke,NE).call(this);const a=[];a.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?a.push(`L${t[r+4]} ${t[r+5]}`):a.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);N(this,Ke,PE).call(this,a);for(let r=i.length-6;r>=6;r-=6)isNaN(i[r])?a.push(`L${i[r+4]} ${i[r+5]}`):a.push(`C${i[r]} ${i[r+1]} ${i[r+2]} ${i[r+3]} ${i[r+4]} ${i[r+5]}`);return N(this,Ke,zE).call(this,a),a.join(" ")}newFreeDrawOutline(t,i,a,r,o,c){return new qE(t,i,a,r,o,c)}getOutlines(){var y;const t=u(this,va),i=u(this,Wn),a=u(this,Xt),[r,o,c,h]=u(this,an),d=new Float64Array((((y=u(this,Ar))==null?void 0:y.length)??0)+2);for(let v=0,S=d.length-2;v<S;v+=2)d[v]=(u(this,Ar)[v]-r)/c,d[v+1]=(u(this,Ar)[v+1]-o)/h;if(d[d.length-2]=(u(this,$o)-r)/c,d[d.length-1]=(u(this,Ko)-o)/h,isNaN(a[6])&&!this.isEmpty())return N(this,Ke,HE).call(this,d);const g=new Float64Array(u(this,va).length+24+u(this,Wn).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){g[v]=g[v+1]=NaN;continue}g[v]=t[v],g[v+1]=t[v+1]}m=N(this,Ke,IE).call(this,g,m);for(let v=i.length-6;v>=6;v-=6)for(let S=0;S<6;S+=2){if(isNaN(i[v+S])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=i[v+S],g[m+1]=i[v+S+1],m+=2}return N(this,Ke,FE).call(this,g,m),this.newFreeDrawOutline(g,d,u(this,an),u(this,Yc),u(this,Gc),u(this,Xc))}};an=new WeakMap,Wn=new WeakMap,Gc=new WeakMap,Xc=new WeakMap,va=new WeakMap,Xt=new WeakMap,$o=new WeakMap,Ko=new WeakMap,Gd=new WeakMap,Xd=new WeakMap,Yc=new WeakMap,Vc=new WeakMap,Ar=new WeakMap,Yd=new WeakMap,Lg=new WeakMap,kg=new WeakMap,Ke=new WeakSet,Nh=function(){const t=u(this,Xt).subarray(4,6),i=u(this,Xt).subarray(16,18),[a,r,o,c]=u(this,an);return[(u(this,$o)+(t[0]-i[0])/2-a)/o,(u(this,Ko)+(t[1]-i[1])/2-r)/c,(u(this,$o)+(i[0]-t[0])/2-a)/o,(u(this,Ko)+(i[1]-t[1])/2-r)/c]},NE=function(){const[t,i,a,r]=u(this,an),[o,c,h,d]=N(this,Ke,Nh).call(this);return`M${(u(this,Xt)[2]-t)/a} ${(u(this,Xt)[3]-i)/r} L${(u(this,Xt)[4]-t)/a} ${(u(this,Xt)[5]-i)/r} L${o} ${c} L${h} ${d} L${(u(this,Xt)[16]-t)/a} ${(u(this,Xt)[17]-i)/r} L${(u(this,Xt)[14]-t)/a} ${(u(this,Xt)[15]-i)/r} Z`},zE=function(t){const i=u(this,Wn);t.push(`L${i[4]} ${i[5]} Z`)},PE=function(t){const[i,a,r,o]=u(this,an),c=u(this,Xt).subarray(4,6),h=u(this,Xt).subarray(16,18),[d,g,m,y]=N(this,Ke,Nh).call(this);t.push(`L${(c[0]-i)/r} ${(c[1]-a)/o} L${d} ${g} L${m} ${y} L${(h[0]-i)/r} ${(h[1]-a)/o}`)},HE=function(t){const i=u(this,Xt),[a,r,o,c]=u(this,an),[h,d,g,m]=N(this,Ke,Nh).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(i[2]-a)/o,(i[3]-r)/c,NaN,NaN,NaN,NaN,(i[4]-a)/o,(i[5]-r)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(i[16]-a)/o,(i[17]-r)/c,NaN,NaN,NaN,NaN,(i[14]-a)/o,(i[15]-r)/c],0),this.newFreeDrawOutline(y,t,u(this,an),u(this,Yc),u(this,Gc),u(this,Xc))},FE=function(t,i){const a=u(this,Wn);return t.set([NaN,NaN,NaN,NaN,a[4],a[5]],i),i+=6},IE=function(t,i){const a=u(this,Xt).subarray(4,6),r=u(this,Xt).subarray(16,18),[o,c,h,d]=u(this,an),[g,m,y,v]=N(this,Ke,Nh).call(this);return t.set([NaN,NaN,NaN,NaN,(a[0]-o)/h,(a[1]-c)/d,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(r[0]-o)/h,(r[1]-c)/d],i),i+=24},z(Qa,Yd,8),z(Qa,Lg,2),z(Qa,kg,u(Qa,Yd)+u(Qa,Lg));let pg=Qa;var Wc,Qo,ds,Vd,sn,Wd,ke,Gi,zh,Ph,BE;class qE extends kE{constructor(i,a,r,o,c,h){super();z(this,Gi);z(this,Wc);z(this,Qo,null);z(this,ds);z(this,Vd);z(this,sn);z(this,Wd);z(this,ke);O(this,ke,i),O(this,sn,a),O(this,Wc,r),O(this,Wd,o),O(this,ds,c),O(this,Vd,h),N(this,Gi,BE).call(this,h);const{x:d,y:g,width:m,height:y}=u(this,Qo);for(let v=0,S=i.length;v<S;v+=2)i[v]=(i[v]-d)/m,i[v+1]=(i[v+1]-g)/y;for(let v=0,S=a.length;v<S;v+=2)a[v]=(a[v]-d)/m,a[v+1]=(a[v+1]-g)/y}toSVGPath(){const i=[`M${u(this,ke)[4]} ${u(this,ke)[5]}`];for(let a=6,r=u(this,ke).length;a<r;a+=6){if(isNaN(u(this,ke)[a])){i.push(`L${u(this,ke)[a+4]} ${u(this,ke)[a+5]}`);continue}i.push(`C${u(this,ke)[a]} ${u(this,ke)[a+1]} ${u(this,ke)[a+2]} ${u(this,ke)[a+3]} ${u(this,ke)[a+4]} ${u(this,ke)[a+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,a,r,o],c){const h=r-i,d=o-a;let g,m;switch(c){case 0:g=N(this,Gi,zh).call(this,u(this,ke),i,o,h,-d),m=N(this,Gi,zh).call(this,u(this,sn),i,o,h,-d);break;case 90:g=N(this,Gi,Ph).call(this,u(this,ke),i,a,h,d),m=N(this,Gi,Ph).call(this,u(this,sn),i,a,h,d);break;case 180:g=N(this,Gi,zh).call(this,u(this,ke),r,a,-h,d),m=N(this,Gi,zh).call(this,u(this,sn),r,a,-h,d);break;case 270:g=N(this,Gi,Ph).call(this,u(this,ke),r,o,-h,-d),m=N(this,Gi,Ph).call(this,u(this,sn),r,o,-h,-d);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return u(this,Qo)}newOutliner(i,a,r,o,c,h=0){return new pg(i,a,r,o,c,h)}getNewOutline(i,a){const{x:r,y:o,width:c,height:h}=u(this,Qo),[d,g,m,y]=u(this,Wc),v=c*m,S=h*y,w=r*m+d,x=o*y+g,E=this.newOutliner({x:u(this,sn)[0]*v+w,y:u(this,sn)[1]*S+x},u(this,Wc),u(this,Wd),i,u(this,Vd),a??u(this,ds));for(let A=2;A<u(this,sn).length;A+=2)E.add({x:u(this,sn)[A]*v+w,y:u(this,sn)[A+1]*S+x});return E.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Wc=new WeakMap,Qo=new WeakMap,ds=new WeakMap,Vd=new WeakMap,sn=new WeakMap,Wd=new WeakMap,ke=new WeakMap,Gi=new WeakSet,zh=function(i,a,r,o,c){const h=new Float64Array(i.length);for(let d=0,g=i.length;d<g;d+=2)h[d]=a+i[d]*o,h[d+1]=r+i[d+1]*c;return h},Ph=function(i,a,r,o,c){const h=new Float64Array(i.length);for(let d=0,g=i.length;d<g;d+=2)h[d]=a+i[d+1]*o,h[d+1]=r+i[d]*c;return h},BE=function(i){const a=u(this,ke);let r=a[4],o=a[5],c=r,h=o,d=r,g=o,m=r,y=o;const v=i?Math.max:Math.min;for(let A=6,_=a.length;A<_;A+=6){if(isNaN(a[A]))c=Math.min(c,a[A+4]),h=Math.min(h,a[A+5]),d=Math.max(d,a[A+4]),g=Math.max(g,a[A+5]),y<a[A+5]?(m=a[A+4],y=a[A+5]):y===a[A+5]&&(m=v(m,a[A+4]));else{const T=Dt.bezierBoundingBox(r,o,...a.slice(A,A+6));c=Math.min(c,T[0]),h=Math.min(h,T[1]),d=Math.max(d,T[2]),g=Math.max(g,T[3]),y<T[3]?(m=T[2],y=T[3]):y===T[3]&&(m=v(m,T[2]))}r=a[A+4],o=a[A+5]}const S=c-u(this,ds),w=h-u(this,ds),x=d-c+2*u(this,ds),E=g-h+2*u(this,ds);O(this,Qo,{x:S,y:w,width:x,height:E,lastPoint:[m,y]})};var $d,Sr,$n,Li,UE,Jp,jE,GE,cy;class $w{constructor(t,i=0,a=0,r=!0){z(this,Li);z(this,$d);z(this,Sr,[]);z(this,$n,[]);let o=1/0,c=-1/0,h=1/0,d=-1/0;const g=10**-4;for(const{x:E,y:A,width:_,height:T}of t){const R=Math.floor((E-i)/g)*g,D=Math.ceil((E+_+i)/g)*g,k=Math.floor((A-i)/g)*g,M=Math.ceil((A+T+i)/g)*g,L=[R,k,M,!0],H=[D,k,M,!1];u(this,Sr).push(L,H),o=Math.min(o,R),c=Math.max(c,D),h=Math.min(h,k),d=Math.max(d,M)}const m=c-o+2*a,y=d-h+2*a,v=o-a,S=h-a,w=u(this,Sr).at(r?-1:-2),x=[w[0],w[2]];for(const E of u(this,Sr)){const[A,_,T]=E;E[0]=(A-v)/m,E[1]=(_-S)/y,E[2]=(T-S)/y}O(this,$d,{x:v,y:S,width:m,height:y,lastPoint:x})}getOutlines(){u(this,Sr).sort((i,a)=>i[0]-a[0]||i[1]-a[1]||i[2]-a[2]);const t=[];for(const i of u(this,Sr))i[3]?(t.push(...N(this,Li,cy).call(this,i)),N(this,Li,jE).call(this,i)):(N(this,Li,GE).call(this,i),t.push(...N(this,Li,cy).call(this,i)));return N(this,Li,UE).call(this,t)}}$d=new WeakMap,Sr=new WeakMap,$n=new WeakMap,Li=new WeakSet,UE=function(t){const i=[],a=new Set;for(const c of t){const[h,d,g]=c;i.push([h,d,c],[h,g,c])}i.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=i.length;c<h;c+=2){const d=i[c][2],g=i[c+1][2];d.push(g),g.push(d),a.add(d),a.add(g)}const r=[];let o;for(;a.size>0;){const c=a.values().next().value;let[h,d,g,m,y]=c;a.delete(c);let v=h,S=d;for(o=[h,g],r.push(o);;){let w;if(a.has(m))w=m;else if(a.has(y))w=y;else break;a.delete(w),[h,d,g,m,y]=w,v!==h&&(o.push(v,S,h,S===d?d:g),v=h),S=S===d?g:d}o.push(v,S)}return new ZD(r,u(this,$d))},Jp=function(t){const i=u(this,$n);let a=0,r=i.length-1;for(;a<=r;){const o=a+r>>1,c=i[o][0];if(c===t)return o;c<t?a=o+1:r=o-1}return r+1},jE=function([,t,i]){const a=N(this,Li,Jp).call(this,t);u(this,$n).splice(a,0,[t,i])},GE=function([,t,i]){const a=N(this,Li,Jp).call(this,t);for(let r=a;r<u(this,$n).length;r++){const[o,c]=u(this,$n)[r];if(o!==t)break;if(o===t&&c===i){u(this,$n).splice(r,1);return}}for(let r=a-1;r>=0;r--){const[o,c]=u(this,$n)[r];if(o!==t)break;if(o===t&&c===i){u(this,$n).splice(r,1);return}}},cy=function(t){const[i,a,r]=t,o=[[i,a,r]],c=N(this,Li,Jp).call(this,r);for(let h=0;h<c;h++){const[d,g]=u(this,$n)[h];for(let m=0,y=o.length;m<y;m++){const[,v,S]=o[m];if(!(g<=v||S<=d)){if(v>=d){if(S>g)o[m][1]=g;else{if(y===1)return[];o.splice(m,1),m--,y--}continue}o[m][2]=d,S>g&&o.push([i,g,S])}}}return o};var Kd,$c;class ZD extends kE{constructor(i,a){super();z(this,Kd);z(this,$c);O(this,$c,i),O(this,Kd,a)}toSVGPath(){const i=[];for(const a of u(this,$c)){let[r,o]=a;i.push(`M${r} ${o}`);for(let c=2;c<a.length;c+=2){const h=a[c],d=a[c+1];h===r?(i.push(`V${d}`),o=d):d===o&&(i.push(`H${h}`),r=h)}i.push("Z")}return i.join(" ")}serialize([i,a,r,o],c){const h=[],d=r-i,g=o-a;for(const m of u(this,$c)){const y=new Array(m.length);for(let v=0;v<m.length;v+=2)y[v]=i+m[v]*d,y[v+1]=o-m[v+1]*g;h.push(y)}return h}get box(){return u(this,Kd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Kd=new WeakMap,$c=new WeakMap;class uy extends pg{newFreeDrawOutline(t,i,a,r,o,c){return new JD(t,i,a,r,o,c)}get classNamesForDrawing(){return["highlight","free"]}}class JD extends qE{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,i,a,r,o,c=0){return new uy(t,i,a,r,o,c)}}var Kn,Zo,Kc,Ve,Qd,Qc,Zd,Jd,wr,Qn,Zc,tf,he,hy,dy,fy,oo,XE,tr;const Ii=class Ii{constructor({editor:t=null,uiManager:i=null}){z(this,he);z(this,Kn,null);z(this,Zo,null);z(this,Kc);z(this,Ve,null);z(this,Qd,!1);z(this,Qc,!1);z(this,Zd,null);z(this,Jd);z(this,wr,null);z(this,Qn,null);z(this,Zc);var a;t?(O(this,Qc,!1),O(this,Zc,Nt.HIGHLIGHT_COLOR),O(this,Zd,t)):(O(this,Qc,!0),O(this,Zc,Nt.HIGHLIGHT_DEFAULT_COLOR)),O(this,Qn,(t==null?void 0:t._uiManager)||i),O(this,Jd,u(this,Qn)._eventBus),O(this,Kc,(t==null?void 0:t.color)||((a=u(this,Qn))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),u(Ii,tf)||O(Ii,tf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Kt(this,"_keyboardManager",new cf([[["Escape","mac+Escape"],Ii.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ii.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ii.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ii.prototype._moveToPrevious],[["Home","mac+Home"],Ii.prototype._moveToBeginning],[["End","mac+End"],Ii.prototype._moveToEnd]]))}renderButton(){const t=O(this,Kn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const i=u(this,Qn)._signal;t.addEventListener("click",N(this,he,oo).bind(this),{signal:i}),t.addEventListener("keydown",N(this,he,fy).bind(this),{signal:i});const a=O(this,Zo,document.createElement("span"));return a.className="swatch",a.setAttribute("aria-hidden",!0),a.style.backgroundColor=u(this,Kc),t.append(a),t}renderMainDropdown(){const t=O(this,Ve,N(this,he,hy).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===u(this,Kn)){N(this,he,oo).call(this,t);return}const i=t.target.getAttribute("data-color");i&&N(this,he,dy).call(this,i,t)}_moveToNext(t){var i,a;if(!u(this,he,tr)){N(this,he,oo).call(this,t);return}if(t.target===u(this,Kn)){(i=u(this,Ve).firstChild)==null||i.focus();return}(a=t.target.nextSibling)==null||a.focus()}_moveToPrevious(t){var i,a;if(t.target===((i=u(this,Ve))==null?void 0:i.firstChild)||t.target===u(this,Kn)){u(this,he,tr)&&this._hideDropdownFromKeyboard();return}u(this,he,tr)||N(this,he,oo).call(this,t),(a=t.target.previousSibling)==null||a.focus()}_moveToBeginning(t){var i;if(!u(this,he,tr)){N(this,he,oo).call(this,t);return}(i=u(this,Ve).firstChild)==null||i.focus()}_moveToEnd(t){var i;if(!u(this,he,tr)){N(this,he,oo).call(this,t);return}(i=u(this,Ve).lastChild)==null||i.focus()}hideDropdown(){var t,i;(t=u(this,Ve))==null||t.classList.add("hidden"),(i=u(this,wr))==null||i.abort(),O(this,wr,null)}_hideDropdownFromKeyboard(){var t;if(!u(this,Qc)){if(!u(this,he,tr)){(t=u(this,Zd))==null||t.unselect();return}this.hideDropdown(),u(this,Kn).focus({preventScroll:!0,focusVisible:u(this,Qd)})}}updateColor(t){if(u(this,Zo)&&(u(this,Zo).style.backgroundColor=t),!u(this,Ve))return;const i=u(this,Qn).highlightColors.values();for(const a of u(this,Ve).children)a.setAttribute("aria-selected",i.next().value===t)}destroy(){var t,i;(t=u(this,Kn))==null||t.remove(),O(this,Kn,null),O(this,Zo,null),(i=u(this,Ve))==null||i.remove(),O(this,Ve,null)}};Kn=new WeakMap,Zo=new WeakMap,Kc=new WeakMap,Ve=new WeakMap,Qd=new WeakMap,Qc=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,wr=new WeakMap,Qn=new WeakMap,Zc=new WeakMap,tf=new WeakMap,he=new WeakSet,hy=function(){const t=document.createElement("div"),i=u(this,Qn)._signal;t.addEventListener("contextmenu",kn,{signal:i}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[a,r]of u(this,Qn).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=a,o.setAttribute("data-l10n-id",u(Ii,tf)[a]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.setAttribute("aria-selected",r===u(this,Kc)),o.addEventListener("click",N(this,he,dy).bind(this,r),{signal:i}),t.append(o)}return t.addEventListener("keydown",N(this,he,fy).bind(this),{signal:i}),t},dy=function(t,i){i.stopPropagation(),u(this,Jd).dispatch("switchannotationeditorparams",{source:this,type:u(this,Zc),value:t})},fy=function(t){Ii._keyboardManager.exec(this,t)},oo=function(t){if(u(this,he,tr)){this.hideDropdown();return}if(O(this,Qd,t.detail===0),u(this,wr)||(O(this,wr,new AbortController),window.addEventListener("pointerdown",N(this,he,XE).bind(this),{signal:u(this,Qn).combinedSignal(u(this,wr))})),u(this,Ve)){u(this,Ve).classList.remove("hidden");return}const i=O(this,Ve,N(this,he,hy).call(this));u(this,Kn).append(i)},XE=function(t){var i;(i=u(this,Ve))!=null&&i.contains(t.target)||this.hideDropdown()},tr=function(){return u(this,Ve)&&!u(this,Ve).classList.contains("hidden")},z(Ii,tf,null);let gg=Ii;var Jc,ef,fs,Jo,tu,Cn,nf,af,tl,Zn,Si,Ui,eu,ps,We,iu,Rn,sf,Ft,py,tg,YE,VE,WE,gy,lo,On,rc,$E,eg,Hh,KE,QE,ZE,JE,tx;const ee=class ee extends oe{constructor(i){super({...i,name:"highlightEditor"});z(this,Ft);z(this,Jc,null);z(this,ef,0);z(this,fs);z(this,Jo,null);z(this,tu,null);z(this,Cn,null);z(this,nf,null);z(this,af,0);z(this,tl,null);z(this,Zn,null);z(this,Si,null);z(this,Ui,!1);z(this,eu,null);z(this,ps);z(this,We,null);z(this,iu,"");z(this,Rn);z(this,sf,"");this.color=i.color||ee._defaultColor,O(this,Rn,i.thickness||ee._defaultThickness),O(this,ps,i.opacity||ee._defaultOpacity),O(this,fs,i.boxes||null),O(this,sf,i.methodOfCreation||""),O(this,iu,i.text||""),this._isDraggable=!1,i.highlightId>-1?(O(this,Ui,!0),N(this,Ft,tg).call(this,i),N(this,Ft,lo).call(this)):u(this,fs)&&(O(this,Jc,i.anchorNode),O(this,ef,i.anchorOffset),O(this,nf,i.focusNode),O(this,af,i.focusOffset),N(this,Ft,py).call(this),N(this,Ft,lo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=ee.prototype;return Kt(this,"_keyboardManager",new cf([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Ui)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Rn),methodOfCreation:u(this,sf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,a){var r;oe.initialize(i,a),ee._defaultColor||(ee._defaultColor=((r=a.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(i,a){switch(i){case Nt.HIGHLIGHT_DEFAULT_COLOR:ee._defaultColor=a;break;case Nt.HIGHLIGHT_THICKNESS:ee._defaultThickness=a;break}}translateInPage(i,a){}get toolbarPosition(){return u(this,eu)}updateParams(i,a){switch(i){case Nt.HIGHLIGHT_COLOR:N(this,Ft,YE).call(this,a);break;case Nt.HIGHLIGHT_THICKNESS:N(this,Ft,VE).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[Nt.HIGHLIGHT_DEFAULT_COLOR,ee._defaultColor],[Nt.HIGHLIGHT_THICKNESS,ee._defaultThickness]]}get propertiesToUpdate(){return[[Nt.HIGHLIGHT_COLOR,this.color||ee._defaultColor],[Nt.HIGHLIGHT_THICKNESS,u(this,Rn)||ee._defaultThickness],[Nt.HIGHLIGHT_FREE,u(this,Ui)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(O(this,tu,new gg({editor:this})),i.addColorPicker(u(this,tu))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,Ft,Hh).call(this))}getBaseTranslation(){return[0,0]}getRect(i,a){return super.getRect(i,a,N(this,Ft,Hh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){N(this,Ft,gy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,Ft,lo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var r;let a=!1;this.parent&&!i?N(this,Ft,gy).call(this):i&&(N(this,Ft,lo).call(this,i),a=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),a&&this.select()}rotate(i){var o,c,h;const{drawLayer:a}=this.parent;let r;u(this,Ui)?(i=(i-this.rotation+360)%360,r=N(o=ee,On,rc).call(o,u(this,Zn).box,i)):r=N(c=ee,On,rc).call(c,this,i),a.rotate(u(this,Si),i),a.rotate(u(this,We),i),a.updateBox(u(this,Si),r),a.updateBox(u(this,We),N(h=ee,On,rc).call(h,u(this,Cn).box,i))}render(){if(this.div)return this.div;const i=super.render();u(this,iu)&&(i.setAttribute("aria-label",u(this,iu)),i.setAttribute("role","mark")),u(this,Ui)?i.classList.add("free"):this.div.addEventListener("keydown",N(this,Ft,$E).bind(this),{signal:this._uiManager._signal});const a=O(this,tl,document.createElement("div"));i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",a.style.clipPath=u(this,Jo);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),dg(this,u(this,tl),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,We),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,We),"hovered")}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:N(this,Ft,eg).call(this,!0);break;case 1:case 3:N(this,Ft,eg).call(this,!1);break}}select(){var i,a;super.select(),u(this,We)&&((i=this.parent)==null||i.drawLayer.removeClass(u(this,We),"hovered"),(a=this.parent)==null||a.drawLayer.addClass(u(this,We),"selected"))}unselect(){var i;super.unselect(),u(this,We)&&((i=this.parent)==null||i.drawLayer.removeClass(u(this,We),"selected"),u(this,Ui)||N(this,Ft,eg).call(this,!1))}get _mustFixPosition(){return!u(this,Ui)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.show(u(this,Si),i),this.parent.drawLayer.show(u(this,We),i))}static startHighlighting(i,a,{target:r,x:o,y:c}){const{x:h,y:d,width:g,height:m}=r.getBoundingClientRect(),y=new AbortController,v=i.combinedSignal(y),S=x=>{x.preventDefault(),x.stopPropagation()},w=x=>{y.abort(),N(this,On,JE).call(this,i,x)};window.addEventListener("blur",w,{signal:v}),window.addEventListener("pointerup",w,{signal:v}),window.addEventListener("pointerdown",S,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",kn,{signal:v}),r.addEventListener("pointermove",N(this,On,ZE).bind(this,i),{signal:v}),this._freeHighlight=new uy({x:o,y:c},[h,d,g,m],i.scale,this._defaultThickness/2,a,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(i,a,r){var x,E,A,_;let o=null;if(i instanceof xE){const{data:{quadPoints:T,rect:R,rotation:D,id:k,color:M,opacity:L,popupRef:H},parent:{page:{pageNumber:Y}}}=i;o=i={annotationType:qt.HIGHLIGHT,color:Array.from(M),opacity:L,quadPoints:T,boxes:null,pageIndex:Y-1,rect:R.slice(0),rotation:D,id:k,deleted:!1,popupRef:H}}else if(i instanceof tv){const{data:{inkLists:T,rect:R,rotation:D,id:k,color:M,borderStyle:{rawWidth:L},popupRef:H},parent:{page:{pageNumber:Y}}}=i;o=i={annotationType:qt.HIGHLIGHT,color:Array.from(M),thickness:L,inkLists:T,boxes:null,pageIndex:Y-1,rect:R.slice(0),rotation:D,id:k,deleted:!1,popupRef:H}}const{color:c,quadPoints:h,inkLists:d,opacity:g}=i,m=await super.deserialize(i,a,r);m.color=Dt.makeHexColor(...c),O(m,ps,g||1),d&&O(m,Rn,i.thickness),m.annotationElementId=i.id||null,m._initialData=o;const[y,v]=m.pageDimensions,[S,w]=m.pageTranslation;if(h){const T=O(m,fs,[]);for(let R=0;R<h.length;R+=8)T.push({x:(h[R]-S)/y,y:1-(h[R+1]-w)/v,width:(h[R+2]-h[R])/y,height:(h[R+1]-h[R+5])/v});N(x=m,Ft,py).call(x),N(E=m,Ft,lo).call(E),m.rotate(m.rotation)}else if(d){O(m,Ui,!0);const T=d[0],R={x:T[0]-S,y:v-(T[1]-w)},D=new uy(R,[0,0,y,v],1,u(m,Rn)/2,!0,.001);for(let L=0,H=T.length;L<H;L+=2)R.x=T[L]-S,R.y=v-(T[L+1]-w),D.add(R);const{id:k,clipPathId:M}=a.drawLayer.draw(D,m.color,m._defaultOpacity,!0);N(A=m,Ft,tg).call(A,{highlightOutlines:D.getOutlines(),highlightId:k,clipPathId:M}),N(_=m,Ft,lo).call(_)}return m}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const a=this.getRect(0,0),r=oe._colorManager.convert(this.color),o={annotationType:qt.HIGHLIGHT,color:r,opacity:u(this,ps),thickness:u(this,Rn),quadPoints:N(this,Ft,KE).call(this),outlines:N(this,Ft,QE).call(this,a),pageIndex:this.pageIndex,rect:a,rotation:N(this,Ft,Hh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!N(this,Ft,tx).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Jc=new WeakMap,ef=new WeakMap,fs=new WeakMap,Jo=new WeakMap,tu=new WeakMap,Cn=new WeakMap,nf=new WeakMap,af=new WeakMap,tl=new WeakMap,Zn=new WeakMap,Si=new WeakMap,Ui=new WeakMap,eu=new WeakMap,ps=new WeakMap,We=new WeakMap,iu=new WeakMap,Rn=new WeakMap,sf=new WeakMap,Ft=new WeakSet,py=function(){const i=new $w(u(this,fs),.001);O(this,Zn,i.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,Zn).box;const a=new $w(u(this,fs),.0025,.001,this._uiManager.direction==="ltr");O(this,Cn,a.getOutlines());const{lastPoint:r}=u(this,Cn).box;O(this,eu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},tg=function({highlightOutlines:i,highlightId:a,clipPathId:r}){var y,v;if(O(this,Zn,i),O(this,Cn,i.getNewOutline(u(this,Rn)/2+1.5,.0025)),a>=0)O(this,Si,a),O(this,Jo,r),this.parent.drawLayer.finalizeLine(a,i),O(this,We,this.parent.drawLayer.drawOutline(u(this,Cn)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,Si),i),this.parent.drawLayer.updateBox(u(this,Si),N(y=ee,On,rc).call(y,u(this,Zn).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,We),u(this,Cn)),this.parent.drawLayer.updateBox(u(this,We),N(v=ee,On,rc).call(v,u(this,Cn).box,S))}const{x:c,y:h,width:d,height:g}=i.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=d,this.height=g;break;case 90:{const[S,w]=this.parentDimensions;this.x=h,this.y=1-c,this.width=d*w/S,this.height=g*S/w;break}case 180:this.x=1-c,this.y=1-h,this.width=d,this.height=g;break;case 270:{const[S,w]=this.parentDimensions;this.x=1-h,this.y=c,this.width=d*w/S,this.height=g*S/w;break}}const{lastPoint:m}=u(this,Cn).box;O(this,eu,[(m[0]-c)/d,(m[1]-h)/g])},YE=function(i){const a=(c,h)=>{var d,g,m;this.color=c,(d=this.parent)==null||d.drawLayer.changeColor(u(this,Si),c),(g=u(this,tu))==null||g.updateColor(c),O(this,ps,h),(m=this.parent)==null||m.drawLayer.changeOpacity(u(this,Si),h)},r=this.color,o=u(this,ps);this.addCommands({cmd:a.bind(this,i,ee._defaultOpacity),undo:a.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},VE=function(i){const a=u(this,Rn),r=o=>{O(this,Rn,o),N(this,Ft,WE).call(this,o)};this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},WE=function(i){if(!u(this,Ui))return;N(this,Ft,tg).call(this,{highlightOutlines:u(this,Zn).getNewOutline(i/2)}),this.fixAndSetPosition();const[a,r]=this.parentDimensions;this.setDims(this.width*a,this.height*r)},gy=function(){u(this,Si)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Si)),O(this,Si,null),this.parent.drawLayer.remove(u(this,We)),O(this,We,null))},lo=function(i=this.parent){u(this,Si)===null&&({id:Ti(this,Si)._,clipPathId:Ti(this,Jo)._}=i.drawLayer.draw(u(this,Zn),this.color,u(this,ps)),O(this,We,i.drawLayer.drawOutline(u(this,Cn))),u(this,tl)&&(u(this,tl).style.clipPath=u(this,Jo)))},On=new WeakSet,rc=function({x:i,y:a,width:r,height:o},c){switch(c){case 90:return{x:1-a-o,y:i,width:o,height:r};case 180:return{x:1-i-r,y:1-a-o,width:r,height:o};case 270:return{x:a,y:1-i-r,width:o,height:r}}return{x:i,y:a,width:r,height:o}},$E=function(i){ee._keyboardManager.exec(this,i)},eg=function(i){if(!u(this,Jc))return;const a=window.getSelection();i?a.setPosition(u(this,Jc),u(this,ef)):a.setPosition(u(this,nf),u(this,af))},Hh=function(){return u(this,Ui)?this.rotation:0},KE=function(){if(u(this,Ui))return null;const[i,a]=this.pageDimensions,[r,o]=this.pageTranslation,c=u(this,fs),h=new Float32Array(c.length*8);let d=0;for(const{x:g,y:m,width:y,height:v}of c){const S=g*i+r,w=(1-m-v)*a+o;h[d]=h[d+4]=S,h[d+1]=h[d+3]=w,h[d+2]=h[d+6]=S+y*i,h[d+5]=h[d+7]=w+v*a,d+=8}return h},QE=function(i){return u(this,Zn).serialize(i,N(this,Ft,Hh).call(this))},ZE=function(i,a){this._freeHighlight.add(a)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},JE=function(i,a){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(a,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},tx=function(i){const{color:a}=this._initialData;return i.color.some((r,o)=>r!==a[o])},z(ee,On),kt(ee,"_defaultColor",null),kt(ee,"_defaultOpacity",1),kt(ee,"_defaultThickness",12),kt(ee,"_type","highlight"),kt(ee,"_editorType",qt.HIGHLIGHT),kt(ee,"_freeHighlightId",-1),kt(ee,"_freeHighlight",null),kt(ee,"_freeHighlightClipId","");let mg=ee;var el,il,Aa,gs,Dn,nl,al,sl,ms,nu,rl,ol,_r,St,ex,ix,nx,ax,by,sx,yy,rx,ox,lx,cx,ux,co,vy,Ay,Sy,ig,ng,oc,wy,ag,Cs,hx,_y,dx,fx,Ey,sg,Fh;const _e=class _e extends oe{constructor(i){super({...i,name:"inkEditor"});z(this,St);z(this,el,0);z(this,il,0);z(this,Aa,null);z(this,gs,new Path2D);z(this,Dn,!1);z(this,nl,null);z(this,al,!1);z(this,sl,!1);z(this,ms,null);z(this,nu,null);z(this,rl,0);z(this,ol,0);z(this,_r,null);this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i,a){oe.initialize(i,a)}static updateDefaultParams(i,a){switch(i){case Nt.INK_THICKNESS:_e._defaultThickness=a;break;case Nt.INK_COLOR:_e._defaultColor=a;break;case Nt.INK_OPACITY:_e._defaultOpacity=a/100;break}}updateParams(i,a){switch(i){case Nt.INK_THICKNESS:N(this,St,ex).call(this,a);break;case Nt.INK_COLOR:N(this,St,ix).call(this,a);break;case Nt.INK_OPACITY:N(this,St,nx).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[Nt.INK_THICKNESS,_e._defaultThickness],[Nt.INK_COLOR,_e._defaultColor||oe._defaultLineColor],[Nt.INK_OPACITY,Math.round(_e._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Nt.INK_THICKNESS,this.thickness||_e._defaultThickness],[Nt.INK_COLOR,this.color||_e._defaultColor||oe._defaultLineColor],[Nt.INK_OPACITY,Math.round(100*(this.opacity??_e._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(N(this,St,ig).call(this),N(this,St,ng).call(this)),this.isAttachedToDOM||(this.parent.add(this),N(this,St,oc).call(this)),N(this,St,Fh).call(this)))}remove(){var i;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,Aa)&&(clearTimeout(u(this,Aa)),O(this,Aa,null)),(i=u(this,ms))==null||i.disconnect(),O(this,ms,null),super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&i===null&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,a]=this.parentDimensions,r=this.width*i,o=this.height*a;this.setDimensions(r,o)}enableEditMode(){u(this,Dn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,N(this,St,vy).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),N(this,St,Ay).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,Dn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),O(this,Dn,!0),this.div.classList.add("disabled"),N(this,St,Fh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}canvasPointerdown(i){i.button!==0||!this.isInEditMode()||u(this,Dn)||(this.setInForeground(),i.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),N(this,St,sx).call(this,i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),N(this,St,yy).call(this,i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),N(this,St,Sy).call(this,i)}canvasPointerleave(i){N(this,St,Sy).call(this,i)}get isResizable(){return!this.isEmpty()&&u(this,Dn)}render(){if(this.div)return this.div;let i,a;this.width&&(i=this.x,a=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,c,h]=N(this,St,ax).call(this);if(this.setAt(r,o,0,0),this.setDims(c,h),N(this,St,ig).call(this),this.width){const[d,g]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*g),this.setAt(i*d,a*g,this.width*d,this.height*g),O(this,sl,!0),N(this,St,oc).call(this),this.setDims(this.width*d,this.height*g),N(this,St,co).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return N(this,St,ng).call(this),this.div}setDimensions(i,a){const r=Math.round(i),o=Math.round(a);if(u(this,rl)===r&&u(this,ol)===o)return;O(this,rl,r),O(this,ol,o),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=i/c,this.height=a/h,this.fixAndSetPosition(),u(this,Dn)&&N(this,St,wy).call(this,i,a),N(this,St,oc).call(this),N(this,St,co).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(i,a,r){var E,A,_;if(i instanceof tv)return null;const o=await super.deserialize(i,a,r);o.thickness=i.thickness,o.color=Dt.makeHexColor(...i.color),o.opacity=i.opacity;const[c,h]=o.pageDimensions,d=o.width*c,g=o.height*h,m=o.parentScale,y=i.thickness/2;O(o,Dn,!0),O(o,rl,Math.round(d)),O(o,ol,Math.round(g));const{paths:v,rect:S,rotation:w}=i;for(let{bezier:T}of v){T=N(E=_e,Cs,dx).call(E,T,S,w);const R=[];o.paths.push(R);let D=m*(T[0]-y),k=m*(T[1]-y);for(let L=2,H=T.length;L<H;L+=6){const Y=m*(T[L]-y),$=m*(T[L+1]-y),it=m*(T[L+2]-y),st=m*(T[L+3]-y),tt=m*(T[L+4]-y),Z=m*(T[L+5]-y);R.push([[D,k],[Y,$],[it,st],[tt,Z]]),D=tt,k=Z}const M=N(this,Cs,hx).call(this,R);o.bezierPath2D.push(M)}const x=N(A=o,St,Ey).call(A);return O(o,il,Math.max(oe.MIN_SIZE,x[2]-x[0])),O(o,el,Math.max(oe.MIN_SIZE,x[3]-x[1])),N(_=o,St,wy).call(_,d,g),o}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),a=oe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:qt.INK,color:a,thickness:this.thickness,opacity:this.opacity,paths:N(this,St,fx).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};el=new WeakMap,il=new WeakMap,Aa=new WeakMap,gs=new WeakMap,Dn=new WeakMap,nl=new WeakMap,al=new WeakMap,sl=new WeakMap,ms=new WeakMap,nu=new WeakMap,rl=new WeakMap,ol=new WeakMap,_r=new WeakMap,St=new WeakSet,ex=function(i){const a=o=>{this.thickness=o,N(this,St,Fh).call(this)},r=this.thickness;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ix=function(i){const a=o=>{this.color=o,N(this,St,co).call(this)},r=this.color;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},nx=function(i){const a=o=>{this.opacity=o,N(this,St,co).call(this)};i/=100;const r=this.opacity;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ax=function(){const{parentRotation:i,parentDimensions:[a,r]}=this;switch(i){case 90:return[0,r,r,a];case 180:return[a,r,a,r];case 270:return[a,0,r,a];default:return[0,0,a,r]}},by=function(){const{ctx:i,color:a,opacity:r,thickness:o,parentScale:c,scaleFactor:h}=this;i.lineWidth=o*c/h,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${a}${S2(r)}`},sx=function(i,a){this.canvas.addEventListener("contextmenu",kn,{signal:this._uiManager._signal}),N(this,St,Ay).call(this),O(this,nl,new AbortController);const r=this._uiManager.combinedSignal(u(this,nl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,u(this,sl)||(O(this,sl,!0),N(this,St,oc).call(this),this.thickness||(this.thickness=_e._defaultThickness),this.color||(this.color=_e._defaultColor||oe._defaultLineColor),this.opacity??(this.opacity=_e._defaultOpacity)),this.currentPath.push([i,a]),O(this,al,!1),N(this,St,by).call(this),O(this,_r,()=>{N(this,St,lx).call(this),u(this,_r)&&window.requestAnimationFrame(u(this,_r))}),window.requestAnimationFrame(u(this,_r))},yy=function(i,a){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===r&&a===o)return;const c=this.currentPath;let h=u(this,gs);if(c.push([i,a]),O(this,al,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(i,a);return}c.length===3&&(O(this,gs,h=new Path2D),h.moveTo(...c[0])),N(this,St,cx).call(this,h,...c.at(-3),...c.at(-2),i,a)},rx=function(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);u(this,gs).lineTo(...i)},ox=function(i,a){O(this,_r,null),i=Math.min(Math.max(i,0),this.canvas.width),a=Math.min(Math.max(a,0),this.canvas.height),N(this,St,yy).call(this,i,a),N(this,St,rx).call(this);let r;if(this.currentPath.length!==1)r=N(this,St,ux).call(this);else{const g=[i,a];r=[[g,g.slice(),g.slice(),g]]}const o=u(this,gs),c=this.currentPath;this.currentPath=[],O(this,gs,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(N(this,St,ig).call(this),N(this,St,ng).call(this)),N(this,St,Fh).call(this))};this.addCommands({cmd:h,undo:d,mustExec:!0})},lx=function(){if(!u(this,al))return;O(this,al,!1);const i=Math.ceil(this.thickness*this.parentScale),a=this.currentPath.slice(-3),r=a.map(h=>h[0]),o=a.map(h=>h[1]);Math.min(...r)-i,Math.max(...r)+i,Math.min(...o)-i,Math.max(...o)+i;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(u(this,gs)),c.restore()},cx=function(i,a,r,o,c,h,d){const g=(a+o)/2,m=(r+c)/2,y=(o+h)/2,v=(c+d)/2;i.bezierCurveTo(g+2*(o-g)/3,m+2*(c-m)/3,y+2*(o-y)/3,v+2*(c-v)/3,y,v)},ux=function(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const a=[];let r,[o,c]=i[0];for(r=1;r<i.length-2;r++){const[S,w]=i[r],[x,E]=i[r+1],A=(S+x)/2,_=(w+E)/2,T=[o+2*(S-o)/3,c+2*(w-c)/3],R=[A+2*(S-A)/3,_+2*(w-_)/3];a.push([[o,c],T,R,[A,_]]),[o,c]=[A,_]}const[h,d]=i[r],[g,m]=i[r+1],y=[o+2*(h-o)/3,c+2*(d-c)/3],v=[g+2*(h-g)/3,m+2*(d-m)/3];return a.push([[o,c],y,v,[g,m]]),a},co=function(){if(this.isEmpty()){N(this,St,ag).call(this);return}N(this,St,by).call(this);const{canvas:i,ctx:a}=this;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,i.width,i.height),N(this,St,ag).call(this);for(const r of this.bezierPath2D)a.stroke(r)},vy=function(){if(u(this,nu))return;O(this,nu,new AbortController);const i=this._uiManager.combinedSignal(u(this,nu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:i})},Ay=function(){var i;(i=this.pointerdownAC)==null||i.abort(),this.pointerdownAC=null},Sy=function(i){var a;(a=u(this,nl))==null||a.abort(),O(this,nl,null),N(this,St,vy).call(this),u(this,Aa)&&clearTimeout(u(this,Aa)),O(this,Aa,setTimeout(()=>{O(this,Aa,null),this.canvas.removeEventListener("contextmenu",kn)},10)),N(this,St,ox).call(this,i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ig=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ng=function(){O(this,ms,new ResizeObserver(i=>{const a=i[0].contentRect;a.width&&a.height&&this.setDimensions(a.width,a.height)})),u(this,ms).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=u(this,ms))==null||i.disconnect(),O(this,ms,null)},{once:!0})},oc=function(){if(!u(this,sl))return;const[i,a]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*a),N(this,St,ag).call(this)},wy=function(i,a){const r=N(this,St,sg).call(this),o=(i-r)/u(this,il),c=(a-r)/u(this,el);this.scaleFactor=Math.min(o,c)},ag=function(){const i=N(this,St,sg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)},Cs=new WeakSet,hx=function(i){const a=new Path2D;for(let r=0,o=i.length;r<o;r++){const[c,h,d,g]=i[r];r===0&&a.moveTo(...c),a.bezierCurveTo(h[0],h[1],d[0],d[1],g[0],g[1])}return a},_y=function(i,a,r){const[o,c,h,d]=a;switch(r){case 0:for(let g=0,m=i.length;g<m;g+=2)i[g]+=o,i[g+1]=d-i[g+1];break;case 90:for(let g=0,m=i.length;g<m;g+=2){const y=i[g];i[g]=i[g+1]+o,i[g+1]=y+c}break;case 180:for(let g=0,m=i.length;g<m;g+=2)i[g]=h-i[g],i[g+1]+=c;break;case 270:for(let g=0,m=i.length;g<m;g+=2){const y=i[g];i[g]=h-i[g+1],i[g+1]=d-y}break;default:throw new Error("Invalid rotation")}return i},dx=function(i,a,r){const[o,c,h,d]=a;switch(r){case 0:for(let g=0,m=i.length;g<m;g+=2)i[g]-=o,i[g+1]=d-i[g+1];break;case 90:for(let g=0,m=i.length;g<m;g+=2){const y=i[g];i[g]=i[g+1]-c,i[g+1]=y-o}break;case 180:for(let g=0,m=i.length;g<m;g+=2)i[g]=h-i[g],i[g+1]-=c;break;case 270:for(let g=0,m=i.length;g<m;g+=2){const y=i[g];i[g]=d-i[g+1],i[g+1]=h-y}break;default:throw new Error("Invalid rotation")}return i},fx=function(i,a,r,o){var m,y;const c=[],h=this.thickness/2,d=i*a+h,g=i*r+h;for(const v of this.paths){const S=[],w=[];for(let x=0,E=v.length;x<E;x++){const[A,_,T,R]=v[x];if(A[0]===R[0]&&A[1]===R[1]&&E===1){const st=i*A[0]+d,tt=i*A[1]+g;S.push(st,tt),w.push(st,tt);break}const D=i*A[0]+d,k=i*A[1]+g,M=i*_[0]+d,L=i*_[1]+g,H=i*T[0]+d,Y=i*T[1]+g,$=i*R[0]+d,it=i*R[1]+g;x===0&&(S.push(D,k),w.push(D,k)),S.push(M,L,H,Y,$,it),w.push(M,L),x===E-1&&w.push($,it)}c.push({bezier:N(m=_e,Cs,_y).call(m,S,o,this.rotation),points:N(y=_e,Cs,_y).call(y,w,o,this.rotation)})}return c},Ey=function(){let i=1/0,a=-1/0,r=1/0,o=-1/0;for(const c of this.paths)for(const[h,d,g,m]of c){const y=Dt.bezierBoundingBox(...h,...d,...g,...m);i=Math.min(i,y[0]),r=Math.min(r,y[1]),a=Math.max(a,y[2]),o=Math.max(o,y[3])}return[i,r,a,o]},sg=function(){return u(this,Dn)?Math.ceil(this.thickness*this.parentScale):0},Fh=function(i=!1){if(this.isEmpty())return;if(!u(this,Dn)){N(this,St,co).call(this);return}const a=N(this,St,Ey).call(this),r=N(this,St,sg).call(this);O(this,il,Math.max(oe.MIN_SIZE,a[2]-a[0])),O(this,el,Math.max(oe.MIN_SIZE,a[3]-a[1]));const o=Math.ceil(r+u(this,il)*this.scaleFactor),c=Math.ceil(r+u(this,el)*this.scaleFactor),[h,d]=this.parentDimensions;this.width=o/h,this.height=c/d,this.setAspectRatio(o,c);const g=this.translationX,m=this.translationY;this.translationX=-a[0],this.translationY=-a[1],N(this,St,oc).call(this),N(this,St,co).call(this),O(this,rl,o),O(this,ol,c),this.setDims(o,c);const y=i?r/this.scaleFactor/2:0;this.translate(g-this.translationX-y,m-this.translationY-y)},z(_e,Cs),kt(_e,"_defaultColor",null),kt(_e,"_defaultOpacity",1),kt(_e,"_defaultThickness",1),kt(_e,"_type","ink"),kt(_e,"_editorType",qt.INK);let my=_e;var xe,di,Er,bs,xr,au,Sa,ys,wa,rn,su,Vt,Ih,qh,rg,Ty,px,og,Cy,lg,gx,mx;const jh=class jh extends oe{constructor(i){super({...i,name:"stampEditor"});z(this,Vt);z(this,xe,null);z(this,di,null);z(this,Er,null);z(this,bs,null);z(this,xr,null);z(this,au,"");z(this,Sa,null);z(this,ys,null);z(this,wa,null);z(this,rn,!1);z(this,su,!1);O(this,bs,i.bitmapUrl),O(this,xr,i.bitmapFile)}static initialize(i,a){oe.initialize(i,a)}static get supportedTypes(){return Kt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(a=>`image/${a}`))}static get supportedTypesStr(){return Kt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(i){return this.supportedTypes.includes(i)}static paste(i,a){a.pasteEditor(qt.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const a=i.get("hasAltText");return{hasAltText:a.get(!0)??0,hasNoAltText:a.get(!1)??0}}async mlGuessAltText(i=null,a=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:c,height:h}=i||this.copyCanvas(null,null,!0).imageData,d=await r.guess({name:"altText",request:{data:o,width:c,height:h,channels:o.length/(c*h)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const g=d.output;return await this.setGuessedAltText(g),a&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var i,a;u(this,di)&&(O(this,xe,null),this._uiManager.imageManager.deleteId(u(this,di)),(i=u(this,Sa))==null||i.remove(),O(this,Sa,null),(a=u(this,ys))==null||a.disconnect(),O(this,ys,null),u(this,wa)&&(clearTimeout(u(this,wa)),O(this,wa,null))),super.remove()}rebuild(){if(!this.parent){u(this,di)&&N(this,Vt,rg).call(this);return}super.rebuild(),this.div!==null&&(u(this,di)&&u(this,Sa)===null&&N(this,Vt,rg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,Er)||u(this,xe)||u(this,bs)||u(this,xr)||u(this,di))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,a;if(this.width&&(i=this.x,a=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,xe)?N(this,Vt,Ty).call(this):N(this,Vt,rg).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(i*r,a*o,this.width*r,this.height*o)}return this.div}copyCanvas(i,a,r=!1){var S;i||(i=224);const{width:o,height:c}=u(this,xe),h=new w0;let d=u(this,xe),g=o,m=c,y=null;if(a){if(o>a||c>a){const L=Math.min(a/o,a/c);g=Math.floor(o*L),m=Math.floor(c*L)}y=document.createElement("canvas");const w=y.width=Math.ceil(g*h.sx),x=y.height=Math.ceil(m*h.sy);u(this,rn)||(d=N(this,Vt,og).call(this,w,x));const E=y.getContext("2d");E.filter=this._uiManager.hcmFilter;let A="white",_="#cfcfd8";this._uiManager.hcmFilter!=="none"?_="black":(S=window.matchMedia)!=null&&S.call(window,"(prefers-color-scheme: dark)").matches&&(A="#8f8f9d",_="#42414d");const T=15,R=T*h.sx,D=T*h.sy,k=new OffscreenCanvas(R*2,D*2),M=k.getContext("2d");M.fillStyle=A,M.fillRect(0,0,R*2,D*2),M.fillStyle=_,M.fillRect(0,0,R,D),M.fillRect(R,D,R,D),E.fillStyle=E.createPattern(k,"repeat"),E.fillRect(0,0,w,x),E.drawImage(d,0,0,d.width,d.height,0,0,w,x)}let v=null;if(r){let w,x;if(h.symmetric&&d.width<i&&d.height<i)w=d.width,x=d.height;else if(d=u(this,xe),o>i||c>i){const _=Math.min(i/o,i/c);w=Math.floor(o*_),x=Math.floor(c*_),u(this,rn)||(d=N(this,Vt,og).call(this,w,x))}const A=new OffscreenCanvas(w,x).getContext("2d",{willReadFrequently:!0});A.drawImage(d,0,0,d.width,d.height,0,0,w,x),v={width:w,height:x,data:A.getImageData(0,0,w,x).data}}return{canvas:y,width:g,height:m,imageData:v}}getImageForAltText(){return u(this,Sa)}static async deserialize(i,a,r){var x;let o=null;if(i instanceof TE){const{data:{rect:E,rotation:A,id:_,structParent:T,popupRef:R},container:D,parent:{page:{pageNumber:k}}}=i,M=D.querySelector("canvas"),L=r.imageManager.getFromCanvas(D.id,M);M.remove();const H=((x=await a._structTree.getAriaAttributes(`${jy}${_}`))==null?void 0:x.get("aria-label"))||"";o=i={annotationType:qt.STAMP,bitmapId:L.id,bitmap:L.bitmap,pageIndex:k-1,rect:E.slice(0),rotation:A,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:H},isSvg:!1,structParent:T,popupRef:R}}const c=await super.deserialize(i,a,r),{rect:h,bitmap:d,bitmapUrl:g,bitmapId:m,isSvg:y,accessibilityData:v}=i;m&&r.imageManager.isValidId(m)?(O(c,di,m),d&&O(c,xe,d)):O(c,bs,g),O(c,rn,y);const[S,w]=c.pageDimensions;return c.width=(h[2]-h[0])/S,c.height=(h[3]-h[1])/w,c.annotationElementId=i.id||null,v&&(c.altTextData=v),c._initialData=o,O(c,su,!!o),c}serialize(i=!1,a=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:qt.STAMP,bitmapId:u(this,di),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,rn),structTreeParentId:this._structTreeParentId};if(i)return r.bitmapUrl=N(this,Vt,lg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:c}=this.serializeAltText(!1);if(!o&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const d=N(this,Vt,mx).call(this,r);if(d.isSame)return null;d.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,a===null)return r;a.stamps||(a.stamps=new Map);const h=u(this,rn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!a.stamps.has(u(this,di)))a.stamps.set(u(this,di),{area:h,serialized:r}),r.bitmap=N(this,Vt,lg).call(this,!1);else if(u(this,rn)){const d=a.stamps.get(u(this,di));h>d.area&&(d.area=h,d.serialized.bitmap.close(),d.serialized.bitmap=N(this,Vt,lg).call(this,!1))}return r}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}};xe=new WeakMap,di=new WeakMap,Er=new WeakMap,bs=new WeakMap,xr=new WeakMap,au=new WeakMap,Sa=new WeakMap,ys=new WeakMap,wa=new WeakMap,rn=new WeakMap,su=new WeakMap,Vt=new WeakSet,Ih=function(i,a=!1){if(!i){this.remove();return}O(this,xe,i.bitmap),a||(O(this,di,i.id),O(this,rn,i.isSvg)),i.file&&O(this,au,i.file.name),N(this,Vt,Ty).call(this)},qh=function(){if(O(this,Er,null),this._uiManager.enableWaiting(!1),!!u(this,Sa)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,xe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,xe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},rg=function(){if(u(this,di)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,di)).then(r=>N(this,Vt,Ih).call(this,r,!0)).finally(()=>N(this,Vt,qh).call(this));return}if(u(this,bs)){const r=u(this,bs);O(this,bs,null),this._uiManager.enableWaiting(!0),O(this,Er,this._uiManager.imageManager.getFromUrl(r).then(o=>N(this,Vt,Ih).call(this,o)).finally(()=>N(this,Vt,qh).call(this)));return}if(u(this,xr)){const r=u(this,xr);O(this,xr,null),this._uiManager.enableWaiting(!0),O(this,Er,this._uiManager.imageManager.getFromFile(r).then(o=>N(this,Vt,Ih).call(this,o)).finally(()=>N(this,Vt,qh).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=jh.supportedTypesStr;const a=this._uiManager._signal;O(this,Er,new Promise(r=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),N(this,Vt,Ih).call(this,o)}r()},{signal:a}),i.addEventListener("cancel",()=>{this.remove(),r()},{signal:a})}).finally(()=>N(this,Vt,qh).call(this))),i.click()},Ty=function(){const{div:i}=this;let{width:a,height:r}=u(this,xe);const[o,c]=this.pageDimensions,h=.75;if(this.width)a=this.width*o,r=this.height*c;else if(a>h*o||r>h*c){const y=Math.min(h*o/a,h*c/r);a*=y,r*=y}const[d,g]=this.parentDimensions;this.setDims(a*d/o,r*g/c),this._uiManager.enableWaiting(!1);const m=O(this,Sa,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),N(this,Vt,Cy).call(this,a,r),N(this,Vt,gx).call(this),u(this,su)||(this.parent.addUndoableEditor(this),O(this,su,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,au)&&m.setAttribute("aria-label",u(this,au))},px=function(i,a){var h;const[r,o]=this.parentDimensions;this.width=i/r,this.height=a/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,wa)!==null&&clearTimeout(u(this,wa)),O(this,wa,setTimeout(()=>{O(this,wa,null),N(this,Vt,Cy).call(this,i,a)},200))},og=function(i,a){const{width:r,height:o}=u(this,xe);let c=r,h=o,d=u(this,xe);for(;c>2*i||h>2*a;){const g=c,m=h;c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*a&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const y=new OffscreenCanvas(c,h);y.getContext("2d").drawImage(d,0,0,g,m,0,0,c,h),d=y.transferToImageBitmap()}return d},Cy=function(i,a){const r=new w0,o=Math.ceil(i*r.sx),c=Math.ceil(a*r.sy),h=u(this,Sa);if(!h||h.width===o&&h.height===c)return;h.width=o,h.height=c;const d=u(this,rn)?u(this,xe):N(this,Vt,og).call(this,o,c),g=h.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(d,0,0,d.width,d.height,0,0,o,c)},lg=function(i){if(i){if(u(this,rn)){const o=this._uiManager.imageManager.getSvgUrl(u(this,di));if(o)return o}const a=document.createElement("canvas");return{width:a.width,height:a.height}=u(this,xe),a.getContext("2d").drawImage(u(this,xe),0,0),a.toDataURL()}if(u(this,rn)){const[a,r]=this.pageDimensions,o=Math.round(this.width*a*Dr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*Dr.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(o,c);return h.getContext("2d").drawImage(u(this,xe),0,0,u(this,xe).width,u(this,xe).height,0,0,o,c),h.transferToImageBitmap()}return structuredClone(u(this,xe))},gx=function(){this._uiManager._signal&&(O(this,ys,new ResizeObserver(i=>{const a=i[0].contentRect;a.width&&a.height&&N(this,Vt,px).call(this,a.width,a.height)})),u(this,ys).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=u(this,ys))==null||i.disconnect(),O(this,ys,null)},{once:!0}))},mx=function(i){var g;const{rect:a,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,c=i.rect.every((m,y)=>Math.abs(m-a[y])<1),h=i.pageIndex===r,d=(((g=i.accessibilityData)==null?void 0:g.alt)||"")===o;return{isSame:c&&h&&d,isSameAltText:d}},kt(jh,"_type","stamp"),kt(jh,"_editorType",qt.STAMP);let xy=jh;var ll,ru,_a,Tr,vs,on,Cr,ou,lu,wi,As,Ot,Rr,fi,bx,Dy,My,Oy,cg;const Fn=class Fn{constructor({uiManager:t,pageIndex:i,div:a,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:h,textLayer:d,viewport:g,l10n:m}){z(this,fi);z(this,ll);z(this,ru,!1);z(this,_a,null);z(this,Tr,null);z(this,vs,null);z(this,on,new Map);z(this,Cr,!1);z(this,ou,!1);z(this,lu,!1);z(this,wi,null);z(this,As,null);z(this,Ot);const y=[...u(Fn,Rr).values()];if(!Fn._initialized){Fn._initialized=!0;for(const v of y)v.initialize(m,t)}t.registerEditorTypes(y),O(this,Ot,t),this.pageIndex=i,this.div=a,O(this,ll,o),O(this,_a,c),this.viewport=g,O(this,wi,d),this.drawLayer=h,this._structTree=r,u(this,Ot).addLayer(this)}get isEmpty(){return u(this,on).size===0}get isInvisible(){return this.isEmpty&&u(this,Ot).getMode()===qt.NONE}updateToolbar(t){u(this,Ot).updateToolbar(t)}updateMode(t=u(this,Ot).getMode()){switch(N(this,fi,cg).call(this),t){case qt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case qt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case qt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const a of u(Fn,Rr).values())i.toggle(`${a._type}Editing`,t===a._editorType);this.div.hidden=!1}hasTextLayer(t){var i;return t===((i=u(this,wi))==null?void 0:i.div)}addInkEditorIfNeeded(t){if(u(this,Ot).getMode()!==qt.INK)return;if(!t){for(const a of u(this,on).values())if(a.isEmpty()){a.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){u(this,Ot).setEditingState(t)}addCommands(t){u(this,Ot).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var i;(i=u(this,_a))==null||i.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const a of u(this,on).values())a.enableEditing(),a.show(!0),a.annotationElementId&&(u(this,Ot).removeChangedExistingAnnotation(a),t.add(a.annotationElementId));if(!u(this,_a))return;const i=u(this,_a).getEditableAnnotations();for(const a of i){if(a.hide(),u(this,Ot).isDeletedAnnotationElement(a.data.id)||t.has(a.data.id))continue;const r=await this.deserialize(a);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;O(this,lu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,i=new Map;for(const o of u(this,on).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else i.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(u(this,_a)){const o=u(this,_a).getEditableAnnotations();for(const c of o){const{id:h}=c.data;if(u(this,Ot).isDeletedAnnotationElement(h))continue;let d=i.get(h);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=t.get(h),d&&(u(this,Ot).addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}N(this,fi,cg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:a}=this.div;for(const o of u(Fn,Rr).values())a.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),O(this,lu,!1)}getEditableAnnotation(t){var i;return((i=u(this,_a))==null?void 0:i.getEditableAnnotation(t))||null}setActiveEditor(t){u(this,Ot).getActive()!==t&&u(this,Ot).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=u(this,wi))!=null&&t.div&&!u(this,As)){O(this,As,new AbortController);const i=u(this,Ot).combinedSignal(u(this,As));u(this,wi).div.addEventListener("pointerdown",N(this,fi,bx).bind(this),{signal:i}),u(this,wi).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=u(this,wi))!=null&&t.div&&u(this,As)&&(u(this,As).abort(),O(this,As,null),u(this,wi).div.classList.remove("highlighting"))}enableClick(){if(u(this,Tr))return;O(this,Tr,new AbortController);const t=u(this,Ot).combinedSignal(u(this,Tr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=u(this,Tr))==null||t.abort(),O(this,Tr,null)}attach(t){u(this,on).set(t.id,t);const{annotationElementId:i}=t;i&&u(this,Ot).isDeletedAnnotationElement(i)&&u(this,Ot).removeDeletedAnnotationElement(t)}detach(t){var i;u(this,on).delete(t.id),(i=u(this,ll))==null||i.removePointerInTextLayer(t.contentDiv),!u(this,lu)&&t.annotationElementId&&u(this,Ot).addDeletedAnnotationElement(t)}remove(t){this.detach(t),u(this,Ot).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,u(this,ou)||this.addInkEditorIfNeeded(!1)}changeParent(t){var i;t.parent!==this&&(t.parent&&t.annotationElementId&&(u(this,Ot).addDeletedAnnotationElement(t.annotationElementId),oe.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(i=t.parent)==null||i.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),u(this,Ot).addEditor(t),this.attach(t),!t.isAttachedToDOM){const i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),u(this,Ot).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var a;if(!t.isAttachedToDOM)return;const{activeElement:i}=document;t.div.contains(i)&&!u(this,vs)&&(t._focusEventsAllowed=!1,O(this,vs,setTimeout(()=>{O(this,vs,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:u(this,Ot)._signal}),i.focus())},0))),t._structTreeParentId=(a=u(this,ll))==null?void 0:a.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const i=()=>t._uiManager.rebuild(t),a=()=>{t.remove()};this.addCommands({cmd:i,undo:a,mustExec:!1})}getNextId(){return u(this,Ot).getId()}combinedSignal(t){return u(this,Ot).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=u(this,fi,Dy))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,i){u(this,Ot).updateToolbar(t),u(this,Ot).updateMode(t);const{offsetX:a,offsetY:r}=N(this,fi,Oy).call(this),o=this.getNextId(),c=N(this,fi,My).call(this,{parent:this,id:o,x:a,y:r,uiManager:u(this,Ot),isCentered:!0,...i});c&&this.add(c)}async deserialize(t){var i;return await((i=u(Fn,Rr).get(t.annotationType??t.annotationEditorType))==null?void 0:i.deserialize(t,this,u(this,Ot)))||null}createAndAddNewEditor(t,i,a={}){const r=this.getNextId(),o=N(this,fi,My).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:u(this,Ot),isCentered:i,...a});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(N(this,fi,Oy).call(this),!0)}setSelected(t){u(this,Ot).setSelected(t)}toggleSelected(t){u(this,Ot).toggleSelected(t)}unselect(t){u(this,Ot).unselect(t)}pointerup(t){const{isMac:i}=Mi.platform;if(!(t.button!==0||t.ctrlKey&&i)&&t.target===this.div&&u(this,Cr)){if(O(this,Cr,!1),!u(this,ru)){O(this,ru,!0);return}if(u(this,Ot).getMode()===qt.STAMP){u(this,Ot).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(u(this,Ot).getMode()===qt.HIGHLIGHT&&this.enableTextSelection(),u(this,Cr)){O(this,Cr,!1);return}const{isMac:i}=Mi.platform;if(t.button!==0||t.ctrlKey&&i||t.target!==this.div)return;O(this,Cr,!0);const a=u(this,Ot).getActive();O(this,ru,!a||a.isEmpty())}findNewParent(t,i,a){const r=u(this,Ot).findParent(i,a);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,i;((t=u(this,Ot).getActive())==null?void 0:t.parent)===this&&(u(this,Ot).commitOrRemove(),u(this,Ot).setActiveEditor(null)),u(this,vs)&&(clearTimeout(u(this,vs)),O(this,vs,null));for(const a of u(this,on).values())(i=u(this,ll))==null||i.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,u(this,on).clear(),u(this,Ot).removeLayer(this)}render({viewport:t}){this.viewport=t,cl(this.div,t);for(const i of u(this,Ot).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){u(this,Ot).commitOrRemove(),N(this,fi,cg).call(this);const i=this.viewport.rotation,a=t.rotation;if(this.viewport=t,cl(this.div,{rotation:a}),i!==a)for(const r of u(this,on).values())r.rotate(a);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return u(this,Ot).viewParameters.realScale}};ll=new WeakMap,ru=new WeakMap,_a=new WeakMap,Tr=new WeakMap,vs=new WeakMap,on=new WeakMap,Cr=new WeakMap,ou=new WeakMap,lu=new WeakMap,wi=new WeakMap,As=new WeakMap,Ot=new WeakMap,Rr=new WeakMap,fi=new WeakSet,bx=function(t){u(this,Ot).unselectAll();const{target:i}=t;if(i===u(this,wi).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&u(this,wi).div.contains(i)){const{isMac:a}=Mi.platform;if(t.button!==0||t.ctrlKey&&a)return;u(this,Ot).showAllEditors("highlight",!0,!0),u(this,wi).div.classList.add("free"),this.toggleDrawing(),mg.startHighlighting(this,u(this,Ot).direction==="ltr",{target:u(this,wi).div,x:t.x,y:t.y}),u(this,wi).div.addEventListener("pointerup",()=>{u(this,wi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,Ot)._signal}),t.preventDefault()}},Dy=function(){return u(Fn,Rr).get(u(this,Ot).getMode())},My=function(t){const i=u(this,fi,Dy);return i?new i.prototype.constructor(t):null},Oy=function(){const{x:t,y:i,width:a,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,i),h=Math.min(window.innerWidth,t+a),d=Math.min(window.innerHeight,i+r),g=(o+h)/2-t,m=(c+d)/2-i,[y,v]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:y,offsetY:v}},cg=function(){O(this,ou,!0);for(const t of u(this,on).values())t.isEmpty()&&t.remove();O(this,ou,!1)},kt(Fn,"_initialized",!1),z(Fn,Rr,new Map([oy,my,xy,mg].map(t=>[t._editorType,t])));let Ry=Fn;var Ea,rf,Ie,Ss,of,ky,fl,Ny,yx;const ci=class ci{constructor({pageIndex:t}){z(this,fl);z(this,Ea,null);z(this,rf,0);z(this,Ie,new Map);z(this,Ss,new Map);this.pageIndex=t}setParent(t){if(!u(this,Ea)){O(this,Ea,t);return}if(u(this,Ea)!==t){if(u(this,Ie).size>0)for(const i of u(this,Ie).values())i.remove(),t.append(i);O(this,Ea,t)}}static get _svgFactory(){return Kt(this,"_svgFactory",new Jy)}draw(t,i,a,r=!1){const o=Ti(this,rf)._++,c=N(this,fl,Ny).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const h=ci._svgFactory.createElement("defs");c.append(h);const d=ci._svgFactory.createElement("path");h.append(d);const g=`path_p${this.pageIndex}_${o}`;d.setAttribute("id",g),d.setAttribute("d",t.toSVGPath()),r&&u(this,Ss).set(o,d);const m=N(this,fl,yx).call(this,h,g),y=ci._svgFactory.createElement("use");return c.append(y),c.setAttribute("fill",i),c.setAttribute("fill-opacity",a),y.setAttribute("href",`#${g}`),u(this,Ie).set(o,c),{id:o,clipPathId:`url(#${m})`}}drawOutline(t){const i=Ti(this,rf)._++,a=N(this,fl,Ny).call(this,t.box);a.classList.add(...t.classNamesForOutlining);const r=ci._svgFactory.createElement("defs");a.append(r);const o=ci._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const m=ci._svgFactory.createElement("mask");r.append(m),h=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const y=ci._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const v=ci._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=ci._svgFactory.createElement("use");a.append(d),d.setAttribute("href",`#${c}`),h&&d.setAttribute("mask",`url(#${h})`);const g=d.cloneNode();return a.append(g),d.classList.add("mainOutline"),g.classList.add("secondaryOutline"),u(this,Ie).set(i,a),i}finalizeLine(t,i){const a=u(this,Ss).get(t);u(this,Ss).delete(t),this.updateBox(t,i.box),a.setAttribute("d",i.toSVGPath())}updateLine(t,i){u(this,Ie).get(t).firstChild.firstChild.setAttribute("d",i.toSVGPath())}updatePath(t,i){u(this,Ss).get(t).setAttribute("d",i.toSVGPath())}updateBox(t,i){var a;N(a=ci,of,ky).call(a,u(this,Ie).get(t),i)}show(t,i){u(this,Ie).get(t).classList.toggle("hidden",!i)}rotate(t,i){u(this,Ie).get(t).setAttribute("data-main-rotation",i)}changeColor(t,i){u(this,Ie).get(t).setAttribute("fill",i)}changeOpacity(t,i){u(this,Ie).get(t).setAttribute("fill-opacity",i)}addClass(t,i){u(this,Ie).get(t).classList.add(i)}removeClass(t,i){u(this,Ie).get(t).classList.remove(i)}getSVGRoot(t){return u(this,Ie).get(t)}remove(t){u(this,Ss).delete(t),u(this,Ea)!==null&&(u(this,Ie).get(t).remove(),u(this,Ie).delete(t))}destroy(){O(this,Ea,null);for(const t of u(this,Ie).values())t.remove();u(this,Ie).clear(),u(this,Ss).clear()}};Ea=new WeakMap,rf=new WeakMap,Ie=new WeakMap,Ss=new WeakMap,of=new WeakSet,ky=function(t,{x:i=0,y:a=0,width:r=1,height:o=1}={}){const{style:c}=t;c.top=`${100*a}%`,c.left=`${100*i}%`,c.width=`${100*r}%`,c.height=`${100*o}%`},fl=new WeakSet,Ny=function(t){var a;const i=ci._svgFactory.create(1,1,!0);return u(this,Ea).append(i),i.setAttribute("aria-hidden",!0),N(a=ci,of,ky).call(a,i,t),i},yx=function(t,i){const a=ci._svgFactory.createElement("clipPath");t.append(a);const r=`clip_${i}`;a.setAttribute("id",r),a.setAttribute("clipPathUnits","objectBoundingBox");const o=ci._svgFactory.createElement("use");return a.append(o),o.setAttribute("href",`#${i}`),o.classList.add("clip"),r},z(ci,of);let Ly=ci;Ht.AbortException;Ht.AnnotationEditorLayer;Ht.AnnotationEditorParamsType;Ht.AnnotationEditorType;Ht.AnnotationEditorUIManager;Ht.AnnotationLayer;Ht.AnnotationMode;Ht.ColorPicker;Ht.DOMSVGFactory;Ht.DrawLayer;Ht.FeatureTest;var tM=Ht.GlobalWorkerOptions;Ht.ImageKind;Ht.InvalidPDFException;Ht.MissingPDFException;Ht.OPS;Ht.OutputScale;Ht.PDFDataRangeTransport;Ht.PDFDateString;Ht.PDFWorker;Ht.PasswordResponses;Ht.PermissionFlag;Ht.PixelsPerInch;Ht.RenderingCancelledException;Ht.TextLayer;Ht.UnexpectedResponseException;Ht.Util;Ht.VerbosityLevel;Ht.XfaLayer;Ht.build;Ht.createValidAbsoluteUrl;Ht.fetchData;var eM=Ht.getDocument;Ht.getFilenameFromUrl;Ht.getPdfFilenameFromUrl;Ht.getXfaPageViewport;Ht.isDataScheme;Ht.isPdfFile;Ht.noContextMenu;Ht.normalizeUnicode;Ht.setLayerDimensions;Ht.shadow;Ht.version;function iM(){const f=En.useRef(null),t=h_.WidthProvider(MR),[i,a]=En.useState(!1),[r,o]=En.useState(!1),c=[{i:"b",x:0,y:0,w:6,h:13},{i:"c",x:0,y:13,w:6,h:13},{i:"d",x:6,y:13,w:6,h:13},{i:"e",x:6,y:0,w:6,h:13}],h=`context: {context}



1. 입력된 context는 페이지 구조로 이루어져 있음.
2. 응답에는 \\ 문자나 \` 문자, 또는 줄바꿈 문자가 절대로 포함되어서는 안 됨.
3. 내용은 한국어로 작성되어야 함.
4. 응답 형식은 반드시 유효한 JSON object 이어야 함.
5. JSON 앞 뒤로 다른 문자열이 포함되어서는 안 됨.
7. 단계별로 지시된 내용을 순차적으로 처리하여 결과를 표현할 것.
8. 출력될 JSON의 자료구조를 typescript로 표현하면 아래와 같으며, DocumentSummary를 root로 만든 JSON을 출력할 것.

{{___JSON_RESPONSE_TYPE___}}`,d=`1단계. structured_summary[].title 작성하기:
         - context 전체 내용의 목차를 만들어서 structured_summary 안에 정리하여 작성.
         - structured_summary array의 크기는 목차의 개수와 동일하게 만든다.
         - 목차의 내용은 structured_summary[].title 에 입력한다.
         - structured_summary[].title의 항목으로 요약된 context의 텍스트 글자 수가 500자 이하라면 다른 항목과 통합할 것.
         - structured_summary의 항목이 11개 이상으로 작성될 경우에만 내용이 적은 항목들끼리 통합하여 10개 이하로 결과를 작성할 것.

      2단계. structured_summary[].pages 작성하기:
         - structured_summary[].title 안에 있는 목차가 실제로 어떤 페이지에서 발췌되어 항목화된 것인지 정리하여 작성해야 한다.
         - 각 structured_summary[].title과 같은 레벨에 있는 structured_summary[].pages 에 각 페이지의 번호를 추가한다.

      3단계. structured_summary[].subtitles[].subtitle 작성하기:
         - context의 전체 내용 중 structured_summary[].title 각 항의 내용 만을 요약하여 작성.
         - structured_summary[].title과 같은 항목의 subtitles[].subtitle에 입력한다.
         - 요약 내용을 개조식으로 표현한다.
         - 목차에 순번을 매기지 않는다.

      4단계. structured_summary[].subtitles[].pages 작성하기:
         - structured_summary[].subtitles[].subtitle 안에 있는 내용이 실제로 어떤 페이지에서 발췌되어 항목화된 것인지 정리하여 작성해야 한다.
         - 각 structured_summary[].subtitles[].subtitle 과 같은 레벨에 있는 structured_summary[].subtitles[].pages 에 각 페이지의 번호를 추가한다.
        
      5단계. overviewed_summary[].content 작성하기:
         - context의 전체 내용을 요약해서 서술형으로 작성.
         - 요약된 내용에 들어갈 내용은 한 문단 분량.
         - 요약된 내용을 overviewed_summary[]에 문장 별로 나누어 overviewed_summary[].content에 담는다.

      6단계. overviewed_summary[].pages 작성하기:
         - overviewed_summary[].content 안에 있는 요약 내용이 실제로 어떤 페이지에서 발췌되어 항목화된 것인지 정리하여 작성해야 한다.
         - 각 overviewed_summary[].content 같은 레벨에 있는 overviewed_summary[].pages 에 각 페이지의 번호를 추가한다.`,[g,m]=En.useState(localStorage.getItem("systemPrompt")||h),[y,v]=En.useState(localStorage.getItem("userPrompt")||d),[S,w]=En.useState({}),[x,E]=En.useState(JSON.parse(localStorage.getItem("layout")||null)||c),[A,_]=En.useState(null),[T,R]=En.useState("");tM.workerSrc="//unpkg.com/pdfjs-dist@4.8.69/build/pdf.worker.min.mjs";const D=async(L,H=!0)=>{const Y={disableFontFace:H,cMapUrl:"https://unpkg.com/pdfjs-dist@4.8.69/cmaps/",cMapPacked:!0,standardFontDataUrl:"https://unpkg.com/pdfjs-dist@4.8.69/standard_fonts/",enableXfa:!1,...typeof L=="string"?{url:L}:{data:L}},$=await eM(Y).promise,it=await Promise.all(Array.from({length:$.numPages},(Z,B)=>$.getPage(B+1))),tt=(await Promise.all(it.map(Z=>Z.getTextContent()))).map(({items:Z})=>Z.map(B=>{var G;return(G=B==null?void 0:B.str)!=null&&G.length?B==null?void 0:B.str:""}).join(" ")).map((Z,B)=>({page:B+1,content:Z}));return H&&!tt.map(Z=>Z.content).join("").length?await D(L,!1):tt},k=ae.jsxs(ae.Fragment,{children:[ae.jsx("div",{style:{display:"inline-block"},onMouseDown:L=>L.stopPropagation(),children:ae.jsx(KR,{style:{display:"inline-block"},inactiveLabel:"Pretty",activeLabel:"Raw",value:r,onMouseDown:L=>L.stopPropagation(),onToggle:L=>{console.log("changed!"),QR.flushSync(()=>{E(JSON.parse(localStorage.getItem("layout")||null)||c)}),o(!L)}})}),r?ae.jsx("textarea",{readOnly:!0,onMouseDown:L=>L.stopPropagation(),value:JSON.stringify(S),style:{userSelect:"none",width:"100%",height:"calc(100% - 83px)"}}):ae.jsx(Rw,{id:"json-viewer",onMouseDown:L=>L.stopPropagation(),indent:"9",expanded:"true",theme:"helios","show-data-types":"false","show-toolbar":"false","expand-icon-type":"arrow","show-copy":"true","show-size":"true",data:S})]}),M=En.useMemo(()=>ae.jsxs(t,{className:"layout",style:{maxHeight:"calc(100% - 20px)"},isDraggable:!0,isResizable:!0,onLayoutChange:L=>{console.log(L),localStorage.setItem("layout",JSON.stringify(L))},layout:x,cols:12,rowHeight:20,width:window.innerHeight,children:[ae.jsxs("div",{style:{padding:3,cursor:"pointer"},children:[ae.jsx("h5",{style:{marginLeft:10},children:"System Prompt"}),ae.jsx("textarea",{defaultValue:g,style:{whiteSpace:"pre-line",padding:10,display:"block",width:"100%",height:"calc(100% - 83px)",resize:"none"},onChange:L=>m(L.target.value),onMouseDown:L=>L.stopPropagation()})]},"b"),ae.jsxs("div",{style:{padding:3,cursor:"pointer"},children:[ae.jsx("h5",{style:{marginLeft:10},children:"User Prompt"}),ae.jsx("textarea",{defaultValue:y,style:{whiteSpace:"pre-line",padding:10,display:"block",margin:"0 auto",width:"98%",height:"calc(100% - 83px)",resize:"none"},onChange:L=>v(L.target.value),onMouseDown:L=>L.stopPropagation()})]},"c"),ae.jsxs("div",{style:{padding:3,cursor:"pointer"},children:[ae.jsx("h5",{style:{display:"inline-block",width:60,marginLeft:10},children:"PDF Text"}),ae.jsx(Rw,{id:"json-viewer",onMouseDown:L=>L.stopPropagation(),indent:"9",expanded:"1",theme:"helios","show-data-types":"false","show-toolbar":"false","expand-icon-type":"arrow","show-copy":"true","show-size":"true",data:A})]},"e"),ae.jsxs("div",{style:{padding:3,cursor:"pointer"},children:[ae.jsx("h5",{style:{display:"inline-block",width:60,marginLeft:10},children:"Result"}),k]},"d")]}),[r,S,x,A]);return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{style:{width:"100%",minWidth:600,height:"calc(100vh - 20px)",minHeight:400},children:[M,ae.jsxs("div",{style:{scale:2,transformOrigin:"bottom center",position:"fixed",bottom:"10px",left:0,width:"100%",textAlign:"center"},children:[ae.jsx("button",{onClick:()=>{var L;(L=document.querySelector("#pdf-file"))==null||L.click()},children:"Extract PDF"}),ae.jsx("input",{ref:f,type:"file",accept:"application/pdf",onChange:L=>{(async()=>{var H,Y,$,it;if((Y=(H=L.target)==null?void 0:H.files)!=null&&Y[0]){const st=(it=($=L.target)==null?void 0:$.files)==null?void 0:it[0];console.log(L.target.files);const tt=(window.URL||window.webkitURL).createObjectURL(st),Z=await D(tt);_(Z),R(st==null?void 0:st.name)}})()},hidden:!0,id:"pdf-file"}),ae.jsx("button",{type:"button",style:{cursor:"pointer"},disabled:!A,onClick:()=>{(async()=>{try{a(!0);const L=await fetch("https://bkrrw6miee.execute-api.ap-northeast-2.amazonaws.com/staging/summarize-pdf-text",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({systemPrompt:g,userPrompt:y,pdfText:A,fileName:T})});w(await L.json()),localStorage.setItem("userPrompt",y),localStorage.setItem("systemPrompt",g),a(!1)}catch(L){a(!1),alert(JSON.stringify(L))}})()},children:"Run"})]})]}),ae.jsx("div",{style:{display:i?"block":"none",background:"rgba(0,0,0,0.3)",position:"fixed",top:0,height:"100%",left:0,width:"100%",overflow:"hidden"},children:ae.jsx("div",{className:"loader"})})]})}VC.createRoot(document.getElementById("root")).render(ae.jsx(En.StrictMode,{children:ae.jsx(iM,{})}));
